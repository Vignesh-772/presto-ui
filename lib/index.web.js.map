{"version":3,"file":"index.web.js","mappings":"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","sources":["webpack://presto-ui/./index.js","webpack://presto-ui/./src/PrestoUIInterface.js","webpack://presto-ui/./src/WEB/AndroidInterface.js","webpack://presto-ui/./src/WEB/ListPresto.js","webpack://presto-ui/./src/WEB/MapAttributes.js","webpack://presto-ui/./src/WEB/Render.js","webpack://presto-ui/./src/WEB/Utils.js","webpack://presto-ui/./src/animations.js","webpack://presto-ui/./src/baseView.js","webpack://presto-ui/./src/compute.js","webpack://presto-ui/./src/doms/index.js","webpack://presto-ui/./src/doms/web.js","webpack://presto-ui/./src/handler.js","webpack://presto-ui/./src/helper.js","webpack://presto-ui/./src/helpers/common/callbackInvoker.js","webpack://presto-ui/./src/helpers/common/callbackMapper.js","webpack://presto-ui/./src/helpers/common/index.js","webpack://presto-ui/./src/helpers/index.js","webpack://presto-ui/./src/helpers/web/index.js","webpack://presto-ui/./src/helpers/web/parseParams.js","webpack://presto-ui/./src/init.js","webpack://presto-ui/webpack/bootstrap","webpack://presto-ui/webpack/before-startup","webpack://presto-ui/webpack/startup","webpack://presto-ui/webpack/after-startup"],"sourcesContent":["/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nmodule.exports = {\n\tinit: require(\"./src/init\"), \n\tdoms : require(\"./src/doms\"),\n\thandler : require(\"./src/handler\"),\n\thelpers : require(\"./src/helpers\"),\n\tbaseView : require(\"./src/baseView\"),\n\tanimations: require('./src/animations'),\n\tcallbackMapper: require('./src/helpers/common/callbackMapper'),\n\tgetOS: require('./src/helper').getOS,\n\tprestoMerge: require('./src/helper').merge,\n\tprestoClone: require('./src/helper').clone\n};\n","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nvar prestoDom = require(\"./doms\");\nvar helpers = require(\"./helpers\")\nvar webParseParams;\nvar iOSParseParams;\nvar parseParams;\nconst helper = require('./helper');\n\nif (window.__OS === \"WEB\") {\n  webParseParams = helpers.web.parseParams;\n} else if (window.__OS === \"IOS\") {\n  iOSParseParams = helpers.ios.parseParams;\n} else if (window.__OS === \"ANDROID\") {\n  parseParams = helpers.android.parseParams;\n}\n\nfunction domAll(elem) {\n  if (!elem.__ref) {\n    elem.__ref = createPrestoElement();\n  }\n\n  if (elem.props.id) {\n    elem.__ref.__id = parseInt(elem.props.id, 10) || elem.__ref.__id;\n  }\n\n  var type = helper.clone(elem.type,null);\n  var props = helper.clone(elem.props,null);\n\n  if (props.focus == false &&  window.__OS === \"ANDROID\") {\n    delete props.focus;\n  }\n\n  var children = [];\n\n  for (var i = 0; i < elem.children.length; i++) {\n    children.push(domAll(elem.children[i]));\n  }\n\n\n  if (__OS == \"WEB\" && props.onResize) {\n    window.__resizeEvent = props.onResize;\n  }\n\n  props.id = elem.__ref.__id;\n  if(elem.parentType && window.__OS == \"ANDROID\")\n    return prestoDom({elemType: type, parentType: elem.parentType}, props, children);\n\n  return prestoDom(type, props, children);\n}\n\nfunction getDomToRender(elem) {\n  var res = domAll(elem);\n  if (window.__OS == \"ANDROID\") {\n    return JSON.stringify(res);\n  } else {\n    return res;\n  }\n}\n\n\n// Not exported\nfunction cmdForAndroid(config, set, type) {\n  if (set) {\n    if (config.id) {\n      var obj = parseParams(type, config, \"set\");\n      var cmd = obj.runInUI.replace(\"this->setId\", \"set_view=ctx->findViewById\").replace(/this->/g, \"get_view->\");\n      cmd = cmd.replace(/PARAM_CTR_HOLDER[^;]*/g, \"get_view->getLayoutParams;\");\n      obj.runInUI = cmd;\n      return obj;\n    } else {\n      console.error(\"ID null, this is not supposed to happen. Debug this or/and raise a issue in bitbucket.\");\n    }\n    return {};\n  }\n\n  var _id = config.id;\n  var cmd = \"set_view=ctx->findViewById:i_\" + _id + \";\";\n  // var runInUI;\n  delete config.id;\n  config.root = \"true\";\n  var obj = parseParams(type, config, \"get\");\n  obj.runInUI = cmd + obj.runInUI + ';';\n  obj.id = _id;\n  return obj;\n}\n\nfunction getRunInUICmd(prop) {\n  var cmd;\n  if (window.__OS == \"ANDROID\") {\n    cmd = cmdForAndroid(prop, true, \"linearLayout\").runInUI;\n  } else if (window.__OS == \"IOS\"){\n    cmd = prop;\n  } else {\n    cmd = webParseParams(\"linearLayout\", prop, \"set\");\n  }\n  return cmd;\n}\n\n\n\n// Not exported\nfunction applyProp(element, attribute, set) {\n  var prop = {\n    id: element.__ref.__id\n  }\n  prop[attribute.value0] = attribute.value1;\n\n  if (attribute.value0 == 'focus' && attribute.value1 == false &&  window.__OS == \"ANDROID\") {\n    return;\n  }\n\n  if (window.__OS == \"ANDROID\") {\n    var cmd = cmdForAndroid(prop, set, element.type);\n    if (Android.updateProperties) {\n      Android.updateProperties(JSON.stringify(cmd));\n    } else {\n      Android.runInUI(cmd.runInUI, null);\n    }\n  } else if (window.__OS == \"IOS\"){\n    Android.runInUI(prop);\n  } else {\n    Android.runInUI(webParseParams(\"linearLayout\", prop, \"set\"));\n  }\n  // Android.runInUI(parseParams(\"linearLayout\", prop, \"set\"));\n}\n\nfunction replaceView(element, attribute, removeProp) {\n  // console.log(\"REPLACE VIEW\", element.__ref.__id, element.props);\n  var props = helper.clone(element.props,null);\n  props.id = element.__ref.__id;\n  var rep;\n  var viewGroups = [\"linearLayout\", \"relativeLayout\", \"scrollView\", \"frameLayout\", \"horizontalScrollView\"];\n\n  if (viewGroups.indexOf(element.type) != -1){\n    props.root = true;\n    rep = prestoDom(element.type, props, []);\n  } else if (window.__OS == \"ANDROID\") {\n    rep = prestoDom({elemType: element.type, parentType: element.parentNode.type}, props, []);\n  } else {\n    rep = prestoDom(element.type, props, []);\n  }\n  if(window.__OS == \"ANDROID\"){\n    Android.replaceView(JSON.stringify(rep), element.__ref.__id);\n  } else {\n    Android.replaceView(rep, element.__ref.__id);\n  }\n}\n\n\nfunction createPrestoElement() {\n    if(typeof(window.__ui_id_sequence) != \"undefined\" && window.__ui_id_sequence != null) {\n        return { __id : ++window.__ui_id_sequence };\n    } else {\n        window.__ui_id_sequence = typeof Android.getNewID == \"function\" ? parseInt(Android.getNewID()) * 1000000 : window.__PRESTO_ID ;\n        return { __id : ++window.__ui_id_sequence };\n    }\n};\n\n\nfunction moveChild(child, parent, index) {\n  Android.moveView(child.__ref.__id, index);\n}\n\n\n\nfunction removeChild(child, parent, index) {\n  // console.log(\"Remove child :\", child.type);\n  Android.removeView(child.__ref.__id + \"\");\n}\n\nfunction addChild(child, parent, index) {\n  if(child.type == null) {\n    console.warn(\"child null\");\n  }\n  // console.log(\"Add child :\", child.__ref.__id, child.type);\n  var viewGroups = [\"linearLayout\", \"relativeLayout\", \"scrollView\", \"frameLayout\", \"horizontalScrollView\"];\n  if (window.__OS == \"ANDROID\") {\n    if (viewGroups.indexOf(child.type) != -1){\n      child.props.root = true;\n    } else {\n      child.parentType = parent.type;\n    }\n    Android.addViewToParent(parent.__ref.__id + \"\", JSON.stringify(domAll(child)), index, null, null);\n  }\n  else\n    Android.addViewToParent(parent.__ref.__id, domAll(child), index, null, null);\n}\n\nfunction addAttribute(element, attribute) {\n  // console.log(\"add attr :\", attribute);\n  element.props[attribute.value0] = attribute.value1;\n  applyProp(element, attribute, true);\n}\n\nfunction removeAttribute(element, attribute) {\n  // console.log(\"remove attr :\", attribute);\n  replaceView(element, attribute, true);\n}\n\nfunction updateAttribute(element, attribute) {\n  // console.log(\"update attr :\", attribute);\n  element.props[attribute.value0] = attribute.value1;\n\n  applyProp(element, attribute, false);\n}\n\n\nfunction insertDom(root, dom, cb) {\n  root.children.push(dom);\n  dom.parentNode = root;\n  dom.__ref = createPrestoElement();\n  window.N = root;\n\n  var rootId = window.__ROOTSCREEN.idSet.root;\n\n  dom.props.root = true;\n\n  var length = window.__ROOTSCREEN.idSet.child.push(dom.__ref.__id);\n\n  var callback = window.callbackMapper(executePostProcess(cb));\n  if (window.__OS == \"ANDROID\") {\n    Android.addViewToParent(rootId + \"\", JSON.stringify(domAll(dom)), length - 1, callback, null);\n  }\n  else {\n    Android.addViewToParent(rootId, domAll(dom), length - 1, callback, null);\n  }\n\n  return dom.__ref.__id;\n\n}\n\n\nfunction executePostProcess(cb) {\n  return function() {\n    cb();\n\n    if(window.__dui_screen && window[\"afterRender\"]) {\n      for (var tag in window[\"afterRender\"][window.__dui_screen]) {\n        try {\n          window[\"afterRender\"][window.__dui_screen][tag]()();\n          window[\"afterRender\"][window.__dui_screen][\"executed\"] = true;\n        }\n        catch (err) {\n          console.warn(err);\n        }\n      }\n    }\n\n    if (JBridge && JBridge.setShadow) {\n      for (var tag in window.shadowObject) {\n        JBridge.setShadow(window.shadowObject[tag][\"level\"],\n            JSON.stringify(window.shadowObject[tag][\"viewId\"]),\n            JSON.stringify(window.shadowObject[tag][\"backgroundColor\"]),\n            JSON.stringify(window.shadowObject[tag][\"blurValue\"]),\n            JSON.stringify(window.shadowObject[tag][\"shadowColor\"]),\n            JSON.stringify(window.shadowObject[tag][\"dx\"]),\n            JSON.stringify(window.shadowObject[tag][\"dy\"]),\n            JSON.stringify(window.shadowObject[tag][\"spread\"]),\n            JSON.stringify(window.shadowObject[tag][\"factor\"])\n        );\n      }\n    } \n  }\n}\n\nmodule.exports = {\n  domAll: domAll,\n  getDomToRender: getDomToRender,\n  getRunInUICmd: getRunInUICmd,\n  replaceView: replaceView,\n  createPrestoElement: createPrestoElement,\n  moveChild: moveChild,\n  removeChild: removeChild,\n  addChild: addChild,\n  addAttribute: addAttribute,\n  removeAttribute: removeAttribute,\n  updateProperty: updateAttribute,\n  addProperty: addAttribute,\n  insertDom: insertDom\n};\n\n","/*\n * Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n * JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n *\n * This file is part of JUSPAY Platform.\n *\n * JUSPAY Platform is free software: you can redistribute it and/or modify\n * it for only educational purposes under the terms of the GNU Affero General\n * Public License (GNU AGPL) as published by the Free Software Foundation,\n * either version 3 of the License, or (at your option) any later version.\n * For Enterprise/Commerical licenses, contact <info@juspay.in>.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n * be liable for all damages without limitation, which is caused by the\n * ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n * damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n * The end user has NO right to claim any indemnification based on its use\n * of Licensed Software. See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n */\n\nvar {\n  inflateView,\n  computeChildDimens,\n  List,\n  postComputeLayoutDimens,\n  preComputeLayoutDimens,\n  postCompute,\n  isChrome50,\n  handleMatchParentChrome50\n} = require(\"./Render\");\nvar helper = require('../helper');\nvar callbackInvoker = require(\"../helpers/common/callbackInvoker\");\nconst { diffArray } = require(\"./ListPresto\");\nconst {setUseHintColor} = require(\"./MapAttributes\");\n\nvar {addToContainerList, getContainer, getParentView} = require('./Utils')\n\nfunction getScreenDimensions(namespace) {\n  let element = getContainer(namespace);\n  return JSON.stringify({\n    width: element.offsetWidth,\n    height: element.offsetHeight\n  });\n}\n\n// Due to jos, PrestoDOM's document is different from the DOM Document which actaully contains the nodes.\n// This utility function allows PrestoDOM to acquire an actual DOM object.\nfunction getUIElement(id, namespace){\n  var ele = document.getElementById(id);\n  return ele;\n}\n\nfunction findSiblingView(parentView, id) {\n  for (let i = 0; i < parentView.children.length; i++) {\n    if(parentView.children[i].props.id == id){\n      if(i != 0)\n        return parentView.children[i-1]\n      else\n        return   parentView\n    }\n  }\n  return null;\n}\n\nfunction isOrientatationChanged(props){\n  if(props['orientation'])\n    return false;\n  return true;\n}\n\nfunction runInUI(cmd, namespace) {\n  if (typeof cmd == \"string\")\n    return\n    let id = cmd.id\n    if(id){\n      let elem = document.getElementById(id)\n\n      if(elem){\n        let view = window.__VIEWS[id]\n        if(cmd.itemView){\n          return;\n        }\n        if(!cmd.listData && view.listData)\n          return;\n\n        if(cmd.listData){\n          //diffing arrrays to find the difference between old data and new data\n          //console.time('diffArray')\n          console.log(\"diff\")\n          var x = cmd.listData\n          if(typeof cmd.listData == \"string\"){\n            x = JSON.parse(cmd.listData)\n          }\n          view.props.diffArray = List.diffArray(view.props.itemDatas,x);\n          //console.dir(view.props.diffArray)\n          //console.timeEnd('diffArray')\n\n          //no difference in data\n          if(view.props.diffArray==[]){\n            return;\n          }\n        }\n        view.props = helper.merge(view.props, cmd)\n\n        let parentId = null\n        let parentElement = null\n        let parentView = null\n\n        let stopChild = isOrientatationChanged(cmd);\n        parentId = elem.parentNode.id\n\n        if(parentId){\n          parentView = window.__VIEWS[parentId]\n          parentElement = document.getElementById(parentId)\n\n          if(parentElement && parentView){\n            let siblingView = findSiblingView(parentView,id);\n            computeChildDimens(parentView);\n            let computeList = [];\n            // if(view.type == \"relativeLayout\")\n            //   computeList.push(view.props.id);\n            var chrome50matchList;\n            if(isChrome50()) {\n              chrome50matchList = {h : [], w: []}\n            }\n            inflateView({view, parentElement, siblingView, renderStyle: true,stopChild,isListItem:true, computeList, chrome50matchList});\n            let parent = view.parent;\n            for (var i =0;i<parentView.children.length;i++){\n              if(parentView.children[i].props.id == view.props.id){\n                parentView.children[i] = view\n              }\n            }\n            while(parent && parent.type==\"relativeLayout\"){\n              computeList.unshift(parent.props.id)\n              parent=parent.parent;\n            }\n            postCompute(computeList);\n            handleMatchParentChrome50(chrome50matchList)\n          }\n        }\n      }\n    }\n    if(window.focusedElement) {\n      let elem = document.getElementById(window.focusedElement);\n      if(elem) {\n        elem.focus();\n      }\n      window.focusedElement = undefined;\n    }\n    \n  //recompute()\n  //Render.runInUI(cmd)\n}\n\nfunction Render(view, cb, namespace) {\n  let parentElement = getContainer(namespace);\n  // console.debug(\"presto content element found?? \",parentElement);\n  let parentView = getParentView(namespace, view);\n  \n  if(parentView.oldView) {\n    addViewToParent(parentElement.id, view, parentView.children.indexOf(view), cb, false)\n  } else if (window.generateVdom == false){\n    if (cb) callbackInvoker.invoke(cb);\n  }\n  else{\n    computeChildDimens(parentView);\n    let computeList = [];\n    const elem = inflateView({view, parentElement,computeList});\n    postCompute(computeList);\n    const elements= document.getElementById('content');\n    if (cb) callbackInvoker.invoke(cb);\n  }\n}\n\nfunction getUpdatedChildren(parent, view, index) {\n  var children = parent.children;\n  children.splice(children.indexOf(view), 1);\n  children.splice(index, 0, view);\n  return children;\n}\n\nfunction moveView(id, index) {\n  if (!window.__VIEWS[id]) {\n    return console.error(new Error(\"MoveView: Invalid view ID: \" + id));\n  }\n  var view = window.__VIEWS[id];\n  var viewElem = document.getElementById(id);\n  var parentId = viewElem.parentNode.id;\n  var parent = window.__VIEWS[parentId];\n  var parentElem = document.getElementById(parentId);\n  var children = getUpdatedChildren(parent,view,index);\n  parentElem.insertBefore(viewElem, parentElem.children[index]);\n  computeChildDimens(parent)\n  if(window.focusedElement) {\n    let elem = document.getElementById(window.focusedElement);\n    if(elem) {\n      elem.focus();\n    }\n    window.focusedElement = undefined;\n  }\n}\n\n\n// Android.addViewToParent(rootId, dom_all, length (window.__ROOTSCREEN.idSet.child) - 1 , callback, null); -- call to this function\nfunction addViewToParent(id, view, index, cb, replace, namespace) {\n  // console.log(\"addViewToParent document location is\",document.location);\n  let parentElement = document.getElementById(id)\n  let parentView = window.__VIEWS[id]\n  view.parent = parentView;\n  let siblingView = null\n\n  if(!parentElement || !parentView){\n    console.error(`Parent element with id: ${id} not found`);\n    return;\n  }\n\n  parentView.children.splice(index, 0, view)\n\n  if(index == 0)\n    siblingView = parentView\n  else\n    siblingView = parentView.children[index-1]\n\n  preComputeLayoutDimens(parentView)\n  let computeList = []\n  var chrome50matchList;\n  if(isChrome50()) {\n    chrome50matchList = {h : [], w: []}\n  }\n  computeChildDimens(parentView);\n  var elem = inflateView({view,  siblingView, namespace, computeList, chrome50matchList}) // pass parent element as null, so that the element created doesn't immediately get attached to the DOM\n  var pv = parentView\n  var pe = parentElement\n  while(pv && pv.type == \"relativeLayout\") {\n    // postComputeLayoutDimens(pv, pe);\n    computeList.unshift(pv.props.id);\n    pv = pv.parent\n    pe = pe.parentElement\n  }\n  // attach the elem to live dom once the elem has been constructed (parentElem is the liveDOM)\n  if (parentElement) {\n    let siblingElement = siblingView ? document.getElementById(siblingView.props.id) : null;\n\n    if (siblingElement && siblingElement != undefined) {\n        if (parentElement == siblingElement) { // Prepend\n            parentElement.insertBefore(elem, parentElement.childNodes[0]);\n          }\n        else { // Insert in specified position\n            let nextSiblingElement = siblingElement.nextSibling;\n            parentElement.insertBefore(elem, nextSiblingElement);\n          }\n      }\n    else {\n        parentElement.appendChild(elem);\n    }\n  }\n  if (!window.hasAnimationProps && window.focusedElement !== undefined){\n    var c = document.getElementById(window.focusedElement);\n    window.focusedElement = undefined;\n    if (c) {\n        c.focus();\n    }\n  }\n  postCompute(computeList);\n  handleMatchParentChrome50(chrome50matchList)\n  if (cb) callbackInvoker.invoke(cb);\n}\n\nfunction removeView(id, namespace) {\n  let viewElem = document.getElementById(id);\n  if(!viewElem){\n    helper.clearViewExternals(view)\n    return\n  }\n\n  let parentId = viewElem.parentNode.id\n  if(!parentId){\n    helper.clearViewExternals(view)\n    viewElem.remove()\n    return\n  }\n\n  let parentElem = document.getElementById(parentId);\n  if(!parentElem){\n    helper.clearViewExternals(view)\n    viewElem.remove()\n    return\n  }\n\n  let view = window.__VIEWS[id]\n\n  if(!view || !view.type)\n    return\n\n  let parent = null\n  let idx\n\n  parent = window.__VIEWS[parentId]\n  if (parent) {\n    idx = parent.children.indexOf(view)\n    parent.children.splice(idx, 1)\n    helper.clearViewExternals(view)\n  }\n  viewElem.remove()\n}\n\nfunction replaceView(view, id, namespace) {\n  let elem = document.getElementById(id)\n  if(!elem)\n    return\n\n  let parentId = elem.parentNode.id\n  let parentElem = document.getElementById(parentId)\n  let parentView = window.__VIEWS[parentId]\n\n  let oldView = null\n  let siblingView = null\n\n  for (let i = 0; i < parentView.children.length; i++) {\n    if(parentView.children[i].props.id == id){\n      oldView = parentView.children[i]\n\n      if(i != 0)\n        siblingView = parentView.children[i-1]\n      else\n        siblingView = parentView\n      break;\n    }\n  }\n\n  if(!oldView)\n    return\n\n  /* Get Children */\n  let childrenElem = []\n  let children = oldView.children\n\n  if(elem && children){\n    for(let i = 0; i < children.length; i++){\n      let childId = children[i].props.id\n      let childElem = document.getElementById(childId)\n\n      if(childElem)\n        childrenElem.push(childElem)\n    }\n  }\n  /* Get Children End */\n\n  oldView.props = view.props\n  parentElem.removeChild(elem)\n  let computeList = []\n  var chrome50matchList;\n  if(isChrome50()) {\n    chrome50matchList = {h : [], w: []}\n  }\n  inflateView({view:oldView, parentElement: parentElem, siblingView, stopChild : true, computeList, chrome50matchList});\n  window.__VIEWS[id] = oldView\n  \n  /* Append Children */\n  elem = document.getElementById(id)\n  \n  if(elem && childrenElem.length > 0){\n    for(let i = 0; i < childrenElem.length; i++){\n      elem.appendChild(childrenElem[i])\n    }\n  }\n  postCompute(computeList);\n  handleMatchParentChrome50(chrome50matchList)\n  /* Append Children End */\n  if(window.focusedElement) {\n    let elem = document.getElementById(window.focusedElement);\n    if(elem) {\n      elem.focus();\n    }\n    window.focusedElement = undefined;\n  }\n}\n\nfunction addEventListeners(eventListeners) {\n  for(var i = 0; i<eventListeners.length; i++ ){\n      var view = eventListeners[i].view;\n      var props = view.props\n      var id = eventListeners[i].id;\n      let elem = document.getElementById(id)\n      if(!elem)\n        continue\n      let key = eventListeners[i].event\n      let eventType = key.substring(2, key.length).toLowerCase()\n      if (props.hasOwnProperty(key) && typeof props[key] == \"function\") {\n          const callback = props[key]\n          if (key == \"onEnterPressedEvent\") {\n              elem.addEventListener('keyup', (e) => {\n                  e.stopPropagation()\n\n                  if (e.keyCode == 13) {\n                      callback(e)\n                  }\n              })\n          }\n          if (eventType == \"change\") {\n              elem.addEventListener('input', (e) => {\n                  callback(e.target.value)\n              })\n          } else if (eventType == \"focus\"){\n              elem.addEventListener('focus', (e) => {\n                  callback(\"true\")\n              })\n              elem.addEventListener('blur', (e) => {\n                  callback(\"false\")\n              })\n          } else {\n              props.oldEventListener = props.oldEventListener || {};\n              if (typeof props.oldEventListener[eventType] == \"function\") {\n                  elem.removeEventListener(eventType, props.oldEventListener[eventType]);\n              }\n              props.oldEventListener[eventType] = (e) => {\n                  e.stopPropagation();\n                  callback(e)\n              };\n              elem.addEventListener(eventType, props.oldEventListener[eventType]);\n          }\n      }\n  }\n}\n// function recompute() {\n//   const rootnode = document.getElementById('content');\n//   const child = rootnode.firstElementChild;\n//   const rootview = window.__VIEWS[child.id];\n//   Render(rootview, null);\n// }\n\nfunction getNewID() {\n  window.JOS_PRESTO_ID = window.JOS_PRESTO_ID || 1;\n  return window.JOS_PRESTO_ID++;\n}\n\nfunction getWindow() {\n  return window;\n}\n\nfunction getDocument() {\n  return document;\n}\n\nmodule.exports = {\n  addToContainerList : addToContainerList,\n  \n  getScreenDimensions: getScreenDimensions,\n\n  getUIElement : getUIElement,\n\n  runInUI: runInUI,\n\n  Render: Render,\n\n  addViewToParent: addViewToParent,\n  \n  moveView: moveView,\n\n  removeView: removeView,\n\n  replaceView: replaceView,\n\n  addEventListeners: addEventListeners,\n\n  getNewID: getNewID,\n\n  getWindow: getWindow,\n\n  getDocument: getDocument,\n\n  setUseHintColor : setUseHintColor\n  \n};","\n\n//view.data= itemView && holderViews\n//itemView=template\n//holderViews= array of props that will be changed from the template\n\nconst {invoke} = require(\"../helpers/common/callbackInvoker\")\nconst {clone} = require(\"../helper\")\n\n//sets the holder attributes\nlet setChildAttributes = function(view,holder,itemData,index){\n    \n    for(var key in holder) {\n        if(key == 'onClick') {\n            let onClickFunction =()=> invoke(holder.onClick,index);\n            view.props.onClick = onClickFunction;\n        } else if (itemData.hasOwnProperty(holder[key])) {\n            view.props[key] = itemData[holder[key]]\n        }\n    }\n}\n\nlet setList = function(view,holderViews,itemData,index){\n    if(holderViews[view.props.holderId]){\n        setChildAttributes(view,holderViews[view.props.holderId], itemData,index);\n    }\n    for(let i=0;i<view.children.length;i++){\n        setList(view.children[i], holderViews, itemData,index);\n    }\n    return view;\n    \n}\n\n//gets the mapped view\nlet getItemView = function(view,holderViews,itemData,index){\n\n    if(holderViews[view.props.holderId]  ){\n        setChildAttributes(view,holderViews[view.props.holderId], itemData,index);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              \n    }\n    if(view.children)\n    for(let i=0;i<view.children.length;i++){\n        setList(view.children[i], holderViews, itemData, index);\n    }\n    return view;\n    \n}\n\n\n\n//returns \"filter\" if arrays are of different length\n//returns the indexes which have different elements in it\nfunction diffArray(oldItems,newItems){\n    if(oldItems.length!=newItems.length)\n        return \"filter\";\n    let diffIndexes=[];\n    let limit = 10\n    limit = newItems.length>10?10:newItems.length;\n    for(let i =0;i<newItems.length;i++)\n    {\n        let keys = Object.keys(newItems[i]);\n        if(keys)\n        for(let key of keys)\n        {\n            if(newItems[i][key] != oldItems[i][key]){\n                diffIndexes.push(i);\n                break;\n            }\n        }\n    }\n    return diffIndexes;\n}\n\n\n\n  \nfunction mergeHolderViews(holderViews){\n    let finalHolder = {};\n    for(let i=0;i<holderViews.length;i++){\n        if(finalHolder[holderViews[i].id] == undefined){\n            finalHolder[holderViews[i].id] = {};\n        }\n        for(let key in holderViews[i]){\n            finalHolder[holderViews[i].id][key] = holderViews[i][key];\n        }\n    }\n    return finalHolder;\n}\n\n\n\n//generates the list items views\nfunction createListView(view){\n    view.props.data.holderViews = mergeHolderViews(view.props.data.holderViews);\n    view.children=[]\n    changeItemView(view.props.data.itemView);\n    for(let i=0;i<view.props.itemDatas.length;i++){\n        let cloneTemplate = clone(view.props.data.itemView);\n        let childView = getItemView(cloneTemplate,view.props.data.holderViews,view.props.itemDatas[i],i)\n        view.children.push(childView);\n    }\n}\n\nlet itemClick = function(onItemClick){\n    return function(){\n        return function(){\n            onItemClick(i);\n        }\n    }\n}\n\n//Get the child element for a particular index\nlet getChildItemViewByIndex = function(view,i){\n    let cloneTemplate = clone(view.props.data.itemView);\n    // if(view.props.hasOwnProperty('onItemClick')){\n    //     let onItemClick = view.props.onItemClick;\n    //     cloneTemplate.props.onClick =itemClick(onItemClick)(i);\n    // }\n    let res= getItemView(cloneTemplate,view.props.data.holderViews,view.props.itemDatas[i],i)\n    return res;\n}\n\n\n//reformat the template\nfunction changeItemView(view)\n{\n    view.props.holderId = view.props.id;\n    view.props.id = undefined;\n    if(view.children)\n        for( let child of view.children)\n            changeItemView(child);\n}\n\n\nmodule.exports={diffArray,createListView,getItemView,getChildItemViewByIndex};\n\n//newinflated -> isNewInflated\n//add spaces\n//add summary","let utils = require(\"./Utils\");\n\nlet useHintColor = false;\n\nfunction mapPropToStyle(element,props,type){\n    let ele_style = \"\";\n    ele_style += addProps(props);\n    ele_style += addFontProp(props);\n    ele_style += addTransformProp(props);\n    ele_style += addStrokeProp(props);\n    ele_style += addGradientProp(props);\n    ele_style += addRotateProp(props);\n    ele_style += addShadowProp(props);\n    ele_style += addTypeSpecificProp(type,props);\n\n    // TODO: mapPropToStyle should not do these side effect, when merging Render.js and MapAttributes.js, seperate out these functions from here.\n    ele_style += addSetInputTypeProp(element,props); // also sets an attribute on mutable element\n    // setElemAttributes(element,props);\n\n    return ele_style;\n}\n\nlet initializeShow = function (elem, props, type) {\n    var style = \"\";\n    if (type == 'linearLayout') {\n        if (props.hasOwnProperty('width') && props.width == 'wrap_content') {\n            style += \"display: inline-flex;\";\n            style += \"width: max-content;\";\n            // elem.style.display = 'inline-flex';\n            // elem.style.width = 'max-content';\n        } else {\n            style += \"display: flex;\";\n            //elem.style.display = \"flex\";\n        }\n    } else {\n        if (props.hasOwnProperty('width') && props.width == 'wrap_content') {\n            style += \"display:inline-block;\";\n            style += \"width:max-content;\";\n            // elem.style.display = 'inline-block';\n            // elem.style.width = 'max-content';\n        } else {\n            // iFrame/webView display is set to none by default in hyper-sdk-web.\n            // enabling explicitly for visible case.\n            if(type == 'webView') {\n                style += \"display: block;\";\n            }\n            // style += \"display:'';\";\n        //    elem.style.display = '';\n        }\n    }\n    return style;\n}\n\n// Author's Note: Haskel's pattern matching would've made this code prettier. - Convert Presto to Purs?\n// fontStyle take precedence over fontFamily\nfunction addProps(props){\n\n    let ele_style = \"\";\n\n    if ((props.hasOwnProperty(\"onClick\") || props.hasOwnProperty(\"onClickEvent\"))) {\n        if(window.innerWidth > 550 && !props.cursorType) {ele_style += \"cursor:pointer;\";}\n    }\n\n    if (props.hasOwnProperty(\"cursorType\")) { ele_style += \"cursor: \" + props.cursorType + \";\"; }\n\n    if (props.hasOwnProperty(\"textSize\"))   { ele_style += \"font-size: \" + props.textSize + \"px;\"; }\n\n    if (props.hasOwnProperty(\"fontSize\"))   { ele_style += \"font-size: \" + props.fontSize + \"px;\"; }\n\n    if (props.hasOwnProperty(\"backgroundColor\")) { ele_style += \"background-color: \" + utils.parseColors(props.backgroundColor) + \";\"};\n\n    if (props.hasOwnProperty(\"background\") && !props.hasOwnProperty(\"shouldShimmer\")) { ele_style += \"background: \" + utils.parseColors(props.background) + \";\"};\n\n    if (props.hasOwnProperty(\"background\") && props.hasOwnProperty(\"shouldShimmer\") && props.shouldShimmer) {\n        shimmerColor = utils.parseColors(props.background);\n        ele_style += \"animation : shimmer 2s infinite;\";\n        ele_style += \"background-color: \" + shimmerColor + \";\";\n        ele_style += \"background-repeat: no-repeat;\";\n        ele_style += \"background-image: linear-gradient(to right,\" + shimmerColor + \" 0%, #e0e0e0 20%, \" + shimmerColor + \" 40%, \" + shimmerColor + \" 100%);\";\n        ele_style += \"background-size: \" + props.width + \" 100%;\";\n    }\n\n    if (props.hasOwnProperty(\"backgroundDrawable\")) { ele_style += \"background-image: \" + \"url('\"+props.backgroundDrawable+\"')\" + \";\"};\n\n    if (props.hasOwnProperty(\"color\")) { ele_style += \"color: \" + utils.parseColors(props.color) + \";\"};\n\n    if (props.hasOwnProperty(\"position\")) {ele_style += \"position: \" + props.position + \";\"};\n\n    if (props.hasOwnProperty(\"bottomFixed\")) {ele_style += \"bottom: \" + props.bottomFixed + \";\"};\n\n    if (props.hasOwnProperty(\"topFixed\")) {ele_style += \"top: \" + props.topFixed + \";\"};\n\n    if (props.hasOwnProperty(\"leftFixed\")) {ele_style += \"left: \" + props.leftFixed + \";\"};\n\n    if (props.hasOwnProperty(\"rightFixed\")) {ele_style += \"right: \" + props.rightFixed + \";\"};\n\n    if (props.hasOwnProperty(\"zIndex\")) {ele_style += \"z-index:\" + props.zIndex + \";\"};\n\n    if (props.hasOwnProperty(\"cornerRadius\")) {ele_style += \"border-radius:\" + props.cornerRadius + \"px;\"};\n\n    if (props.hasOwnProperty(\"cornerRadii\")) {\n        const [radius, ...corners] = props.cornerRadii.split(',');\n        ele_style += \"border-radius: \" + corners.map(bool => `${bool * radius}px`).join(' ') + \";\";\n    }\n\n    if (props.hasOwnProperty(\"alpha\")) {ele_style += \"opacity:\" + props.alpha + \";\"};\n\n    if (props.hasOwnProperty(\"fontFamily\")) {ele_style += \"font-family:\" + props.fontFamily + \";\"};\n\n    if (props.hasOwnProperty(\"blurBackground\") && props.blurBackground) {ele_style += \"backdrop-filter: blur(3px)\";}\n\n    if (props.hasOwnProperty(\"lineHeight\")) {ele_style += \"line-height: \" + props.lineHeight + \";\";}\n\n    if (props.hasOwnProperty(\"objectFit\")) {ele_style += \"object-fit: \" + props.objectFit + \";\";}\n\n    if (props.hasOwnProperty(\"clickable\")) {ele_style += \"pointer-events: \" + (props.clickable ? \"auto\" : \"none\") + \";\";}\n\n    if (props.hasOwnProperty(\"display\")) { ele_style += \"display:\" + props.display + \";\"; }\n\n    if (props.ellipsize) { ele_style += \"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\";}\n\n    return ele_style;\n\n}\n\n// These values are hardcoded likely since same prestoDOM property is being used for Android, iOS and Web\nfunction addFontProp(props){\n\n    let ele_style = \"\";\n\n\n    if (props.typeface) {\n        switch(props.typeface){\n            case 'normal':\n            ele_style += \"font-weight: 400;\";\n            break;\n            case 'bold':\n            ele_style += \"font-weight: 700;\";\n            break;\n            case 'italic':\n            ele_style += \"font-style: italic;\";\n            break;\n            case 'bold_italic':\n            ele_style += \"font-weight: 700;\";\n            ele_style += \"font-style: italic;\";\n            break;\n            case 'underline':\n            ele_style += \"text-decoration: underline;\";\n            break;\n        }\n    }\n\n    if (props.fontStyle) {\n\n        let match = props.fontStyle.match(/[/-]/);\n        let fontName = match ? props.fontStyle.slice(0, match.index) : props.fontStyle;\n\n        ele_style += \"font-family:\" + fontName + \";\";\n\n        if (match) {\n            let type = props.fontStyle.slice(match.index + 1);\n            type = type.replace(/[-/]/g, '');\n            type  = type.toLowerCase();\n\n            if (type.indexOf('italic') != -1)\n                ele_style += \"font-style: italic;\";\n\n            let fontWeight = 0;\n\n            if (type.indexOf('extralight') != -1)\n                fontWeight = 200;\n            else if (type.indexOf('light') != -1)\n                fontWeight = 300;\n            else if (type.indexOf('regular') != -1 || type.indexOf('book') != -1)\n                fontWeight = 400;\n            else if (type.indexOf('semibold') != -1 || type.indexOf('medium') != -1)\n                fontWeight = 500;\n            else if (type.indexOf('bold') != -1 || type.indexOf('heavy') != -1)\n                fontWeight = 700;\n            else if (type.indexOf('black') != -1)\n                fontWeight = 900;\n\n            if(fontWeight > 0)\n                ele_style += \"font-weight:\"+ fontWeight +\";\";\n        }\n    }\n\n\n    return ele_style;\n}\n\n\nfunction addTransformProp(props){\n    let ele_style = \"\";\n    let transform = \"\";\n    if (props.translationX) {transform += \"translateX(\" + props.translationX + \"px) \"};\n\n    if (props.translationY) {transform += \"translateY(\" + props.translationY + \"px) \"};\n\n    if (props.scaleX) {transform += \"scaleX(\" + props.scaleX + \") \"};\n\n    if (props.scaleY) {transform += \"scaleY(\" + props.scaleY + \") \"};\n\n    if (props.rotation) {transform += \"rotate(\" + props.rotation + \") \"};\n\n    if (props.rotationX) {transform += \"rotateX(\" + props.rotationX + \") \"};\n\n    if (props.rotationY) {transform += \"rotateY(\" + props.rotationY + \") \"};\n\n    // if (key == \"translationZ\") {\n    //     var v = config[key];\n    //     config.style[\"-webkit-box-shadow\"] = \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n    //     config.style[\"-moz-box-shadow\"]= \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n    //     config.style[\"box-shadow\"]=  \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n\n    //   }\n    if (transform.length > 0) {ele_style += \"transform : \" + transform + \";\"};\n    return ele_style;\n}\n\n\nfunction addStrokeProp(props){\n\n    var ele_style = \"\";\n\n    if (props.hasOwnProperty(\"stroke\")) {\n      let values = props.stroke.split(\",\");\n      if (values[1]) {\n        values[1] = utils.parseColors(values[1]);\n      }\n      if (values.length == 2) {\n        ele_style += \"border: \" + values[0] + \"px solid \" + values[1] + \";\";\n      } else if (values.length == 3) {\n        strokeMap = {\n          b: \"border-bottom\",\n          t: \"border-top\",\n          r: \"border-right\",\n          l: \"border-left\",\n        };\n\n        for (var i of values[2]) {\n          if (strokeMap[i] !== undefined)\n            ele_style +=\n              strokeMap[i] + \": \" + values[0] + \"px solid \" + values[1] + \";\";\n        }\n      }\n    }\n\n    if (props.hasOwnProperty(\"strokeTop\")) {\n        let values = props.strokeTop.split(\",\");\n        if(values.length == 2)\n            ele_style += \"border-top: \" + values[0] + \"px solid \" + values[1] + \";\";\n        else if(values.length == 3)\n            ele_style += \"border-top: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n    }\n\n    if (props.hasOwnProperty(\"strokeRight\")) {\n        let values = props.strokeRight.split(\",\");\n        if(values.length == 2)\n            ele_style += \"border-right: \" + values[0] + \"px solid \" + values[1] + \";\";\n        else if(values.length == 3)\n            ele_style += \"border-right: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n    }\n\n    if (props.hasOwnProperty(\"strokeBottom\")) {\n        let values = props.strokeBottom.split(\",\");\n        if(values.length == 2)\n            ele_style += \"border-bottom: \" + values[0] + \"px solid \" + values[1] + \";\";\n        else if(values.length == 3)\n            ele_style += \"border-bottom: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n    }\n\n    if (props.hasOwnProperty(\"strokeRight\")) {\n        let values = props.strokeRight.split(\",\");\n        if(values.length == 2)\n            ele_style += \"border-right: \" + values[0] + \"px solid \" + values[1] + \";\";\n        else if(values.length == 3)\n            ele_style += \"border-right: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n    }\n\n    if (props.hasOwnProperty(\"strokeLeft\")) {\n        let values = props.strokeLeft.split(\",\");\n        if(values.length == 2)\n            ele_style += \"border-left: \" + values[0] + \"px solid \" + values[1] + \";\";\n        else if(values.length == 3)\n            ele_style += \"border-left: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n    }\n\n    return ele_style;\n}\n\nfunction addGradientProp(props){\n\n    var ele_style = \"\";\n\n    if (props.hasOwnProperty(\"gradient\")) {\n        var gradientObj =JSON.parse(props.gradient);\n        if (gradientObj.type == \"linear\") {\n          var angle = gradientObj.angle;\n          var values = gradientObj.values;\n          var colors = values.join(\", \");\n          ele_style += \"background-image: \" + \"linear-gradient(\"+angle+\"deg, \"+colors+\");\";\n        }\n        else {\n          var values = gradientObj.values;\n          var colors = values.join(\", \");\n          ele_style += \"background-image: \" + \"radial-gradient(\"+colors+\");\";\n        }\n    }\n\n    return ele_style;\n}\n\nfunction addTransitionValue(props) {\n    //let elem_transition = props.transition == undefined ? \"0ms all\" : props.transition // It will always be undefined lol\n    var transition_val = [String(props.a_duration || 0) +\"ms\",\"all\",props.transitionTimingFunction].filter(Boolean).join(\" \");\n    return \"transition:\" + transition_val + \";\";\n\n\n}\nfunction addSize(view = {}){\n\n    var props = view.props\n    var parentView = view.parent || {}\n    parentView.state = parentView.state || {}\n    view.state = view.state || {}\n    var parentProps = parentView.props || {}\n    // Add elem as an argument if you are gonna uncomment it\n    // elem.style.width = 'auto';\n    // elem.style.height = 'auto';\n    let elem_style = \"width : auto; \";\n    elem_style += \"height: auto; \";\n\n\n    if (props.hasOwnProperty('width')) {\n        if (props.width == 'match_parent' && !parentView.state.treatMatchParentAsWrapWidth) {\n            // treat parent wrap content as wrap_content instead of match_parent\n            if(props.hasOwnProperty('margin')){\n                var margin=props.margin.split(\",\");\n                elem_style += \"width:\" + \"calc(100% - \"+(parseInt(margin[0])+parseInt(margin[2])).toString()+\"px );\";\n            }\n            else elem_style += \"width : 100%; \";\n            //elem.style.width = '100%';\n        } else if (props.width == 'match_parent' && parentView.state.treatMatchParentAsWrapWidth) {\n            view.state.practicalWidth = 'wrap_content'\n        } else if (props.width == 'wrap_content') {\n            view.state.practicalWidth = 'wrap_content';\n        } else if (!isNaN(props.width)) {\n            if (props.hasOwnProperty('percentWidth') && props.percentWidth)\n                elem_style += \"width: \" + props.width + \"%;\";\n                // elem.style.width = props.width + '%';\n            else\n            elem_style += \"width: \" + props.width + \"px;\";\n            //elem.style.width = props.width + 'px';\n        }\n    }\n    if (props.hasOwnProperty('height')) {\n        if (props.height == 'match_parent' && !parentView.state.treatMatchParentAsWrapHeight) {\n            elem_style += \"height: 100%;\";\n            // elem.style.height = '100%';\n        } else if (props.height == 'match_parent' && parentView.state.treatMatchParentAsWrapHeight) {\n            view.state.practicalHeight = 'wrap_content'\n            elem_style += \"height: auto;\";\n            //elem.style.height = \"auto\";\n            // You see below\n        } else if (props.height == 'wrap_content') {\n            view.state.practicalHeight = 'wrap_content'\n        } else if (!isNaN(props.height)) {\n            if (props.hasOwnProperty('percentHeight') && props.percentHeight)\n                elem_style += \"height: \" + props.height + \"%;\";\n//                elem.style.height = props.height + '%';\n            else\n                elem_style += \"height: \" + props.height + \"px;\";\n//            elem.style.height = props.height + 'px';\n        }\n    }\n\n    if (props.hasOwnProperty('minWidth') && !isNaN(props.minWidth)) {\n        if (props.percentMinWidth)\n            elem_style += \"min-width: \" + props.minWidth + \"%;\";\n//            elem.style.minWidth = props.minWidth + '%';\n        else\n            elem_style += \"min-width: \" + props.minWidth + \"px;\";\n\n        //    elem.style.minWidth = props.minWidth + 'px';\n    }\n\n    if (props.hasOwnProperty('minHeight') && !isNaN(props.minHeight)) {\n        if (props.percentMinHeight)\n            elem_style += \"min-height: \" + props.minHeight + \"%;\";\n            // elem.style.minHeight = props.minHeight + '%';\n        else\n            elem_style += \"min-height: \" + props.minHeight + \"px;\";\n            // elem.style.minHeight = props.minHeight + 'px';\n    }\n\n    if (props.hasOwnProperty('maxWidth') && !isNaN(props.maxWidth)) {\n        if (props.percentMaxWidth)\n            elem_style += \"max-width: \" + props.maxWidth + \"%;\";\n//            elem.style.maxWidth = props.maxWidth + '%';\n        else\n            elem_style += \"max-width: \" + props.maxWidth + \"px;\";\n        //            elem.style.maxWidth = props.maxWidth + 'px';\n    }\n\n    if (props.hasOwnProperty('maxHeight') && !isNaN(props.maxHeight)) {\n        if (props.percentMaxHeight)\n            elem_style += \"max-height: \" + props.maxHeight + \"%;\";\n       // elem.style.maxHeight = props.maxHeight + '%';\n        else\n            elem_style += \"max-height: \" + props.maxHeight + \"px;\";\n            //elem.style.maxHeight = props.maxHeight + 'px';\n    }\n    return elem_style;\n}\n\nfunction addBorder(props) {\n    let elem_style = \"\";\n    if (props.hasOwnProperty('padding')) {\n        let padding = props.padding.split(',').map(a => a * 1);\n        elem_style += \"padding: \" + padding[1] + \"px \" + padding[2] + \"px \" + padding[3] + \"px \" + padding[0] + \"px;\";\n//        elem.style['padding'] = padding[1] + 'px ' + padding[2] + 'px ' + padding[3] + 'px ' + padding[0] + 'px';\n    }\n\n    if (props.hasOwnProperty('margin')) {\n        let margin = props.margin.split(',').map(a => a * 1);\n        elem_style += \"margin: \" + margin[1] + \"px \" + margin[2] + \"px \" + margin[3] + \"px \" + margin[0] + \"px;\";\n//        elem.style['margin'] = margin[1] + 'px ' + margin[2] + 'px ' + margin[3] + 'px ' + margin[0] + 'px';\n    }\n    return elem_style;\n}\n\nfunction addVisibility(elem, props, type) {\n    let elem_style = \"\";\n    if (props.hasOwnProperty('visibility')) {\n        let visibility = props.visibility;\n        if (visibility == 'invisible')\n            elem_style += \"visibility: hidden;\";\n            //elem.style.visibility = \"hidden\";\n        else if (visibility == 'gone')\n            elem_style += \"display: none;\";\n            //elem.style.display = \"none\";\n        else {\n            // elem_style += \"visibility: '';\";\n            //elem.style.visibility = '';\n            elem_style += initializeShow(elem, props, type);\n        }\n    } else {\n        elem_style += initializeShow(elem, props, type);\n    }\n    return elem_style;\n}\n\nfunction addExpandability(elem, props, type) {\n    let elem_style = \"\";\n    if (type == \"accordionLayout\" && props.hasOwnProperty('expand')) {\n        elem_style += \"overflow: hidden;\";\n        var anim_duration = 0; // default anim duration in seconds\n        var maxHeight;\n        if (props.hasOwnProperty('maxHeight')) {\n            maxHeight = props.maxHeight;\n        } else {\n            maxHeight = utils.calculateHeight(elem);\n            if (elem.querySelector(\".accordionLayout\")) {\n                maxHeight += 200; // Magic number if nested accordionlayout\n            };\n        }\n        if (props.hasOwnProperty('expandDuration')) {\n            anim_duration = +props.expandDuration / 1000;\n        }\n        elem_style += \"transition: max-height \" + anim_duration + \"s ease-in-out;\";\n        if (props.expand){\n            elem_style +=  \"max-height: \" + (maxHeight <= 0 ? 1080 : maxHeight) + \"px;\";\n        }\n        else {\n            elem_style += \"max-height: 0px;\";\n        }\n    }\n    return elem_style;\n}\nfunction addOverFlow(props) {\n    let elem_style =\"\";\n    if (props.hasOwnProperty('overFlowVisible')) {\n        if (props.overFlowVisible) {\n            elem_style += \"overflow: visible;\";\n            // elem.style.overflow = \"visible\"\n        }\n    }\n    return elem_style;\n}\nfunction setGravityStylesForRow(elem, props) {\n\n    var gravity_row_style = \"\";\n\n    if (!props.hasOwnProperty('gravity') || !props.gravity) {\n        props.gravity = '';\n        //return;\n    }\n\n    switch (props.gravity) {\n        case 'center_vertical':\n            gravity_row_style += \"align-items: center;\";\n            gravity_row_style += \"justify-content: flex-start;\";\n\n            // elem.gravity_row_style['align-items'] = 'center';\n            // elem.gravity_row_style['justify-content'] = 'flex-start';\n            break;\n        case 'center_horizontal':\n            gravity_row_style += \"align-items: flex-start;\";\n            gravity_row_style += \"justify-content: center;\";\n            // elem.gravity_row_style['align-items'] = 'flex-start';\n            // elem.gravity_row_style['justify-content'] = 'center';\n            break;\n        case 'center':\n            gravity_row_style += \"align-items: center;\";\n            gravity_row_style += \"justify-content: center;\";\n            // elem.gravity_row_style['align-items'] = \"center\";\n            // elem.gravity_row_style['justify-content'] = \"center\";\n            break;\n        case 'left':\n        case 'start':\n            gravity_row_style += \"align-items: flex-start;\";\n            gravity_row_style += \"justify-content: flex-start;\";\n            // elem.gravity_row_style['align-items'] = 'flex-start';\n            // elem.gravity_row_style['justify-content'] = 'flex-start';\n            break;\n        case 'right':\n        case 'end':\n            gravity_row_style += \"align-items: flex-start;\";\n            gravity_row_style += \"justify-content: flex-end;\";\n            // elem.gravity_row_style['align-items'] = 'flex-start';\n            // elem.gravity_row_style['justify-content'] = 'flex-end';\n            break;\n        case 'stretch':\n            gravity_row_style += \"align-items: stretch;\";\n            gravity_row_style += \"justify-content: flex-start;\";\n            // elem.gravity_row_style['align-items'] = 'stretch';\n            // elem.gravity_row_style['justify-content'] = 'flex-start';\n            break;\n        default:\n            gravity_row_style += \"align-items: flex-start;\";\n            gravity_row_style += \"justify-content: flex-start;\";\n            // elem.gravity_row_style['align-items'] = 'flex-start';\n            // elem.gravity_row_style['justify-content'] = 'flex-start';\n            break;\n    }\n\n    return gravity_row_style;\n}\nfunction setGravityStylesForColumn(elem, props) {\n\n    var gravity_col_style = \"\";\n    if (!props.hasOwnProperty('gravity') || !props.gravity) {\n        props.gravity = '';\n        //return;\n    }\n\n    switch (props.gravity) {\n        case 'center_vertical':\n            gravity_col_style += \"align-items: flex-start;\";\n            gravity_col_style += \"justify-content: center;\";\n            // elem.style['align-items'] = 'flex-start';\n            // elem.style['justify-content'] = 'center';\n            break;\n        case 'center_horizontal':\n            gravity_col_style += \"align-items: center;\";\n            gravity_col_style += \"justify-content: flex-start;\";\n            // elem.style['align-items'] = 'center';\n            // elem.style['justify-content'] = 'flex-start';\n            break;\n        case 'center':\n            gravity_col_style += \"align-items: center;\";\n            gravity_col_style += \"justify-content: center;\";\n            // elem.style[\"align-items\"] = \"center\";\n            // elem.style[\"justify-content\"] = \"center\";\n            break;\n        case 'left':\n        case 'start':\n            gravity_col_style += \"align-items: flex-start;\";\n            gravity_col_style += \"justify-content: flex-start;\";\n            // elem.style['justify-content'] = 'flex-start';\n            // elem.style['align-items'] = 'flex-start';\n            break;\n        case 'right':\n        case 'end':\n            gravity_col_style += \"align-items: flex-end;\";\n            gravity_col_style += \"justify-content: flex-start;\";\n            // elem.style['align-items'] = 'flex-end';\n            // elem.style['justify-content'] = 'flex-start';\n            break;\n        case 'stretch':\n            gravity_col_style += \"align-items: stretch;\";\n            gravity_col_style += \"justify-content: flex-start;\";\n            // elem.style['align-items'] = 'stretch';\n            // elem.style['justify-content'] = 'flex-start';\n            break;\n        default:\n            gravity_col_style += \"align-items: flex-start;\";\n            gravity_col_style += \"justify-content: flex-start;\";\n            // elem.style['align-items'] = 'flex-start';\n            // elem.style['justify-content'] = 'flex-start';\n            break;\n    }\n    return gravity_col_style;\n}\n\nfunction addLayout(elem, type, props) {\n    let scrollBarX = props.hasOwnProperty('scrollBarX')?props.scrollBarX:true;\n    let scrollBarY = props.hasOwnProperty('scrollBarY')?props.scrollBarX:true;\n    let scrollBarVisible = props.hasOwnProperty('scrollBarVisible')?props.scrollBarVisible:false; // by default, hiding the scrollbar, unless `scrollBarVisible` prop is used\n    let elem_style = \"\";\n    switch(type){\n        case 'linearLayout':\n            elem_style += \"box-sizing: border-box;\";\n            //elem.style[\"box-sizing\"] = \"border-box\";\n\n            if(!scrollBarVisible){\n                elem_style += \"scrollbar-width: none;\"\n                elem_style += \"-ms-overflow-style: none;\"\n            }\n\n            if (props.hasOwnProperty('fixedWrap') && !props.fixedWrap) {\n                elem_style += \"flex-wrap: nowrap;\";\n                //elem.style[\"flex-wrap\"] = \"nowrap\";\n            } else {\n                // elem_style += \"flex-wrap: wrap;\";\n                //elem.style[\"flex-wrap\"] = \"wrap\";\n            }\n\n\n            let orient = props.orientation == \"vertical\" ? \"column\" : \"row\";\n            elem_style += \"flex-direction: \" + orient + \";\";\n            // elem.style[\"flex-direction\"] =\n\n            if (orient == 'row')\n                elem_style += setGravityStylesForRow(elem, props);\n            else\n                elem_style += setGravityStylesForColumn(elem, props);\n\n            // if (elem.style[\"flex-direction\"] == 'row')\n            //     setGravityStylesForRow(elem, props);\n            // else\n            //     setGravityStylesForColumn(elem, props);\n\n            if (props.hasOwnProperty('scrollBarX')) {\n                if (props.scrollBarX)\n                    elem_style += \"overflow-x: auto;\";\n//                  elem.style.overflowX = 'auto'\n                else\n                    elem_style += \"overflow-x: hidden;\";\n//              elem.style.overflowX = 'hidden'\n            }\n\n            if (props.hasOwnProperty('scrollBarY')) {\n                if (props.scrollBarY)\n                    elem_style += \"overflow-y: auto;\";\n                    // elem.style.overflowY = 'auto'\n                else\n                    elem_style += \"overflow-y: hidden;\";\n                    // elem.style.overflowY = 'hidden'\n            }\n            break;\n        case \"horizontalScrollView\":\n            elem_style += \"overflow-x: auto;\";\n            elem_style += \"overflow-y: hidden;\";\n            // elem.style.overflowX = \"auto\";\n            // elem.style.overflowY = \"hidden\";\n\n            // if (!scrollBarX)\n            //     elem_style += \"overflow-x: hidden;\";\n            break;\n        case 'listView':\n            elem_style += \"overflow-x: hidden;\";\n            elem_style += \"overflow-y: auto;\";\n\n            // elem.style.overflowY = \"auto\";\n            // elem.style.overflowX = \"hidden\";\n\n            // if (!scrollBarY)\n            //     elem_style += \"overflow-y: hidden;\";\n                // elem.style.overflowY = 'hidden';\n            break;\n        case 'scrollView':\n            elem_style += \"overflow-x: auto;\";\n            elem_style += \"overflow-y: auto;\";\n\n            // elem.style.overflowX = 'auto';\n            // elem.style.overflowY = 'auto';\n\n            // if (!scrollBarX)\n            //     elem_style += \"overflow-x: hidden;\";\n            // if (!scrollBarY)\n            //     elem_style += \"overflow-y: hidden;\";\n            if(!scrollBarVisible){\n                elem_style += \"scrollbar-width: none;\" //Hide Scrollbar for Firefox\n                elem_style += \"-ms-overflow-style: none;\" //Hide Scrollbar for IE and Edge\n            }\n            break;\n        case 'relativeLayout':\n            elem_style += \"position: relative;\";\n            // elem.style.position = 'relative';\n\n            if (props.hasOwnProperty('scrollBarX')) {\n                if (props.scrollBarX)\n                    elem_style += \"overflow-x: auto;\";\n                    // elem.style.overflowX = 'auto'\n                else\n                    elem_style += \"overflow-x: hidden;\";\n                    // elem.style.overflowX = 'hidden'\n                }\n\n                if (props.hasOwnProperty('scrollBarY')) {\n                    if (props.scrollBarY)\n                        elem_style += \"overflow-y: auto;\";\n                        //  elem.style.overflowY = 'auto'\n                    else\n                        elem_style += \"overflow-y: hidden;\";\n                //          elem.style.overflowY = 'hidden'\n        }\n    }\n\n    return elem_style;\n}\n\nfunction addImage(type,props,elem) {\n    if (type == 'imageView') {\n        if (props.imageUrl) {\n            let imageUrl = props.imageUrl\n\n            if (props.rawData) {\n                // Do Nothing\n            } else {\n                let temp = imageUrl.split('.')\n                let ext = ''\n                if (temp && temp.length > 0)\n                    ext = temp[temp.length - 1]\n\n                let exts = [\"jpeg\", \"jpg\", \"png\", \"bmp\", \"svg\", \"gif\"]\n                ext = ext.toLowerCase()\n\n                if(!imageUrl.includes(\"data:image/\") && !exts.includes(ext)) {\n                    imageUrl += '.png'\n                }\n            }\n\n            if (window.generateVdom) {\n                elem.setAttribute('src2', imageUrl);\n            } else {\n                elem.setAttribute('src', imageUrl);\n            }\n        }\n    }\n}\nfunction findArticle(children){\n    let article = null;\n    if (children.length) {\n        for (let i = 0; i < children.length; i++) {\n            if (children[i].nodeName.toLowerCase() == 'article') {\n                article = children[i]\n                break\n            }\n        }\n    }\n    return article? article:document.createElement('article');\n}\nfunction getArticle(children, config) {\n    let article = findArticle(children);\n\n    if (config.isHtmlContent)\n        article.innerHTML = config.textFromHtml\n    else\n        article.textContent = config.text\n    article.style.wordBreak = \"break-word\"\n    article.style.display = \"inline\"\n    return article;\n\n}\nfunction getTextStyle(config){\n    let text = \"white-space:initial;\";\n    return config.letterSpacing ? text + \"letter-spacing:\"+config.letterSpacing+\";\" : text;\n}\nfunction createTextElement(elem, config) {\n\n    let text_style = getTextStyle(config);\n    let article = getArticle(elem.childNodes, config);\n    elem.appendChild(article)\n    return text_style;\n}\n\nfunction patternCheck(props)\n{\n    var data = props.pattern.split(',');\n    var length = parseInt(data.pop());\n    var regexString = data.join('');\n    var finalData = props.text\n    if (length && finalData.length > length)\n        return false;\n    if(props.hasOwnProperty(\"separator\"))\n    {\n        finalData = finalData.replace(new RegExp(props.separator, 'g') , \"\");\n    }\n    if (regexString) {\n        var regexPattern = new RegExp(regexString);\n        if (!regexPattern.test(finalData)) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction addTextProperties(props, elem, type) {\n    let elem_style = \"\"\n    if (props.hasOwnProperty(\"text\")){\n        if (type == \"editText\")\n        {\n            elem.value = props.text;\n            if(props.hasOwnProperty(\"pattern\"))\n            {\n                if(patternCheck(props))\n                {\n                    elem.oldValidValue = props.text;\n                }\n            }\n        }\n        else\n            elem_style += createTextElement(elem, props)\n    }\n\n    if (props.hasOwnProperty(\"textFromHtml\")) {\n        props.isHtmlContent = true;\n        if (type == \"editText\")\n            elem.value = props.textFromHtml\n        else\n            elem_style += createTextElement(elem, props)\n    }\n    delete props.text;\n    return elem_style;\n}\nfunction addClassNameProperties(props, elem) {\n    if (props.hasOwnProperty(\"className\")) {\n        if ((props.className || \"\").trim() !== \"\") {\n            props.className.split(\" \").map(className => {\n                elem.classList.add(className);\n            })\n        }\n    }\n\n    if (props.hasOwnProperty(\"classList\")) {\n        JSON.parse(props.classList).forEach(function (obj) {\n            elem.classList.add(obj);\n        });\n    }\n\n    if (props.hasOwnProperty(\"removeClassList\")){\n        JSON.parse(props.removeClassList).forEach(function (obj) {\n            elem.classList.remove(obj);\n        });\n    }\n}\nfunction addFunctions(props, elem) {\n    let elem_style =\"\";\n    for (let key in props) {\n        if (props[key] && typeof props[key] == \"function\") {\n            var eventType = key.substring(2, key.length).toLowerCase();\n            var elemCB = props[key];\n            elem_style += \"user-select: none;\";\n            //elem.style.userSelect = 'none';\n            if (eventType == \"change\") {\n                eventType = \"input\";\n            }\n\n            elem.addEventListener('blur', function () {\n                var inputValue = elem.value;\n                if (inputValue == \"\") {\n                    elem.classList.remove(\"filled\");\n                    elem.parentNode.classList.remove('focused');\n                } else {\n                    elem.classList.add('filled');\n                }\n            });\n\n            elem['onfocus'] = function (e) {\n                elem.parentNode.classList.add('focused');\n                if (eventType == \"focus\") {\n                    e.stopPropagation();\n                    elemCB(e);\n                }\n            };\n        }\n    }\n    return elem_style;\n}\nfunction addAnimationAttributes(props) {\n    let elem_style =\"\";\n    var animation_transition = getAnimeTransition(props);\n\n    var animation_transform = getAnimeTransform(props);\n\n    var animation_opacity = getAnimeOpacity(props);\n\n    if (animation_transition.length > 0 && (animation_transform.length + animation_opacity.length > 0)) { // this will need to be renamed actually to VDOM output's\n        const afterTransition = () => {\n            elem_style += animation_transition;\n            if (animation_transform.length > 0) elem_style += animation_transform;\n            if (animation_opacity.length > 0) { elem_style += animation_opacity;}\n        };\n\n        if (props.style.transform || props.style.opacity) {\n            setTimeout(afterTransition, 100); // Why is a time out here?\n        } else {\n            afterTransition();\n        }\n    }\n    return elem_style;\n}\n\nfunction addTypeSpecificProp(type,props){\n\n    let ele_style = \"\";\n\n    if (props.hasOwnProperty('visibility')){\n        if (props.visibility == \"gone\") return ele_style;\n    }\n\n    if (props.hasOwnProperty('display')){\n        if (props.display == \"none\") return ele_style;\n    }\n\n\n    if (type == \"textView\" && props.hasOwnProperty(\"gravity\")) {\n        ele_style += \"text-align:\"+props.gravity+\";\";\n\n        if (props.gravity == \"center_vertical\") {\n            ele_style += \"align-items:center;\";\n            ele_style += \"display:flex;\";\n        }\n        else if (props.gravity == \"center_horizontal\") {\n            ele_style += \"justify-content:center;\";\n            ele_style += \"display:flex;\";\n        }\n        else if (props.gravity == \"center\") {\n            ele_style += \"justify-content:center;\";\n            ele_style += \"align-items:center;\";\n            ele_style += \"display:flex;\";\n        }\n    }\n\n    if (type == \"linearLayout\" && props.hasOwnProperty(\"gravity\")){\n        if (props.margin && props.gravity==\"center_vertical\"){\n\n            var margin=props.margin.split(\",\");\n            if (props.width == \"match_parent\"){\n                let width = \"calc(100% - \"+(parseInt(margin[0])+parseInt(margin[2])).toString()+\"px )\";\n                ele_style += \"width:\" + width + \";\";\n            }\n        }\n    }\n\n    if (type == \"editText\") ele_style += \"user-select: text !important;\";\n\n    return ele_style;\n}\n\n\n\n\nfunction addRotateProp(props){\n\n    var ele_style = \"\";\n\n    if (props.hasOwnProperty(\"rotateImage\")){\n        if(props.rotateImage){\n          ele_style += \"-webkit-animation:load3 4s infinite linear;\";\n          ele_style += \"animation-duration:4s;\";\n          ele_style += \"animation-timing-function:linear;\";\n          ele_style += \"animation-delay:0s;\";\n          ele_style += \"animation-iteration-count:infinite;\";\n          ele_style += \"animation-direction:normal;\";\n          ele_style += \"animation-fill-mode:none;\";\n          ele_style += \"animation-play-state:running;\";\n          ele_style += \"animation-name:rotation;\";\n        }\n    }\n\n    return ele_style;\n}\n\nfunction addShadowProp(props){\n\n    var ele_style = \"\";\n\n    if (props.hasOwnProperty(\"shadow\")) {\n        var shadowValues = props.shadow.split(props.shadowSeparator || ',');\n        var shadowBlur = utils.rWS(utils.cS(shadowValues[2]));\n        var shadowSpread = utils.rWS(utils.cS(shadowValues[3]));\n        var shadowOpacity = utils.rWS(utils.cS(shadowValues[5]));\n        var shadowOffset = {\n            x: utils.rWS(utils.cS(shadowValues[0])),\n            y: utils.rWS(utils.cS(shadowValues[1]))\n          };\n\n        var shadowColor = utils.convertColorToRgba(shadowValues[4]);\n        var shadowType = props.shadowType ? `${props.shadowType} ` : ''\n\n        ele_style += \"box-shadow:\" + shadowType + parseInt(shadowOffset.x) + \"px \" + parseInt(shadowOffset.y) + \"px \" + parseInt(shadowBlur) + \"px \" + parseInt(shadowSpread) + \"px rgba(\" + shadowColor.r + \", \" +  shadowColor.g + \", \" +  shadowColor.b + \", \" +  shadowColor.a + \");\" ;\n    }\n\n    return ele_style;\n}\n\n\nfunction addSetInputTypeProp(ele,props){\n\n    var ele_style = \"\";\n\n    if (props.hasOwnProperty(\"inputType\")) {\n\n        var inputType = \"text\";\n\n        if (props.inputType == \"numericPassword\" || props.inputType == \"password\") {\n          if(props.inputType == \"numericPassword\"){\n            ele.setAttribute(\"inputmode\",\"numeric\");\n          }\n          if(props.inputTypeI == 4 && window.innerWidth < 550 || navigator.userAgent.search(\"Firefox\") === -1){ // This feels like a very specific use-case? Investigate\n            inputType = \"tel\";\n            ele_style += \"-webkit-text-security:disc;\";\n            ele_style += \"-moz-text-security:disc;\";\n            ele_style += \"text-security:disc;\";\n            ele.setAttribute(\"autocomplete\",\"off\");\n          }\n          else {\n            ele.setAttribute(\"autocomplete\",\"new-password\");\n            inputType = \"password\";\n          }\n        }\n\n        else if (props.inputType == \"disabled\") {\n            ele.setAttribute(\"disabled\",\"disabled\");\n        }\n\n        else if(props.inputType === \"telephone\" || props.inputType === \"numeric\") {\n            inputType = \"tel\";\n        }\n\n        if (props.hasOwnProperty(\"separator\")) {\n          if(props.inputType == \"numeric\"){\n            inputType = \"tel\"\n          } else {\n            inputType = \"text\"\n          }\n        }\n\n        ele.setAttribute(\"type\",inputType);\n    }\n\n    return ele_style;\n}\n\n\nfunction getAnimeTransform(props){\n\n    var elem_style_value = \"\";\n\n    if (props.hasOwnProperty(\"a_translationY\")) {\n        elem_style_value += \"translateY(\" + props[\"a_translationY\"] + \"px) \";\n    }\n\n    if (props.hasOwnProperty(\"a_translationX\")) {\n        elem_style_value += \"translateX(\" + props[\"a_translationX\"] + \"px) \";\n    }\n\n    if (props.hasOwnProperty(\"a_scaleX\")) {\n        elem_style_value += \"scaleX(\" + props[\"a_scaleX\"] + \") \";\n    }\n\n    if (props.hasOwnProperty(\"a_scaleY\")) {\n        elem_style_value += \"scaleY(\" + props[\"a_scaleY\"] + \") \";\n    }\n\n    if (props.hasOwnProperty(\"a_rotation\")) {\n        elem_style_value += \"rotate(\" + props[\"a_rotation\"] + \"deg) \";\n    }\n\n    if (props.hasOwnProperty(\"a_rotationX\")) {\n        elem_style_value += \"rotateX(\" + props[\"a_rotationX\"] + \"deg) \";\n    }\n\n    if (props.hasOwnProperty(\"a_rotationY\")) {\n        elem_style_value += \"rotateY(\" + props[\"a_rotationY\"] + \"deg) \";\n    }\n\n\n\n    if (elem_style_value.length > 0)\n        return \" transform: \"+ elem_style_value +\";\";\n    else\n        return \"\";\n\n}\n\n\nfunction getAnimeOpacity(props){\n    if (props.hasOwnProperty(\"a_alpha\")){\n        return \"opacity: \" + props[\"a_alpha\"] + \"; \";\n    }\n    else\n        return \"\";\n}\n\nfunction getAnimeTransition(props){\n\n    if (props.hasOwnProperty(\"a_duration\") && !isNaN(props[\"a_duration\"])) {\n        const suffix = props.transitionTimingFunction ? (\" \" + props.transitionTimingFunction) : \"\";\n        return \"transition: \" + props[\"a_duration\"] + 'ms all' + suffix + \";\";\n    }\n    else return \"\";\n\n}\n\n// add attributes to the mutable element\nfunction setElemAttributes(element,props){\n\n    if (props.hasOwnProperty(\"url\")) { element.setAttribute('src',props.url) }\n\n    if (props.hasOwnProperty(\"autofocus\") && (navigator.userAgent.indexOf(\"iPhone\") == -1)) { element.setAttribute('autofocus','autofocus') }; // device should not be an iphone\n\n\n    if(props.hasOwnProperty(\"focus\")) {\n            if (props.focus && props.id){\n                    window.focusedElement = props.id;\n                    delete props.focus;\n                }\n    }\n\n\n    if (props.hasOwnProperty('contentEditable')) {element.setAttribute('contentEditable','true')};\n\n    if (props.hasOwnProperty('hint')) {element.setAttribute('hint',props.hint)};\n\n    if (props.hasOwnProperty(\"pattern\")) {\n        element.setAttribute(\"data-pattern\",props.pattern);\n        var data = props.pattern.split(',');\n        var length = parseInt(data.pop());\n        if(length>10) { length = 10;    }\n        element.setAttribute(\"size\",length);\n    }\n\n    if (props.hasOwnProperty(\"separator\")) {\n        element.setAttribute(\"separator\",props.separator);\n    }\n\n    if (props.hasOwnProperty(\"separatorRepeat\")) {\n        element.setAttribute(\"separatorRepeat\",props.separatorRepeat);\n    }\n\n    return element;\n\n    // if (props.hasOwnProperty(\"myAttr\")) {\n    //     element.setAttribute(config.myAttr,config.myAttr);\n    // }\n\n}\n\nfunction addPseudoClasses(elem, view){\n    let props = view.props\n    let styleElem = document.getElementById(window.__STYLE_ID) || document.getElementsByTagName(\"body\")[0].getElementsByTagName(\"style\")[0];\n    let css = \"\";\n    if (props.hasOwnProperty(\"hoverBg\")) {\n        css += \"div#\\\\3\" + elem.id[0] + \" \" + elem.id.substring(1) + \":hover{background:\" + props[\"hoverBg\"] + \"!important;}\";\n    }\n\n    if (props.hasOwnProperty(\"hoverColor\")) {\n        css += \"div#\\\\3\" + elem.id[0] + \" \" + elem.id.substring(1) + \":hover{color:\" + props[\"hoverColor\"] + \"!important;}\";\n    }\n    if(props.hasOwnProperty(\"inputType\")){\n        //CODE BLOCK for inheriting textColor & background for autofill\n        var style = \"\";\n        // 1000px hack added to fill input area\n        const boxShadowVal =  \"0 0 0 1000px \" + props.background + \" inset !important;\"\n        style += \"-webkit-box-shadow:\" + boxShadowVal;\n        style += \"-moz-box-shadow:\" + boxShadowVal;\n        style += \"box-shadow:\" + boxShadowVal;\n        style += \"-webkit-text-fill-color:\" + props.color + \";\";\n        css += \"[id='\" + props.id + \"']:-webkit-autofill { \" + style + \"}\";\n    }\n\n    if(props.hasOwnProperty(\"scrollBarVisible\") && !props.scrollBarVisible && !css.includes(\"::-webkit-scrollbar{display:none !important;}\")) {\n        css += \"::-webkit-scrollbar{display:none !important;}\"; //Hide Scrollbar For Chrome\n    }\n\n    // To add placeholder pseudo-class on edittext element\n    if (props.hasOwnProperty(\"hintColor\") && useHintColor) {\n        css += \"input#\\\\3\" + elem.id[0] + \" \" +elem.id.substring(1) + `::placeholder {color: ${props.hintColor} !important; }`;\n    } else if (view.type == \"editText\") {\n        css += \"input#\\\\3\" + elem.id[0] + \" \" +elem.id.substring(1) + `::placeholder {opacity: 0.35 !important; }`;\n    }\n\n    if (!css) return\n    if(styleElem) {\n      styleElem.textContent += css;\n    } else {\n      styleElem = document.createElement('style');\n      styleElem.appendChild(document.createTextNode(css));\n      document.getElementsByTagName(\"body\")[0].appendChild(styleElem);\n    }\n\n}\n\nlet setUseHintColor = (val) => useHintColor = val;\n\n\nmodule.exports = {\n    mapPropToStyle,\n    getAnimeTransform,\n    getAnimeOpacity,\n    getAnimeTransition,\n    setElemAttributes,\n    addAnimationAttributes,\n    addTransitionValue,\n    addSize,\n    addBorder,\n    addVisibility,\n    addExpandability,\n    addOverFlow,\n    addLayout,\n    addImage,\n    addTextProperties,\n    addClassNameProperties,\n    addFunctions,\n    addPseudoClasses,\n    setUseHintColor\n}\n\n","/*\n * Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n * JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n *\n * This file is part of JUSPAY Platform.\n *\n * JUSPAY Platform is free software: you can redistribute it and/or modify\n * it for only educational purposes under the terms of the GNU Affero General\n * Public License (GNU AGPL) as published by the Free Software Foundation,\n * either version 3 of the License, or (at your option) any later version.\n * For Enterprise/Commerical licenses, contact <info@juspay.in>.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n * be liable for all damages without limitation, which is caused by the\n * ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n * damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n * The end user has NO right to claim any indemnification based on its use\n * of Licensed Software. See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n */\n\nlet {\n    computeChildDimens\n} = require(\"../compute\")\nlet mapAttributes = require(\"./MapAttributes\");\nconst List = require(\"./ListPresto\");\nvar addedShimmerStyle = false;\nconst useClickFeedback = false;\n\nfunction attachKeyDownEventListenerKeyCode(elem, callback, keyCode) {\n    elem.addEventListener('keydown', (e) => {\n        \n        if(e.repeat) { \n            e.preventDefault();\n            return;\n         }  // to handle if pressed multiple times\n        else {\n            e.stopPropagation()\n            if (e.keyCode == keyCode) {\n                callback(e)\n            }\n        }    \n    })\n}\n\nfunction initiateElement(type, props, elem){\n    if (type == \"editText\" && elem.tagName.toLowerCase() == \"input\") {\n\n        var isIPhone = (navigator.userAgent.indexOf(\"iPhone\") !== -1)\n        if (elem.autofocus && !isIPhone) {\n            elem.focus()\n        }\n        if(window.preponeSpace){\n            elem.addEventListener('input', separatorInputKeyDownHandlerNew);\n        } else {\n            elem.addEventListener('input', separatorInputKeyDownHandler);\n        }\n    }\n\n    let events = ['onClick', 'onEnterPressedEvent', 'onDeletePressedEvent', 'onRightArrowPressedEvent', 'onLeftArrowPressedEvent', 'onChange', 'onMouseDown', 'onMouseUp', 'onMouseEnter', 'onMouseOver', 'onMouseMove', 'onMouseOut', 'onMouseLeave', 'onFocus', 'onPaste','getInputEventData','onAnimationEnd']\n\n    for (let i = 0; i < events.length; i++) {\n        let key = events[i]\n        let eventType = key.substring(2, key.length).toLowerCase()\n        if (props.hasOwnProperty(key) && typeof props[key] == \"function\") {\n            const callback = props[key]\n\n            if(key == \"onAnimationEnd\") {\n                elem.addEventListener(\"animationend\", function () {\n                    if (props.onAnimationEnd) {\n                        elem.style.animation = null;\n                        props.onAnimationEnd();\n                    }\n                    manualFocus();\n                    window.hasAnimationProps = false;\n                   });\n            }\n            if (key == \"onEnterPressedEvent\") {\n                attachKeyDownEventListenerKeyCode(elem, callback, 13);\n            }\n            if (key == \"onDeletePressedEvent\") {\n                attachKeyDownEventListenerKeyCode(elem, callback, 8);\n            }\n            if (key == \"onRightArrowPressedEvent\") {\n                attachKeyDownEventListenerKeyCode(elem, callback, 39);\n            }\n            if (key == \"onLeftArrowPressedEvent\") {\n                attachKeyDownEventListenerKeyCode(elem, callback, 37);\n            }\n            if (key == \"getInputEventData\") {\n                elem.addEventListener('input', (e) => {\n                    callback(e.data)\n                })\n            }\n            if (key == \"onPaste\") {\n                elem.onpaste = e => {\n                let paste = (e.clipboardData || window.clipboardData).getData('text');\n                callback(paste);\n            }\n        }\n            if (eventType == \"change\") {\n                elem.addEventListener('input', (e) => {\n                    callback(e.target.value)\n                })\n            } else if (eventType == \"focus\"){\n                elem.addEventListener('focus', (e) => {\n                    callback(\"true\")\n                })\n                elem.addEventListener('blur', (e) => {\n                    callback(\"false\")\n                })\n            } else {\n                if (eventType == \"click\") {\n                    let feedbackMutex = false;\n                    const touchFeedbackFn = (e) => {\n                        if (feedbackMutex) return;\n                        feedbackMutex = true;\n                        let ogBg = \"\", temp = elem;\n                        while(ogBg === \"\") {\n                            if (temp.style.backgroundColor !== \"\")\n                                ogBg = temp.style.backgroundColor;\n                            temp = temp.parentNode;\n                        }\n                        let rippleColor = pSBC(-0.23, ogBg); // darken whatever the original background color was\n                        if (props.hasOwnProperty(\"rippleColor\") && props.rippleColor.trim() !== \"\")\n                            rippleColor = props.rippleColor;\n\n                        elem.style.backgroundColor = rippleColor;\n                        // elem.style.opacity = \"0.5\";\n                        // return the color of the element\n                        setTimeout(function() {\n                            elem.style.backgroundColor = ogBg;\n                            // prevent multiple clicks from permanently \n                            // changing the background color\n                            feedbackMutex = false;\n                        }, 200);\n                    }\n                    if (!(props.hasOwnProperty(\"disableFeedback\") && props.disableFeedback) && useClickFeedback) {\n                        elem.addEventListener('touchstart', touchFeedbackFn);\n                        elem.addEventListener('mousedown', touchFeedbackFn);\n                    }\n                }\n                props.oldEventListener = props.oldEventListener || {};\n                if (typeof props.oldEventListener[eventType] == \"function\") {\n                    elem.removeEventListener(eventType, props.oldEventListener[eventType]);\n                }\n                props.oldEventListener[eventType] = (e) => {\n                    e.stopPropagation();\n                    callback(e)\n                };\n                elem.addEventListener(eventType, props.oldEventListener[eventType]);\n            }\n        }\n    }\n}\n\nconst pSBC = function(p,c0,c1,l) {\n    let r,g,b,P,f,t,h,i=parseInt,m=Math.round,a=typeof(c1)==\"string\";\n    if(typeof(p)!=\"number\"||p<-1||p>1||typeof(c0)!=\"string\"||(c0[0]!='r'&&c0[0]!='#')||(c1&&!a))return null;\n    if(!this.pSBCr)this.pSBCr=(d)=>{\n        let n=d.length,x={};\n        if(n>9){\n            [r,g,b,a]=d=d.split(\",\"),n=d.length;\n            if(n<3||n>4)return null;\n            x.r=i(r[3]==\"a\"?r.slice(5):r.slice(4)),x.g=i(g),x.b=i(b),x.a=a?parseFloat(a):-1\n        }else{\n            if(n==8||n==6||n<4)return null;\n            if(n<6)d=\"#\"+d[1]+d[1]+d[2]+d[2]+d[3]+d[3]+(n>4?d[4]+d[4]:\"\");\n            d=i(d.slice(1),16);\n            if(n==9||n==5)x.r=d>>24&255,x.g=d>>16&255,x.b=d>>8&255,x.a=m((d&255)/0.255)/1000;\n            else x.r=d>>16,x.g=d>>8&255,x.b=d&255,x.a=-1\n        }return x};\n    h=c0.length>9,h=a?c1.length>9?true:c1==\"c\"?!h:false:h,f=this.pSBCr(c0),P=p<0,t=c1&&c1!=\"c\"?this.pSBCr(c1):P?{r:0,g:0,b:0,a:-1}:{r:255,g:255,b:255,a:-1},p=P?p*-1:p,P=1-p;\n    if(!f||!t)return null;\n    if(l)r=m(P*f.r+p*t.r),g=m(P*f.g+p*t.g),b=m(P*f.b+p*t.b);\n    else r=m((P*f.r**2+p*t.r**2)**0.5),g=m((P*f.g**2+p*t.g**2)**0.5),b=m((P*f.b**2+p*t.b**2)**0.5);\n    a=f.a,t=t.a,f=a>=0||t>=0,a=f?a<0?t:t<0?a:a*P+t*p:0;\n    if(h)return\"rgb\"+(f?\"a(\":\"(\")+r+\",\"+g+\",\"+b+(f?\",\"+m(a*1000)/1000:\"\")+\")\";\n    else return\"#\"+(4294967296+r*16777216+g*65536+b*256+(f?m(a*255):0)).toString(16).slice(1,f?undefined:-2)\n}\n\n// not being used in hyper-widget web\nfunction popup(elem, props) {\n    let menuItems = props[\"popupMenu\"].split(',');\n    let menuBar = document.createElement(\"div\");\n    menuBar.setAttribute(\"class\", \"popupMenu\");\n    menuBar.style.cssText =\n        \"display: none; position: absolute; right: 20px; top:20px; z-index: 5;\" +\n        \"box-shadow: 0px 5px 10px #888888;\";\n    document.body.appendChild(menuBar)\n    let clickCb = \"onMenuItemClick\";\n    for (let i = 0; i < menuItems.length; i++) {\n        let menuDiv = document.createElement(\"div\");\n        menuDiv.setAttribute(\"class\", \"menuItem\");\n        menuDiv.textContent = menuItems[i];\n        menuBar.appendChild(menuDiv);\n        let index = i;\n        if (props[clickCb] &&\n            typeof props[clickCb] == \"function\") {\n            menuDiv.addEventListener(\"click\", () => {\n                props[clickCb](index);\n            });\n        }\n    }\n    elem.addEventListener(\"click\", function () {\n        if (menuBar.style.display == \"none\")\n            menuBar.style.display = \"\";\n        else\n            menuBar.style.display = \"none\";\n    });\n}\n\nconst InlineAnimationMapper = {\n    map: function (type) {\n        var self = this;\n        return function (key, value) {\n            if (self.MAPPINGS[type] && self.MAPPINGS[type][key]) {\n                return self.MAPPINGS[type][key](value);\n            } else return \"\";\n        }\n    },\n    MAPPINGS: {\n        \"from\": {\n            \"fromX\": val => `transform: translateX(${val}px);`,\n            \"fromY\": val => `transform: translateY(${val}px);`,\n            \"fromScaleX\": val => `transform: scaleX(${val});\\ntransform-origin:top left;`, \n            \"fromScaleY\": val => `transform-origin:top left;\\ntransform: scaleY(${val});`, \n            \"fromRotation\": val => `transform: rotate(${val}deg);`, \n            \"fromRotationX\": val => `transform: rotateX(${val}deg);`, \n            \"fromRotationY\": val => `transform: rotateY(${val}deg);`, \n            \"fromAlpha\": val => `opacity: ${val};`, \n        },\n        \"to\": {\n            \"toX\": val => `transform: translateX(${val}px);`, \n            \"toY\": val => `transform: translateY(${val}px);`, \n            \"toScaleX\": val => `transform: scaleX(${val});\\ntransform-origin:top left;`, \n            \"toScaleY\": val => `transform-origin:top left;\\ntransform: scaleY(${val});`, \n            \"toRotation\": val => `transform: rotate(${val}deg);`, \n            \"toRotationX\": val => `transform: rotateX(${val}deg);`, \n            \"toRotationY\": val => `transform: rotateY(${val}deg);`, \n            \"toAlpha\": val => `opacity: ${val};`, \n        },\n        // ref: https://developer.mozilla.org/en-US/docs/Web/CSS/animation\n        \"animation-shorthand-seq\": [\"duration\", \"interpolator\", \"delay\", \"repeatCount\", \"repeatMode\", \"fillMode\"],\n        \"animation-props\": {\n            \"interpolator\": val => {\n                if (!val) {\n                    return `ease`;\n                } else if (typeof val == \"string\" && val.split(',').length == 4) {\n                    return `cubic-bezier(${val})`\n                } else {\n                    switch (val) {\n                        case \"easein\":\n                            return \"ease-in\";\n                        case \"easeout\":\n                            return \"ease-out\";\n                        case \"bounce\":\n                        case \"easeinout\":\n                            return \"ease-in-out\";\n                        default:\n                            return `${val}`;\n                    }\n                }\n            }, \n            \"delay\": val => {\n                if (!val) {\n                    return `0s`;\n                } else if (!isNaN(val)) {\n                    val = parseFloat(parseFloat(val) / 1000).toFixed(2);\n                    return `${val}s `;\n                } else {\n                    return `0s`;\n                }\n            }, \n            \"duration\": val => {\n                if (!val) {\n                    return `0s`;\n                } if (!isNaN(val)) {\n                    val = parseFloat(parseFloat(val) / 1000).toFixed(2);\n                    return `${val}s`;\n                } else {\n                    return `0s`;\n                }\n            },  \n            \"repeatMode\": val => {\n                switch (val) {\n                    case \"restart\":\n                        return `normal`;\n                    case \"reverse\":\n                        return `alternate`;\n                    default:\n                        return `normal`;\n                }\n            }, \n            \"repeatCount\": val => {\n                if (!val) return `1`;\n                val = parseInt(val);\n                if (isNaN(val)) { return `1`; }\n                else if (val < 0) { return `infinite`}\n                else { return `${val+1}`}\n            }, \n            \"fillMode\": val => {\n                if (!val) return `forwards`;\n                else return `${val}`;\n            }\n        }\n    }\n}\n\nconst CSSMarkupWriter = {\n    \"animations\": {\n        \"keyframe\": (name, code) => `@keyframes ${name} {${code}}`,\n        \"keyframe-from\": (code) => `from {${code}}`,\n        \"keyframe-to\": (code) => `to {${code}}`,\n        \"animation-shorthand\": (keyframes) => {\n            var val = \"\";\n            keyframes.forEach((keyframe, i) => {\n                val += keyframe;\n                if (i == (keyframes.length-1)) { val += ';'; }\n                else { val += ', '; }\n            });\n            return `animation: ${val}`;\n        }\n    }\n\n}\n\nfunction addCSSStyle (style) {\n    var styleElem = document.getElementById(window.__STYLE_ID)\n    if(styleElem && styleElem.styleSheet){\n        styleElem.styleSheet.cssText += style;\n    }else{\n        styleElem = document.createElement('style');\n        styleElem.appendChild(document.createTextNode(style));\n        document.getElementsByTagName(\"head\")[0].appendChild(styleElem);\n    }\n}\n\nvar KEYFRAME_INDEX = 0;\n\nfunction manualFocus () {\n    if (window.focusedElement !== undefined){\n        var c = document.getElementById(window.focusedElement);\n        window.focusedElement = undefined;\n        if (c) {\n            console.debug(\"now focusing\");\n            c.focus();\n        }\n    }\n}\n\nfunction setAnimationStyles (elem, props) {\n    if (!props.hasOwnProperty('hasAnimation') || !props.hasAnimation || !props.inlineAnimation) {\n        return \"\";\n    }\n    try {\n        const animationObjects = JSON.parse(props.inlineAnimation);\n        if(!Array.isArray(animationObjects) || (Array.isArray(animationObjects) && animationObjects.length == 0)) return \"\";\n        window.hasAnimationProps = true;\n        var keyFrameShorthands = [];\n        var AnimationCSSMarkupWriter = CSSMarkupWriter[\"animations\"];\n\n        var keyFrameFromMarkup = keyFrameToMarkup = \"\";\n        var countFrom = countTo = 0;\n        \n        animationObjects.forEach(function (animationObject) {\n            const keyframeName = \"keyframe_\" + props.id + \"_\" + KEYFRAME_INDEX++;\n            /* Add keyframe in css */\n            for (var [key, value] of Object.entries(animationObject)) {\n                var from = InlineAnimationMapper.map(\"from\")(key, value);\n                if(key == \"fromX\" || key == \"fromScaleX\"){\n                    if(countFrom == 0){\n                        keyFrameFromMarkup += from.slice(0, -1);\n                        countFrom += 1;\n                    }else{\n                        keyFrameFromMarkup += from.replace(\"transform:\", \"\");\n                    }\n                }else keyFrameFromMarkup += from;\n                var to = InlineAnimationMapper.map(\"to\")(key, value);\n                if(key == \"toX\" || key == \"toScaleX\"){\n                    if(countTo == 0){\n                        keyFrameToMarkup += to.slice(0, -1);\n                        countTo += 1;\n                    }else{\n                        keyFrameToMarkup += to.replace(\"transform:\", \"\");\n                    }\n                }else keyFrameToMarkup += to;\n            }\n            var keyFrameCSS = AnimationCSSMarkupWriter[\"keyframe\"](keyframeName, \n                                AnimationCSSMarkupWriter[\"keyframe-from\"](keyFrameFromMarkup) + \n                                AnimationCSSMarkupWriter[\"keyframe-to\"](keyFrameToMarkup)\n                            );\n            \n            addCSSStyle(keyFrameCSS);\n            window.__RENDERED_KEYFRAMES.push(keyframeName);\n        \n            /* Add animation shorthand prop of keyframe in element*/\n            var keyFrameAnimShorthand = `${keyframeName} `;\n            InlineAnimationMapper.MAPPINGS[\"animation-shorthand-seq\"].forEach(function (key) {\n                keyFrameAnimShorthand += (InlineAnimationMapper.map(\"animation-props\")(key, animationObject[key]) + \" \");\n            });\n            keyFrameShorthands.push(keyFrameAnimShorthand);\n        });\n        return AnimationCSSMarkupWriter[\"animation-shorthand\"](keyFrameShorthands);\n    } catch {\n        return \"\";\n    }\n}\n\nfunction addHoverProps (elem, view) {\n    if (!view.props.hasOwnProperty(\"onHover\")) return \"\";\n    try {\n        var id = \"\"+view.props.id;\n        var hoverProps = JSON.parse(view.props.onHover);\n        var elem_style = mapAttributes.mapPropToStyle(elem, hoverProps, view.type);\n        if (hoverProps.hasOwnProperty('width') && !isNaN(hoverProps.width)) {\n            elem_style += \"width: \" + hoverProps.width + \"px;\"; \n        }\n        if (hoverProps.hasOwnProperty('height') && !isNaN(hoverProps.height)) {\n            elem_style += \"height: \" + hoverProps.height + \"px;\"; \n        }\n        elem_style = elem_style.replaceAll(\";\", \" !important;\"); // add important to make hover props precendence over inline styles\n        if (hoverProps.hoverPath) {\n            addCSSStyle(hoverProps.hoverPath + \":hover #\\\\3\" + id[0] + \" \" + id.substring(1) + \" { \" + elem_style + \" }\");    \n        } else {\n            addCSSStyle(\"#\\\\3\" + id[0] + \" \" + id.substring(1) + \":hover { \" + elem_style + \" }\");    \n        }\n    } catch {\n        return;\n    }\n}\n// debugger\nfunction setComputedStyles(elem, props) {\n    let computed_styles = \"\";\n    /* Computed Styles */\n    // LinearLayout Styles\n    if (props.hasOwnProperty('activeDimen') && props.hasOwnProperty('activeWeight')) {\n        let activeDimen = props.activeDimen;\n        let weight = props.activeWeight;\n\n        if (weight > 0) {\n            computed_styles += \"flex:\" + weight + \";\";\n            computed_styles += \"flex-basis:auto;\";\n            //elem.style.flex = weight;\n\n            if (activeDimen == 'w') {\n                //elem.style.width = 'auto';\n            } else {\n                // computed_styles += \"height:auto;\";\n               // elem.style.height = 'auto';\n            }\n        } else {\n            computed_styles += \"flex:none;\";\n            //elem.style.flex = 'none';\n        }\n    }\n    else {\n        computed_styles += \"flex:none;\";\n    //        elem.style.flex = 'none';\n    }\n\n    // RelativeLayout Styles\n    if (props.hasOwnProperty('absolute') && props.absolute) {\n        if(props.hasOwnProperty(\"position\")){\n            computed_styles += \"position:\"+ props.hasOwnProperty(\"position\") +\";\";\n        } else {\n            computed_styles += \"position:absolute;\";\n        }\n        //elem.style.position = 'absolute';\n\n        if (props.hasOwnProperty(\"fromTop\")) {\n            if (isNaN(props.fromTop))\n                computed_styles += \"top: \" + props.fromTop + \";\";\n                // elem.style.top = props.fromTop;\n            else\n                computed_styles += \"top: \" + props.fromTop + \"px;\";\n                // elem.style.top = props.fromTop + 'px';\n        }\n\n        if (props.hasOwnProperty(\"fromBottom\")) {\n            if (isNaN(props.fromBottom))\n                computed_styles += \"bottom: \" + props.fromBottom + \";\";\n                //elem.style.bottom = props.fromBottom;\n            else\n                computed_styles += \"bottom: \" + props.fromBottom + \"px;\";\n                //elem.style.bottom = props.fromBottom + 'px';\n        }\n\n        if (props.hasOwnProperty(\"fromLeft\")) {\n            if (isNaN(props.fromLeft))\n                computed_styles += \"left: \" + props.fromLeft + \";\";\n                // elem.style.left = props.fromLeft;\n            else\n                computed_styles += \"left: \" + props.fromLeft + \"px;\";\n                // elem.style.left = props.fromLeft + 'px';\n        }\n\n        if (props.hasOwnProperty(\"fromRight\")) {\n            if (isNaN(props.fromRight))\n                computed_styles += \"right: \" + props.fromRight + \";\";\n                // elem.style.right = props.fromRight;\n            else\n                computed_styles += \"right: \" + props.fromRight + \"px;\";\n            // elem.style.right = props.fromRight + 'px';\n        }\n    }\n    /* Computed Styles End */\n    return computed_styles;\n}\n\n// what does this do?\nfunction separatorInputKeyDownHandlerNew(ev){\n    ev.stopPropagation();\n    try {\n        var inputId = ev.target.id;\n        var inputType = ev.inputType;\n        var input = document.getElementById(inputId);\n        var oldValidValue = \"\";\n        if(input.oldValidValue){\n            oldValidValue = input.oldValidValue;\n        }\n        if(input.value.length===0){\n            input.oldValidValue = input.value;\n            return;\n        }\n        var dataPattern = input.getAttribute(\"data-pattern\");\n        if (dataPattern){\n          var data = dataPattern.split(',');\n          var length = parseInt(data.pop());\n          var regexPattern = new RegExp(data.join(''));\n          var selectionStart = input.selectionStart;\n          var selectionEnd = input.selectionEnd;\n          var separator = input.getAttribute(\"separator\");\n          var separatorRepeat = parseInt(input.getAttribute(\"separatorRepeat\"));\n          var value = input.value.replace(/[^a-zA-Z0-9@.-]/g, \"\");\n          //If existing value itself greater than equal to max length\n          if (length) {\n            input.setAttribute(\"maxlength\", length);\n          }\n          // If code doesn't matches regex pattern\n          if (!regexPattern.test(value)) {\n            input.value = oldValidValue;\n            input.selectionStart = selectionStart- (selectionEnd-selectionStart)-1;\n            input.selectionEnd = selectionEnd- (selectionEnd - selectionStart)-1;\n            return;\n          }\n          //Insert separator\n          if(separator && separatorRepeat){\n            ev.preventDefault();\n            var formattedString = \"\";\n            for(var i =0;i<value.length;i++){\n              var element = value[i];\n              formattedString += element;\n              var factor = 0;\n              if (formattedString.length && formattedString.replace(/[^a-zA-Z0-9@.-]/g, \"\").length % (separatorRepeat + factor) == 0) {\n                  formattedString += separator;\n              }\n            }\n            if (formattedString[length] == separator) {\n              formattedString = formattedString.substring(0, formattedString.length - 1);\n            }\n            input.value = formattedString;\n            if(inputType == \"deleteContentBackward\"){\n              let cursorPosition = selectionStart;\n              if ((cursorPosition % (separatorRepeat + 1) ) === 0) {\n                  if(input.oldValidValue.length < formattedString.length){\n                      cursorPosition += 1\n                  } else {\n                      cursorPosition -= 1\n                  }\n              }\n              if(cursorPosition<0){\n                  cursorPosition = 0;\n              }\n              input.oldValidValue = formattedString;\n              input.focus();\n              input.selectionStart = cursorPosition;\n              input.selectionEnd = cursorPosition;\n            }\n          }\n          input.oldValidValue = input.value;\n        }\n    } catch(err){\n        console.error(err);\n    }\n}\n// what does this do?\nfunction separatorInputKeyDownHandler(ev){\n    ev.stopPropagation();\n    try{\n        var inputId = ev.target.id;\n        var input = document.getElementById(inputId)\n        var oldValidValue = \"\";\n        if(input.oldValidValue){\n            oldValidValue = input.oldValidValue;\n        }\n        if(input.value.length===0){\n            input.oldValidValue = input.value;\n            return;\n        }\n        var dataPattern = input.getAttribute(\"data-pattern\");\n        if (dataPattern) {\n            var data = dataPattern.split(',');\n            var length = parseInt(data.pop());\n            var regexString = data.join('');\n            var selectionStart = input.selectionStart;\n            var selectionEnd = input.selectionEnd;\n            const newValue = input.value;\n            if (length) {\n                if (newValue.length > length) {\n                    input.value = oldValidValue;\n                    ev.preventDefault();\n                    input.selectionStart = selectionStart- (selectionEnd-selectionStart)-1;\n                    input.selectionEnd = selectionEnd- (selectionEnd - selectionStart)-1;\n                    return;\n                }\n            }\n            var finalData = newValue;\n            var separator = input.getAttribute(\"separator\");\n            if(separator)\n            {\n                finalData = finalData.replace(new RegExp(separator, 'g') , \"\");\n            }\n            if (regexString) {\n                var regexPattern = new RegExp(regexString);\n                if (!regexPattern.test(finalData)) {\n                    ev.preventDefault();\n                    input.value = oldValidValue;\n                    input.selectionStart = selectionStart- (selectionEnd-selectionStart)-1;\n                    input.selectionEnd = selectionEnd- (selectionEnd - selectionStart)-1;\n                    return;\n                }\n            }\n            var separatorRepeat = parseInt(input.getAttribute(\"separatorRepeat\"));\n            if (separator && separatorRepeat) {\n                ev.preventDefault();\n                var formattedString = \"\";\n                for (let index = 0; index < finalData.length; index++) {\n                    var element = finalData[index];\n                    formattedString += element;\n                    var factor = 0;\n                    if (formattedString.length && formattedString.replace(/[^a-zA-Z0-9@.-]/g, \"\").length % (separatorRepeat + factor) == 0) {\n                        formattedString += separator;\n                    }\n                }\n                if (formattedString[formattedString.length - 1] == separator) {\n                    formattedString = formattedString.substring(0, formattedString.length - 1);\n                }\n                input.value = formattedString;\n                let cursorPosition = selectionStart;\n                if ((cursorPosition % (separatorRepeat + 1) ) === 0) {\n                    if(input.oldValidValue.length < formattedString.length){\n                        cursorPosition += 1\n                    } else {\n                        cursorPosition -= 1\n                    }\n                }\n                if(cursorPosition<0){\n                    cursorPosition = 0;\n                }\n                input.oldValidValue = formattedString;\n                input.focus();\n                input.selectionStart = cursorPosition;\n                input.selectionEnd = cursorPosition;\n                // console.log(\"formattedString----\", formattedString);\n            } else {\n                input.oldValidValue = finalData;\n            }\n        }\n    } catch(err){\n        console.error(err);\n    }\n}\n\nfunction setAttributes(view, elem, firstRender) {\n    var type = view.type\n    var props = view.props\n    let elem_style = \"\";\n    elem.setAttribute(\"id\",props.id);\n    // elem_style += \"id:\"+props.id+\";\";\n    if(view.props.autoUpdateHeight){\n        try {\n            const myObserver = new ResizeObserver(entries => {\n                entries.forEach(entry => {\n                    try{\n                        var payload = {\n                            event: \"heightUpdate\",\n                            height: entry.target.scrollHeight\n                        }\n                        if(payload.height){\n                            JBridge.runInJuspayBrowser(\"heightUpdate\", JSON.stringify(payload));\n                        }\n                    } catch(err){}\n                    return false;\n                });\n            });\n            myObserver.observe(elem);\n        } catch(err){}\n    }\n    if (type == \"relativeLayout\") {\n        elem_style+=\"overflow:hidden;\"\n    }\n    if (elem.classList && elem.classList.length > 0)\n        elem.classList.add(type)\n    else\n        elem.className = type\n\n    elem_style += mapAttributes.addTransitionValue(props);\n\n\n    // elem.style.transition = props.transition;\n    /* New Style */\n    /* Render from global styles */\n\n    elem_style+=mapAttributes.addSize(view);\n\n    // The order here matters, as for elements with same precedence, the element on the right side of the array will be considered\n    elem_style+=mapAttributes.addBorder(props);\n    elem_style+=mapAttributes.addVisibility(elem, props, type);\n    elem_style += mapAttributes.addExpandability(elem, props, type);\n\n    /* Render global styles end */\n\n    elem_style+=mapAttributes.addOverFlow(props);\n    elem_style+=mapAttributes.addLayout(elem, type, props);\n\n    mapAttributes.addImage(type,props,elem);\n    elem_style+=mapAttributes.addTextProperties(props, elem, type);\n    mapAttributes.addClassNameProperties(props,elem);\n\n    elem_style += mapAttributes.mapPropToStyle(elem,props,type);\n    elem = mapAttributes.setElemAttributes(elem,props);\n    elem_style+=mapAttributes.addFunctions(props, elem);\n    elem_style+=mapAttributes.addAnimationAttributes(props);\n    mapAttributes.addPseudoClasses(elem, view);\n\n    if (firstRender) { // Events are added when the element is created for the first time\n        initiateElement(type, props, elem)\n    }\n\n    return elem_style;\n}\n\n\n// mutation observers are slow, what is this and why can't global events solve this problem?\n/* Observer for afterRender */\nlet observer = (elem) => {\n    let id = elem.id;\n    if (!id || __OBSERVERS[id])\n        return;\n\n    __OBSERVERS[id] = new MutationObserver(function (item, observer) {\n        if (item && item[0].target) {\n            let target = item[0].target;\n            let id = target.id;\n            if (id) {\n                let view = __VIEWS[id];\n\n                if (view && view.props.hasOwnProperty('afterRender') && typeof view.props.afterRender == \"function\") {\n                    view.props.afterRender()\n                }\n            }\n        }\n\n        observer.disconnect();\n    });\n\n    (__OBSERVERS[id]).observe(elem, {\n        attributes: true\n    });\n}\n\n/* Do some actions after rendered */ // just use global events no?\nlet cb = (elem, view) => {\n    if (view.props.feedback && typeof view.props.feedback == \"function\") {\n        view.props.feedback()\n    }\n}\n\nwindow.inflateTimings = {\n    lastUpdatedAt: null\n}\n\n// Creates the DOM element if it has not been already inflated\n// View: Object similar to ReactDOM struct, {type, props, children}\n// parentElement: DOM Object\nlet setToolTip = function(view, elem) {\n    if (\n        view.type != 'linearLayout' &&\n        view.type != 'relativeLayout' &&\n        view.type != 'horizontalScrollView' &&\n        view.type != 'scrollView' &&\n        view.type != 'listView'\n    ) {\n        if (view.props.hasOwnProperty('tooltipText')) {\n            let tooltipText = view.props.tooltipText.trim()\n\n            if (tooltipText) {\n                let tooltipGravity = view.props.tooltipGravity ? view.props.tooltipGravity : 'top'\n\n                elem.classList.add('hasTooltip')\n\n                let tooltipElem = document.createElement('div')\n                tooltipElem.innerHTML = '<pre>' + tooltipText + '</pre>'\n                tooltipElem.classList.add('tooltipText')\n                tooltipElem.classList.add('tooltipGravity_' + tooltipGravity)\n\n                let size = 15\n                if (view.props.hasOwnProperty('tooltipTextSize') && !isNaN(view.props.tooltipTextSize)) {\n                    size = view.props.tooltipTextSize\n                }\n\n                tooltipElem.style.fontSize = size + 'px'\n\n                elem.appendChild(tooltipElem)\n            }\n        }\n    }\n}\nlet createNewElement = function(view, parentElement, siblingView){\n    let elem = null;\n    let subElem = null;\n    let element_style =\"\";\n    switch(view.type) {\n        case \"webView\":\n            elem = document.createElement('iframe')\n\n            elem.style.border = 'none';\n            // This allow is the property of iframe for setting feature policy \n            // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#attr-allow\n            if (view.props.allow && typeof view.props.allow === 'string'){\n                elem.allow = view.props.allow;\n            }\n            break;\n        case \"imageView\":\n            elem = document.createElement(\"img\");\n            element_style = \"\";\n            element_style += \"margin:0;\";\n            element_style += \"padding:0;\";\n            element_style += \"display:block;\";\n            element_style += \"max-width:100%;\";\n            element_style += \"max-height:100%;\";\n            element_style += \"box-sizing:border-box;\";\n            // elem[\"style\"][\"margin\"] = \"0\";\n            // elem[\"style\"][\"padding\"] = \"0\";\n            // elem[\"style\"][\"display\"] = \"block\";\n            // elem[\"style\"][\"max-width\"] = \"100%\";\n            // elem[\"style\"][\"max-height\"] = \"100%\";\n            // elem[\"style\"][\"box-sizing\"] = \"border-box\";\n            elem.setAttribute(\"alt\", \"\");\n            break;\n        case \"checkBox\":\n            elem = document.createElement(\"input\");\n            elem.setAttribute('type', 'checkbox');\n            if (view.props.hasOwnProperty('checked') && view.props.checked == true) {\n                elem.checked = true\n            } else {\n                elem.checked = false\n            }\n\n            if (view.props.hasOwnProperty('label') && view.props.label != '' && parentElement) {\n                subElem = document.createElement('label');\n                subElem.setAttribute('for', view.props.id);\n                subElem.innerHTML = view.props.label;\n                subElem.style.padding = \"0 0 0 5px\";\n                subElem.classList.add('input-label');\n\n                delete view.props.label;\n            }\n            break;\n        case \"editText\":\n            element_style = \"\";\n            if (view.props.hasOwnProperty('inputType') && view.props.inputType == 'multiText') {\n                elem = document.createElement(\"textarea\");\n                element_style += \"border:none;\";\n                element_style += \"resize:none;\";\n                element_style += \"outline:none;\";\n                //console.log('creating a component')\n\n                // elem.style.border = 'none';\n                // elem.style.resize = 'none';\n                // elem.style.outline = 'none';\n            } else {\n                elem = document.createElement(\"input\");\n            }\n\n            elem.value = view.props.text || \"\";\n\n            if (view.props.letterSpacing) {\n                element_style += \"letter-spacing : \" + view.props.letterSpacing + \";\";\n                // elem[\"style\"][\"letter-spacing\"] = view.props.letterSpacing;\n            }\n\n            if (view.props.label) {\n\n                // var inputViewStyle = \"\";\n                var inputView = elem;\n\n                element_style += \"width:100%;\";\n                // inputView.style.width = '100%';\n                element_style += setAttributes(view, inputView, true);\n\n                inputView.setAttribute(\"id\", view.props.id + \"_input\");\n\n\n                var l = document.createElement(\"label\");\n\n                var label_style = \"\";\n                l.setAttribute(\"for\", view.props.id + \"_input\");\n\n                l.innerHTML = view.props.label;\n                l.classList.add('input-label');\n\n                label_style += \"position:absolute;\";\n                label_style += \"color:#999;\";\n                label_style += \"background-color:#fff;\";\n                label_style += \"padding: 0 5px;\";\n                label_style += \"z-index: 10;\";\n                label_style += \"transition: transform 150ms ease-out, font-size 150ms ease-out;\";\n\n                // l[\"style\"][\"position\"] = \"absolute\";\n                // l[\"style\"][\"color\"] = \"#999\";\n                // l[\"style\"][\"background-color\"] = \"#fff\";\n                // l[\"style\"][\"padding\"] = \"0 5px\";\n                // l[\"style\"][\"z-index\"] = 10;\n                // l[\"style\"][\"transition\"] = \"transform 150ms ease-out, font-size 150ms ease-out\";\n\n                if (view.props.letterSpacing) {\n                    label_style += \"letter-spacing: \" + view.props.letterSpacing + \";\";\n                    // l[\"style\"][\"letter-spacing\"] = view.props.letterSpacing;\n                }\n\n                l.setAttribute(\"style\",label_style);\n                inputView.setAttribute(\"style\",element_style);\n\n                elem = document.createElement(\"div\");\n                element_style = \"\";\n                elem.classList.add('input-group');\n                elem.appendChild(l);\n                elem.appendChild(inputView);\n\n                view.props.style.position = \"relative\";\n                view.props.style.overflow\n                element_style += setAttributes(view, elem, true);\n                delete view.props.label;\n            } else if (view.props.hint) {\n                elem.placeholder = view.props.hint || \"\";\n            }\n            break;\n        case 'progressBar':\n            elem = document.createElement(\"div\");\n            element_style = \"\";\n            element_style += \"border-radius: 50%;\";\n            element_style += \"border: 0.25em solid #e0e0e0;\";\n            element_style += \"display: inline-block;\";\n            element_style += \"box-sizing: border-box;\";\n            element_style += \"border-left-color: transparent;\";\n            element_style += \"width: \" + view.props.width + \";\";\n            element_style += \"height: \" + view.props.height + \";\";\n            element_style += \"animation-duration: 0.7s;\";\n            element_style += \"animation-name: anim-progress-loader;\";\n            element_style += \"animation-iteration-count: infinite;\";\n            styleElem = document.createElement('style');\n            styleElem.appendChild(document.createTextNode(\"@keyframes anim-progress-loader {0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); }\"));\n            document.getElementsByTagName(\"body\")[0].appendChild(styleElem);\n            break;\n        case 'shimmerFrameLayout':\n            // for shimmerFrameLayout tag leaf nodes in the DOM tree so that CSS properties\n            // for animations and styles can be added\n            // every leaf node is tagged with a boolean shouldShimmer property in props\n            if (view.props.isSeen == undefined && !addedShimmerStyle) {\n                let maxShimmerWidth = tagShimmerElementsForRender(view, view.children, 0) + 10;\n                if (!isNaN(maxShimmerWidth)) {\n                    styleElem = document.createElement('style');\n                    styleElem.appendChild(document.createTextNode(\"@keyframes shimmer{0% {background-position: -\" + maxShimmerWidth + \"px 0;} 100% {background-position: \" + maxShimmerWidth + \"px 0;}}\"));\n                    document.getElementsByTagName(\"body\")[0].appendChild(styleElem);\n                    addedShimmerStyle = true;\n                }\n            }\n        // do not add a break here\n        default:\n            elem = document.createElement(view.elName || \"div\"); // create the element here\n            element_style = \"\";\n\n    }\n    setToolTip(view,elem);\n\n\n    addToParentElement(parentElement, siblingView, elem, subElem);\n\n    // appened attributes, nodes & style to the elemenent\n    element_style += setAttributes(view, elem, true);\n\n    /*if(view.props.hasOwnProperty('afterRender') && typeof view.props.afterRender == \"function\"){\n      if(!stopObserver){\n        // We should run observer for the element\n        observer(elem);\n        elem.setAttribute('has_render', true);\n      }\n    }*/\n    return {elem,subElem,element_style};\n}\nlet addToParentElement = function(parentElement, siblingView, elem, subElem) {\n\n    if (parentElement) {\n        let siblingElement = siblingView ? document.getElementById(siblingView.props.id) : null;\n\n        if (siblingElement && siblingElement != undefined) {\n            if (parentElement == siblingElement) { // Prepend\n                if (subElem) {\n                    parentElement.insertBefore(subElem, parentElement.childNodes[0]);\n                }\n                parentElement.insertBefore(elem, parentElement.childNodes[0]);\n            } else { // Insert in specified position\n                let nextSiblingElement = siblingElement.nextSibling;\n\n                parentElement.insertBefore(elem, nextSiblingElement);\n                if (subElem) {\n                    parentElement.insertBefore(subElem, nextSiblingElement);\n                }\n            }\n        } else {\n            parentElement.appendChild(elem);\n            if (subElem) {\n                parentElement.appendChild(subElem);\n            }\n        }\n    }\n}\nlet setLayout = function(view, elem) {\n    switch(view.type) {\n    case 'horizontalScrollView':\n        if (view.props.hasOwnProperty('scrollLeft') && !isNaN(view.props.scrollLeft))\n            elem.scrollLeft = view.props.scrollLeft;\n        break;\n    case 'listView':\n        if (view.props.hasOwnProperty('scrollTop') && !isNaN(view.props.scrollTop))\n            elem.scrollTop = view.props.scrollTop;\n        break;\n    case 'scrollView':\n        if (view.props.hasOwnProperty('scrollLeft') && !isNaN(view.props.scrollLeft))\n            elem.scrollLeft = view.props.scrollLeft;\n\n        if (view.props.hasOwnProperty('scrollTop') && !isNaN(view.props.scrollTop))\n            elem.scrollTop = view.props.scrollTop;\n    }\n}\nlet getElementByView = function(view, parentElement, siblingView, stopChild, renderStyle) {\n    if(!view.props.id){\n        view.props.id = window.JOS_PRESTO_ID++;\n        //window.__VIEWS[view.props.id] =  view;\n    }\n    let elem = document.getElementById(view.props.id);\n    let subElem = null; //  this is being used only for lablel property\n    let newInflated = false;\n    let element_style =\"\";\n\n    if (view.props.x == \"NaN\" || view.props.y == \"NaN\") {\n        view = handleWrapContent(view, parentElement)\n    }\n\n    if (!elem) {\n        let element = createNewElement(view, parentElement, siblingView);\n        newInflated = true;\n        elem = element.elem;\n        subElem = element.subElem;\n        element_style+=element.element_style;\n        if(view.props.hasOwnProperty(\"focus\") && view.props.focus)\n            window.focusedElement = view.props.id;\n\n    } else if (renderStyle) {\n        element_style += setAttributes(view, elem, false);\n    }\n    setLayout(elem,view);\n    if(!stopChild) computeChildDimens(view);\n    element_style += setComputedStyles(elem, view.props);\n    element_style += setAnimationStyles(elem, view.props);\n    addHoverProps(elem, view);\n    elem.setAttribute(\"style\",element_style); // finally attach all the styles to the element\n    return {elem,newInflated};\n}\nlet setAfterRenderFunctions = function (newInflated, view, elem, stopObserver) {\n\n    if (newInflated) {\n        if(view.hasOwnProperty)\n        if (view.props.hasOwnProperty('afterRender') && typeof view.props.afterRender == \"function\") { // mutation observers are expensive\n            if (!stopObserver) {\n                // We should run observer for the element\n                observer(elem);\n                elem.setAttribute('has_render', true);\n            }\n        }\n        // if(view.data){\n\n        //     for(let i=0;i<view.children.length;i++){\n        //         let child = document.getElementById(view.children[i].props.id);\n        //         child.addEventListener('onClick',()=>view.onItemClick(i));}\n        // }\n        cb(elem, view);\n    }\n}\n\nfunction isChrome50 () {\n    var a = navigator.userAgent.substring(navigator.userAgent.indexOf('Chrome/') + 7)\n    return parseInt(a.substring(0, a.indexOf(\".\"))) <= 50\n}\n\nlet renderList = (view,elem, computeList)=>{\n    //console.dir(view.props.diffArray)\n        if(view.props.diffArray== \"filter\"){\n            // console.log(\"filtering\")\n            // console.time('filtering')\n            view.children=[];\n            elem.innerHTML = '';\n            for(let i=0;i<view.props.itemDatas.length;i++)\n            {\n                view.children.push(List.getChildItemViewByIndex(view,i));\n\n            }\n            computeChildDimens(view);\n            for(let i=0;i<view.props.itemDatas.length;i++){\n                var chrome50matchList;\n                if(isChrome50()) {\n                    chrome50matchList = {h : [], w: []}\n                }\n                elem.appendChild(inflateView({view:view.children[i], computeList :computeList }))}\n                handleMatchParentChrome50(chrome50matchList)\n                // TODO :: run height enforcer\n            //console.timeEnd('filtering')\n        }\n        //replacing only the diff elements\n        else if(view.props.diffArray){\n            //console.time('patch')\n            for(let i of view.props.diffArray)\n            {\n                //console.log(\"CHANGING VIEW OF \"+i)\n                console.time(\"patchingElement\")\n                let oldView = view.children[i];\n                let oldChild = document.getElementById(oldView.props.id);\n                if(oldChild){\n\n                    let newChildView = List.getChildItemViewByIndex(view,i);\n                    newChildView.onClick = oldView.onClick;\n                    view.children[i] = newChildView\n                    computeChildDimens(view)\n                    var chrome50matchList;\n                    if(isChrome50()) {\n                        chrome50matchList = {h : [], w: []}\n                    }\n                    let newChild = inflateView({view:newChildView, computeList : computeList, chrome50matchList});\n                    handleMatchParentChrome50(chrome50matchList);\n                    // newChild.addEventListener('click',newChildView.props.onClick)\n                    // newChild.style.cursor='pointer'\n                    // console.dir(newChild)\n                    elem.replaceChild(newChild,oldChild);\n\n                }\n                console.timeEnd('patchingElement')\n        }\n        }\n        view.props.diffArray = undefined;\n}\nlet inflateView = function ({view, parentElement, siblingView, stopChild, renderStyle, computeList, chrome50matchList} ={}) {\n    view.state = view.state || {};\n    if(view.props.listData){\n        view.props.itemDatas = (typeof view.props.listData == \"string\") ? JSON.parse(view.props.listData) : view.props.listData;\n        if(!view.props.data){\n            view.props.data = JSON.parse(view.props.listItem)\n        }\n    }\n    if(typeof chrome50matchList == \"object\") {\n        chrome50matchList.h = chrome50matchList.h || []\n        chrome50matchList.w = chrome50matchList.w || []\n        if(view.props.height == \"match_parent\") {\n            chrome50matchList.h.push(view)\n        }\n        if(view.props.width == \"match_parent\") {\n            chrome50matchList.w.push(view)\n        }\n    }\n\n    let {elem,newInflated} = getElementByView(view, parentElement, siblingView, stopChild, renderStyle);\n    if (view && view.hasOwnProperty(\"props\") && view.props.hasOwnProperty(\"testID\")){\n        view.props.testID = view.props.testID.replaceAll(/[^a-z0-9_]/gi, '_').replace(/_+/g, '_').toLowerCase();\n        elem.setAttribute(\"testID\", view.props.testID);\n    }\n    //patching list\n    if(view.props.listData && renderStyle ){\n        renderList(view, elem, computeList);\n    } else if (!stopChild ) {\n        //firstRender List\n        if (view.props.itemDatas) {\n            List.createListView(view);\n            computeChildDimens(view);\n        }\n       if (view.hasOwnProperty('children') && view.children.length > 0) {\n           preComputeLayoutDimens(view);\n           postComputeLayoutDimens2(view, computeList)\n            for (let i = 0; i < view.children.length; i++) {\n                if (view.children[i]) {\n                    view.children[i].parent = view;\n                    if (i != 0) {\n                        inflateView({view:view.children[i], parentElement:elem, siblingView:view.children[i - 1], stopChild:renderStyle, renderStyle, computeList, chrome50matchList});\n                    } else {\n                        inflateView({view:view.children[i], parentElement:elem, siblingView:view, stopChild:renderStyle, renderStyle, computeList, chrome50matchList});\n                    }\n                }\n            }\n           \n        }\n        view.state = view.state || {};\n        view.state.computedHeight = isNaN(parseInt(view.props.height)) ? view.state.computedHeight || 0 : parseInt(view.props.height)\n        view.state.computedWidth = isNaN(parseInt(view.props.width)) ? view.state.computedWidth || 0 : parseInt(view.props.width)\n    }\n    else {\n        postComputeLayoutDimens2(view, computeList);\n    }\n    setAfterRenderFunctions(newInflated, view, elem);\n\n    return elem;\n};\n\nlet preComputeLayoutDimens = (view) => {\n    view.state = view.state || {}\n    if (view.type == \"relativeLayout\") {\n        view.state.treatMatchParentAsWrapHeight = view.state.practicalHeight == \"wrap_content\";\n        view.state.treatMatchParentAsWrapWidth = view.state.practicalWidth == \"wrap_content\";\n        // if(view.state.treatMatchParentAsWrapHeight && view.state.treatMatchParentAsWrapWidth)\n        for (var i = 0; i < view.children.length; ++i) {\n            if (view.children[i].props.height != \"match_parent\")\n                view.state.treatMatchParentAsWrapHeight = false;\n            if (view.children[i].props.width != \"match_parent\")\n                view.state.treatMatchParentAsWrapWidth = false;\n            if (!view.state.treatMatchParentAsWrapWidth && !view.state.treatMatchParentAsWrapHeight)\n                break\n        }\n    }\n}\n\nlet postComputeLayoutDimens2 = (view,postComputeList) =>{\n    if(postComputeList && view.type == \"relativeLayout\" && (view.state.practicalWidth == \"wrap_content\"  || view.state.practicalHeight == \"wrap_content\" ) && view.children.length > 0) {\n        postComputeList.push(view.props.id);\n        window.__VIEWS[view.props.id] = window.__VIEWS[view.props.id] || view\n    }\n}\n\nlet getValueFromPixel = (pixel) =>{\n    return parseInt(pixel.substring(0,pixel.length-1));\n}\nlet postCompute = (list) =>{\n    while(list.length>0){\n        let id = list.pop();\n \n        let elem = document.getElementById(id);\n        if(!elem)\n            continue;\n        let childNodes = elem.children;\n        let maxHeight = 0;\n        let maxWidth = 0;\n        for (var i = 0; i < childNodes.length; ++i) {\n                let style = childNodes[i].currentStyle || window.getComputedStyle(childNodes[i]);\n                if(style.display != \"none\") {\n                    maxHeight = maxHeight > childNodes[i].offsetHeight ? maxHeight : (childNodes[i].offsetHeight + getValueFromPixel(style.marginTop) + getValueFromPixel(style.marginBottom));\n                    maxWidth = maxWidth > childNodes[i].offsetWidth ? maxWidth : childNodes[i].offsetWidth;\n                }\n        }\n        let view = window.__VIEWS[id];\n        if(view && view.state && view.state.practicalHeight == \"wrap_content\" ) {\n            elem.style.height = maxHeight + \"px\"\n        }\n        if(view && view.state && view.state.practicalWidth == \"wrap_content\") {\n            elem.style.width = maxWidth + \"px\"\n        }\n        \n    }\n}\nlet postComputeLayoutDimens = (view, elem) => {\n    if(view && view.type == \"relativeLayout\" && (view.state && (view.state.practicalWidth == \"wrap_content\"  || view.state.practicalHeight == \"wrap_content\" )) && view.children.length > 0) {\n        var largestHeight = view.children[0].state.computedHeight;\n        var largestWidth = view.children[0].state.computedWidth;\n        for (var i = 1; i < view.children.length; ++i) {\n            if (view.state && view.state.practicalHeight == \"wrap_content\") {\n                largestHeight = largestHeight > view.children[i].state.computedHeight ? largestHeight : view.children[i].state.computedHeight;\n            }\n            if (view.state && view.state.practicalWidth == \"wrap_content\") {\n                largestWidth = largestWidth > view.children[i].state.computedWidth ? largestWidth : view.children[i].state.computedWidth\n            }\n        }\n        if(view.state && view.state.practicalHeight == \"wrap_content\" ) {\n            elem.style.height = largestHeight + \"px\"\n            view.state.computedHeight = largestHeight\n        }\n        if(view.state && view.state.practicalWidth == \"wrap_content\") {\n            elem.style.width = largestWidth + \"px\"\n            view.state.computedWidth = largestWidth\n        }\n    }\n}\n\n// what?\nlet handleWrapContent = (view, parentElement) => {\n    let newDimen = 0;\n    for (var i = 0; i < parentElement.childNodes.length; i++) {\n        newDimen += parentElement.childNodes[i].offsetWidth;\n    }\n    view.props.x = newDimen;\n    return view;\n}\n\nfunction handleMatchParentChrome50 (chrome50matchList) {\n    // Chrome 50 is not supporting height/ width 100% inside flex : 1 layouts.\n    // Below code derives height from parent in cases where it failed to compute\n    if(!chrome50matchList) {\n        return;\n    }\n    // Commented code is used for debugging purposes, to find misfires\n    // window.modifiedIds = window.modifiedIds || []\n    for(var x = chrome50matchList.h, i =0 ; x && i < x.length ; ++i) {\n        if(x[i] && x[i].props && x[i].props.id){\n            var elm = document.getElementById(x[i].props.id)\n            if ( elm && elm.parentElement \n                && (elm.parentElement.parentElement \n                    // Code to handle cases where parent is height 0 weight 1\n                    // and parent of parent is orientation vertical\n                    && elm.parentElement.parentElement.style\n                    && elm.parentElement.parentElement.style.flexDirection == \"column\" \n                    && elm.parentElement.style['flex-grow'] == \"1\"\n                    && elm.parentElement.style['flex-shrink'] == \"1\"\n                    // Do not apply if offset height is 0; \n                    // this will happen for relative layouts; \n                    // 100% which is already present will give correct result\n                    && elm.parentElement.offsetHeight\n                    ) \n                ) {\n                elm.style.height = elm.parentElement.offsetHeight + \"px\"\n                // window.modifiedIds.push(x[i].props.id)\n            }\n        }\n    }\n    for(var x = chrome50matchList.w, i =0 ; x && i < x.length ; ++i) {\n        if(x[i] && x[i].props && x[i].props.id){\n            var elm = document.getElementById(x[i].props.id)\n            if ( elm && elm.parentElement \n                && (elm.parentElement.parentElement\n                    && elm.parentElement.parentElement.style\n                    // Code to handle cases where parent is width 0 weight 1\n                    // and parent of parent is orientation horizontal\n                    && elm.parentElement.parentElement.style.flexDirection == \"row\" \n                    && elm.parentElement.style['flex-grow'] == \"1\"\n                    && elm.parentElement.style['flex-shrink'] == \"1\"\n                    // Do not apply if offset width is 0; \n                    // this will happen for relative layouts; \n                    // 100% which is already present will give correct result\n                    && elm.parentElement.offsetWidth\n                    )\n                ) {\n                elm.style.width = elm.parentElement.offsetWidth + \"px\"\n                // window.modifiedIds.push(x[i].props.id)\n            }\n        }\n    }\n}\n\nlet tagShimmerElementsForRender = function(node, children, width) {\n    // console.log(\"shimmer children\", node, children);\n    if (children.length == 0) {\n        node.props.shouldShimmer = true;\n        return node.props.width;\n    }\n    for(let i = 0; i < children.length; i++) {\n        // console.log(\"tagging children\", children[i], children[i].children);\n        width = Math.max(tagShimmerElementsForRender(children[i], children[i].children, width), width);\n    }\n    node.props.isSeen = true;\n    return width;\n}\n\nmodule.exports = {\n    inflateView,\n    computeChildDimens,\n    List,\n    postComputeLayoutDimens,\n    preComputeLayoutDimens,\n    postCompute,\n    isChrome50,\n    handleMatchParentChrome50\n};\n","function parseColors(color) {\n    if (color.length < 8)\n      return color;\n  \n    if (color.indexOf(\"rgba\") !== -1 || color.indexOf(\"rgb\") !== -1)\n      return color;\n  \n    var alpha = parseInt(color.substring(1, 3), 16);\n    alpha = (alpha / 255).toFixed(2);\n  \n    var hexColor = color.substring(3, 9);\n    var rgbaColor = \"rgba(\" + convertHexToRgb(hexColor) + \",\" + alpha + \")\";\n  \n    return rgbaColor;\n}\n\nfunction rWS(value) {\n  return value.replace(/ /g, '');\n}\n\nfunction cS(value) {\n  return value ? value + '' : \"\";\n}\n\nfunction convertColorToRgba(color) {\n  color = rWS(cS(color));\n\n  var values;\n  var alpha = \"1.00\";\n\n  if (color.length >= 8) {\n    alpha = parseInt(color.substring(1, 3), 16);\n    alpha = (alpha / 255).toFixed(2);\n    color = color.substring(3, 9);\n  } else {\n    color = color.substring(1, color.length);\n  }\n\n  color = convertHexToRgb(rWS(color));\n  values = color.split(',');\n\n  return {\n    r: parseInt(rWS(values[0])),\n    g: parseInt(rWS(values[1])),\n    b: parseInt(rWS(values[2])),\n    a: parseFloat(alpha)\n  };\n}\n\nfunction getValueFromPixel (pixel) { return parseInt(pixel.substring(0,pixel.length-1)) };\n\nfunction calculateHeight (elem) {\n  if(!elem) return 0;\n  let childNodes = elem.children;\n  let maxHeight = 0;\n  for (var i = 0; i < childNodes.length; ++i) {\n          let style = childNodes[i].currentStyle || window.getComputedStyle(childNodes[i]);\n          maxHeight = maxHeight > childNodes[i].offsetHeight ? maxHeight : (childNodes[i].offsetHeight + getValueFromPixel(style.marginTop) + getValueFromPixel(style.marginBottom));\n  }\n  return maxHeight;\n}\n\nfunction convertHexToRgb(hex) {\n  var r = parseInt(hex.substring(0, 2), 16);\n  var g = parseInt(hex.substring(2, 4), 16);\n  var b = parseInt(hex.substring(4, 6), 16);\n\n  return r + \",\" + g + \",\" + b;\n}\n\nconst state = {\n  fragments : {},\n  fragmentTypes : {},\n  mainRootView : {\n    type: \"relativeLayout\",\n    props: {\n        \"h\": document.getElementById(\"content\").clientHeight,\n        \"w\": document.getElementById(\"content\").clientWidth\n    }\n  }\n} \n\nfunction addToContainerList(id , namespace){\n    let container = getContainer(namespace, true);\n    if(container)\n    {\n      let key = function () {\n            function s4() {\n                return Math.floor((1 + Math.random()) * 0x10000)\n                    .toString(16)\n                    .substring(1);\n            }\n            return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n                s4() + '-' + s4() + s4() + s4();\n        }();\n      state.fragments[key] = document.getElementById(id);\n      state.fragmentTypes[key] = window.__VIEWS[id];\n      return key;\n  }\n  return \"__failed\"\n}\n\nfunction getContainer( namespace ){\n    if(namespace){\n      let container = state.fragments[namespace];\n      if(container)\n        return container;\n      else return undefined;\n  }\n  return document.getElementById(\"content\");\n}\n\nfunction getParentView(namespace, view) {\n  if (window.__VIEWS && !window.__VIEWS.content) {\n    window.__VIEWS.content = state.mainRootView;\n  }\n  if (namespace) {\n    let containerType = state.fragmentTypes[namespace];\n    if (containerType) {\n      containerType.children = containerType.children || []\n      containerType.children.push(view);\n      containerType.oldView = true;\n      return containerType;\n    }\n  }\n\n  if (state.mainRootView.children) {\n    state.mainRootView.oldView = true;\n  }\n  state.mainRootView.children = state.mainRootView.children || [];\n  state.mainRootView.children.push(view);\n  return state.mainRootView;\n}\n\n// function modifyTranslation(config){\n//   var x = config.x || \"0\";\n//   var y = config.y || \"0\";\n//   var animationArray = JSON.parse(config.inlineAnimation);\n//   var animationArray = animationArray.map(function(a){\n//     if(a.hasOwnProperty(\"fromX\")){\n//       a.fromX = parseInt(a.fromX) + parseInt(x) + '';\n//       if(!a.hasOwnProperty(\"toX\")){\n//         a.toX = 0 + parseInt(x) + '';\n//       }\n//     }\n//     if(a.hasOwnProperty(\"toX\")){\n//       a.toX = parseInt(a.toX) + parseInt(x) + '';\n//     }\n//     if(a.hasOwnProperty(\"fromY\")){\n//       a.fromY = parseInt(a.fromY) + parseInt(y) + '';\n//       if(!a.hasOwnProperty(\"toY\")){\n//         a.toY = 0 + parseInt(y) + '';\n//       }\n//     }\n//     if(a.hasOwnProperty(\"toY\")){\n//       a.toY = parseInt(a.toY) + parseInt(y) + '';\n//     }\n//     return a;\n//   })\n//   return (animationArray);\n// }\n\nmodule.exports = {\n    parseColors,\n    rWS, \n    cS, \n    convertColorToRgba,\n    addToContainerList,\n    getParentView,\n    getContainer,\n    calculateHeight\n}\n","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nconst BaseView = require('./baseView');\nconst VIEW = new BaseView(null, null, {});\n\n// Object of types of animations available on screen change\nconst AnimationTypes = {\n  SLIDE: {\n    name: \"slide\",\n    handler: slideHandler\n  },\n  SLIDE_VERTICAL: {\n    name: \"slide_down\",\n    handler: slideDownHandler\n  },\n  SIMPLE: {\n    name: \"simple\",\n    handler: simpleHandler\n  }\n}\n\nconst DEFAULT_ANIMATION = AnimationTypes.SLIDE;\n\nfunction simpleHandler(fromId, toId, direction) {\n  let cmd = VIEW.cmd({\n    id: toId,\n    translationZ: ++window.ZIndex\n  });\n  return cmd;\n}\n\nfunction slideDownHandler(fromId, toId, direction) {\n  let container = VIEW.cmdContainer();\n  let cmd;\n\n  if (direction == 1) {\n    cmd = VIEW.cmd({\n      id: toId,\n      translationY: window.__HEIGHT,\n      a_duration: '300',\n      a_translationY: '0',\n      translationZ: ++window.ZIndex,\n    });\n    container = container.addCmd(cmd);\n\n    cmd = VIEW.cmd({\n      id: fromId,\n      a_translationY: -0.2 * window.__HEIGHT,\n      a_duration: '300'\n    });\n    container = container.addCmd(cmd);\n\n    return container;\n  }\n\n  window.ZIndex++;\n  cmd = VIEW.cmd({\n    id: fromId,\n    translationY: 0,\n    a_translationY: window.__HEIGHT,\n    a_duration: '300',\n    translationZ: ++window.ZIndex\n  });\n  container = container.addCmd(cmd);\n\n  cmd = VIEW.cmd({\n    id: toId,\n    translationZ: window.ZIndex-1,\n    a_translationY: '0',\n    translationY: -0.2 * window.__HEIGHT,\n    a_duration: '300',\n  });\n  container = container.addCmd(cmd);\n\n  return container;\n}\n\nfunction slideHandler(fromId, toId, direction) {\n  let container = VIEW.cmdContainer();\n  let cmd;\n  if (direction == 1) {\n    cmd = VIEW.cmd({\n      id: toId,\n      visibility: 'visible',\n      translationX: window.__WIDTH,\n      a_duration: '300',\n      a_translationX: '0',\n      translationZ: ++window.ZIndex,\n    });\n    container = container.addCmd(cmd);\n    cmd = VIEW.cmd({\n      id: fromId,\n      translationX: '0',\n      visibility: 'visible',\n      a_duration: '300',\n      a_translationX: (-.2 * window.__WIDTH) + '',\n    });\n    container = container.addCmd(cmd);\n  }\n\n  if (direction == -1) {\n    window.ZIndex++;\n    cmd = VIEW.cmd({\n      id: fromId,\n      translationX: '0',\n      a_duration: '300',\n      a_translationX: window.__WIDTH,\n      translationZ: ++window.ZIndex,\n    });\n    container = container.addCmd(cmd);\n\n    cmd = VIEW.cmd({\n      id: toId,\n      visibility: 'visible',\n      translationX: (-.2 * window.__WIDTH) + '',\n      a_duration: '300',\n      a_translationX: '0',\n      translationZ: window.ZIndex - 1,\n    });\n    container = container.addCmd(cmd);\n  }\n\n  return container;\n}\n\n/*\n  Generic Handler for Animation\n  Arguments:\n    fromViewId: Number - Id of the view currently visible on the screen\n    toViewID: Number - Id of the view which has to be brought on the screen\n    ID: Number - Id of the view to be animated\n    animator: Obj - {name:string, handler:function}\n    direction: Number - Represents of the direction of the screen\n      -1 : Go back to the already rendered screen (right to left)\n       1 : Go to the new screen (left to right)\n*/\nfunction getAnimation(fromViewID, toViewId, direction, animator) {\n  if (!animator)\n    animator = DEFAULT_ANIMATION;\n\n  if (typeof animator === \"object\" && typeof animator.handler === \"function\")\n    return animator.handler(fromViewID, toViewId, direction);\n  else\n    console.log(new Error(\"Animation handler is not a function, type: \" +\n      animator));\n}\n\nmodule.exports.types = AnimationTypes;\nmodule.exports.getAnimation = getAnimation;","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nconst merge =  require(\"./helper\").merge;\n\nString.prototype.addCmd = function(data) {\n  return this.concat(data);\n};\n\nArray.prototype.addCmd = function(data) {\n  this.push(data);\n  return this;\n};\n\nlet parseParams;\nif (window.__OS == \"ANDROID\")\n  parseParams = require('./helpers/android/parseParams');\nelse if (window.__OS == \"WEB\")\n  parseParams = require('./helpers/web/parseParams');\nelse\n  parseParams = require('./helpers/ios/parseParams');\n\nclass BaseView {\n  constructor(props, children) {\n    this.props = props || {};\n    this.children = children || [];\n\n    window.__SETFN = function (config) {\n      Android.runInUI(\n        this.set(config),\n        null\n      )\n    }.bind(this)\n\n    this.idSet = {};\n\n    if (this.props.id) {\n      this.idSet[\"id\"] = this.props.id;\n    } else {\n      this.props.id = this.id(\"id\");\n    }\n\n    if (this.props._ref) {\n      this.props._ref(this);\n    }\n  }\n\n  resolveChildren() {\n    return this.children.map(function(child) {\n      return child.render();\n    });\n  }\n\n  findRecurse(obj, selector) {\n    var children = obj.children;\n\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].displayName && children[i].displayName == selector) {\n        this.foundChildren.push(children[i]);\n      }\n\n      if (children[i].children && children[i].children.length)\n        this.findRecurse(children[i], selector);\n    }\n\n    return;\n  }\n\n  find(selector, obj) {\n    this.foundChildren = [];\n\n    if (!obj)\n      this.findRecurse(this.layout, selector);\n    else\n      this.findRecurse(obj, selector);\n\n    return this.foundChildren;\n  }\n\n  id(name) {\n    if (!this.idSet[name]) {\n      window.__ID++;\n      this.idSet[name] = window.__ID;\n    }\n    \n    return this.idSet[name];\n  }\n\n  setIds(arr) {\n    if (!this.idSet)\n      this.idSet = {};\n\n    for (var i = 0; i < arr.length; i++) {\n      if (!this.idSet[arr[i]]) {\n        window.__ID++;\n        this.idSet[arr[i]] = window.__ID + '';\n      }\n    }\n  }\n\n  handleSpecialChars(value) {\n    value = value.indexOf(',') > -1 ? value.replace(/\\,/g, '\\\\\\\\,') : value;\n    value = value.indexOf(':') > -1 ? value.replace(/\\:/g, '\\\\\\\\:') : value;\n    value = value.indexOf('=') > -1 ? value.replace(/\\=/g, '\\\\\\\\=') : value;\n    value = value.indexOf(';') > -1 ? value.replace(/\\;/g, '\\\\\\\\;') : value;\n\n    return value;\n  }\n\n  cmdForAndroid(config) {\n    var cmd = \"set_view=ctx->findViewById:i_\" + config.id + \";\";\n    var runInUI;\n\n    if (config.toast) {\n      cmd = \"set_TOAST=android.widget.Toast->makeText:ctx_ctx,cs_\" + this.handleSpecialChars(\n          config.text) + \",i_\" + (config.duration == \"short\" ? 0 : 1) +\n        \";get_TOAST->show\";\n    } else if (config && Object.keys(config).length) {\n      delete config.id;\n\n      config.root = \"true\";\n      runInUI = parseParams(\"linearLayout\", config, \"get\").runInUI;\n\n      cmd += runInUI + ';';\n    }\n\n    return cmd;\n  }\n\n  cmdContainer() {\n    if (window.__OS == \"ANDROID\")\n      return \"\";\n    return [];\n  }\n\n  cmdForWeb(config) {\n    if (Object.keys(config).length)\n      return parseParams(\"linearLayout\", config, \"set\");\n  }\n\n  cmd(config) {\n    if (window.__OS == \"ANDROID\")\n      return this.cmdForAndroid(config);\n    else if (window.__OS == \"WEB\")\n      return this.cmdForWeb(config);\n    return config;\n  }\n\n  appendChild(id, jsx, index, fn, replaceChild) {\n    var proxyFnName;\n    if (!replaceChild) {\n      replaceChild = false;\n    }\n\n    if (fn) {\n      proxyFnName = 'F' + window.__FN_INDEX;\n      window.__PROXY_FN[proxyFnName] = fn;\n      window.__FN_INDEX++;\n    }\n\n    jsx = (window.__OS != \"ANDROID\") ? jsx : JSON.stringify(jsx);\n\n    if (proxyFnName)\n      Android.addViewToParent(id, jsx, index, proxyFnName, replaceChild);\n    else\n      Android.addViewToParent(id, jsx, index, null, replaceChild);\n  }\n\n  getView(jsx) {\n    if (window.__OS != \"ANDROID\")\n      return jsx;\n\n    return JSON.stringify(jsx);\n  }\n\n  updateProps(props) {\n    this.props = merge(this.props, props);\n    const oldContainerId = this.layout.idSet.id;\n    const layout = this.render();\n    for (let i=0; i<layout.children.length; i++) {\n      if (i==0) this.replaceChild(oldContainerId, layout.children[i], i);\n      else this.appendChild(oldContainerId, layout.children[i], i);\n    }\n    this.layout.idSet.id = oldContainerId;\n  }\n\n  removeView(id) {\n    if (__OS == \"WEB\")\n      return Android.removeView(id);\n    return \"set_VIEW=ctx->findViewById:i_\" + id +\n      \";set_PARENT=get_VIEW->getParent;get_PARENT->removeView:get_VIEW;\"\n  }\n\n  removeChildren(id) {\n    if (__OS == \"WEB\")\n      return Android.removeChildren(id);\n    return \"set_VIEW=ctx->findViewById:i_\" + id +\n      \";get_VIEW->removeAllViews;\"\n  }\n\n  replaceChild(id, jsx, index, fn) {\n    this.appendChild(id, jsx, index, fn, true);\n  }\n}\n\nmodule.exports = BaseView;","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\n/*\n  ViewContext of the Parent.f\n  Obj holds the available width and height of it's parent container\n  and x & y offset for it's children\n*/\nfunction viewCtxObj(view) {\n  let props = view.props;\n  let obj = {\n    w: props.w * 1,\n    h: props.h * 1,\n    width: props.w * 1,\n  };\n\n  view.children.forEach(child => {\n    child.props.w = child.props.width;\n    child.props.h = child.props.height;\n  });\n\n  return obj;\n}\n\n/*\n  Returns true if container has a child with match_parent for a\n  given dimension (width or height)\n*/\nfunction hasMatchParentChild(childs, dimen) {\n  for (let i = 0; i < childs.length; i++) {\n    let childProp = childs[i].props;\n\n    if (childProp[dimen] && (childProp[dimen] == \"match_parent\")) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/*\n  Returns true if container has weighted child\n*/\nfunction hasWeightChild(type, childs) {\n  if (type != \"linearLayout\") {\n    return false;\n  }\n\n  for (let i = 0; i < childs.length; i++) {\n    let child = childs[i].props;\n\n    if (child.weight && parseFloat(child.weight) > 0) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction computeRelativeLayout(view) {\n  let viewCtx = viewCtxObj(view);\n  let children = view.children;\n\n  children.forEach(child2 => {\n    let child = window.__VIEWS[child2.props.id] || child2;\n    let props = child.props;\n    var pl = 0, pr = 0, pt = 0, pb =0;\n    if(view.props && view.props.hasOwnProperty('padding')) {\n      var padding = view.props.padding.split(',')\n      pl = padding[0]\n      pt = padding[1]\n      pr = padding[2]\n      pb = padding[3]\n    }\n    props.absolute = true;\n    props.fromTop = pt;\n    props.fromBottom = 'auto';\n    props.fromLeft = pl;\n    props.fromRight = 'auto';\n\n    if(props.hasOwnProperty('alignParentLeft') && props.alignParentLeft){\n      props.fromLeft = 0;\n      props.fromRight = 'auto';\n    }\n    if(props.hasOwnProperty('alignParentRight') && props.alignParentRight){\n      props.fromLeft = 'auto';\n      props.fromRight = pr;\n    }\n\n    if(props.hasOwnProperty('alignParentBottom') && props.alignParentBottom){\n      props.fromTop = 'auto';\n      props.fromBottom = pb;\n    }\n  });\n}\n\nfunction computeLinearlayout(view) {\n  let viewCtx = viewCtxObj(view);\n  let parentProps = view.props;\n  let children = view.children;\n  let isHorizontal = (parentProps.orientation === \"vertical\") ? false : true;\n\n  let activeDimen = (isHorizontal) ? \"w\" : \"h\";\n  let passiveDimen = (isHorizontal) ? \"h\" : \"w\";\n\n  let hasWeight = hasWeightChild(view.type, children);\n  let hasMatchParent = hasMatchParentChild(children, activeDimen);\n\n  if (hasWeight && hasMatchParent) {\n    // We can't use both at the same time\n    return;\n  }\n\n  /* Initialize */\n  children.forEach(child2 => {\n    let child = window.__VIEWS[child2.props.id] || child2;\n    let props = child.props;\n\n    if (props.hasOwnProperty(\"activeDimen\"))\n      delete props[\"activeDimen\"];\n    if (props.hasOwnProperty(\"activeWeight\"))\n      delete props[\"activeWeight\"];\n  });\n  /* Initialize End */\n\n  if(hasMatchParent || hasWeight){\n    let first = true;\n    /* Iterate Child */\n    children.forEach(child2 => {\n      let child = window.__VIEWS[child2.props.id] || child2;\n      let props = child.props;\n\n      if(props.hasOwnProperty(activeDimen) && props[activeDimen] == 'match_parent'){\n        props['activeDimen'] = activeDimen;\n\n        if(first){\n          props['activeWeight'] = 1;\n          first = false;\n        }else{\n          props['activeWeight'] = 0;\n        }\n      }else{\n        if(props.hasOwnProperty('weight') && !isNaN(props['weight'])){\n          let weight = parseFloat(props['weight']);\n\n          if(weight > 0){\n            props['activeDimen'] = activeDimen;\n            props['activeWeight'] = weight;\n          }\n        }\n      }\n    });\n    /* Iterate Child End */\n  }\n} // End Compute LinearLayout\n\nfunction computeChildDimens(view) {\n  if (view.type == \"linearLayout\") {\n    computeLinearlayout(view);\n  } else if (view.type == \"scrollView\" || view.type == \"listView\") {\n    view.props.orientation = \"vertical\";\n    computeLinearlayout(view);\n  } else if (view.type == \"horizontalScrollView\") {\n    view.props.orientation = \"horizontal\";\n    computeLinearlayout(view);\n  } else if (view.type == \"relativeLayout\") {\n    computeRelativeLayout(view);\n  } else {\n    // Do Nothing\n  }\n\n  return view;\n}\n\nmodule.exports = {\n  computeChildDimens\n};","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nfunction run() {\n  if (window.__OS === \"IOS\") {\n    return require(\"./ios\")\n  } else if (window.__OS === \"WEB\") {\n    return require(\"./web\")\n  } else {\n    return require(\"./android\")\n  }\n}\n\nmodule.exports = run();","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nvar parseParams = require('../helpers/web').parseParams;\n\nArray.prototype.flatten = function () {\n  return this.reduce(function (prev, cur) {\n    var more = [].concat(cur).some(Array.isArray);\n    return prev.concat(more ? cur.flatten() : cur);\n  }, []);\n};\n\nmodule.exports = function (type, props, children, elemType, keyId) {\n  // console.log(\"type is\",type); \n  // console.log(\"props are\",props); \n  // console.log(\"children is\",children); \n  // children = children.flatten();\n  // console.log(\"children after flatten is\",children);\n\n  if (!props)\n    props = {};\n  \n  if (typeof type === \"string\") {\n    //props = parseParams(type, props);\n    \n    let obj = {\n      props: props,\n      type: type,\n      children: children\n    };\n    if(elemType){\n      obj.elemType = elemType;\n    }\n    if(keyId){\n      obj.keyId = keyId;\n    }\n\n    window.__VIEWS[props.id] = obj; \n    window.__VIEW_DIMENSIONS[props.id] = null;\n    return obj;\n  } else {\n    return new type(props, children);\n  }\n}","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nmodule.exports = {\n  handle : (ui, callback) => {\n    if (!ui) {\n      return;\n    }\n    if(ui.render) {\n      if (typeof Android === \"undefined\")\n        throw new Error(\"Android is undefined\");\n\n      if (window.__OS != \"ANDROID\")\n        return Android.Render(ui.render, null);\n      else {\n        if(typeof Android.getNewID == \"function\") {\n          return Android.Render(JSON.stringify(ui.render), null, \"false\");\n        } else {\n          return Android.Render(JSON.stringify(ui.render), null);\n        }\n      }\n    }\n\n    if(ui.runInUI) {\n      Android.runInUI(ui.runInUI, null);\n    }\n    if(ui.addViewToParent) {\n      Android.addViewToParent(ui.addViewToParent.parentId, JSON.stringify(ui.addViewToParent.jsx), ui.addViewToParent.index, null);\n    }\n  }\n}","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\n// Following functions are used by WEB and IOS Render\nfunction cacheDimen(view) {\n  let props = view.props;\n  let dimen = {\n    w: props.w,\n    h: props.h,\n    x: props.x,\n    y: props.y,\n    gravity: props.gravity,\n    padding: props.padding,\n    orientation: props.orientation,\n    stroke: props.stroke ? props.stroke.split(\",\")[0] * 1 : 0,\n  }\n  window.__VIEW_DIMENSIONS[props.id] = dimen;\n}\n\nfunction shouldMove(view) {\n  let props = view.props;\n  let dimen = {\n    w: props.w,\n    h: props.h,\n    x: props.x,\n    y: props.y\n  };\n  let cachedDimen = window.__VIEW_DIMENSIONS[props.id];\n  let changed = false;\n  if (!cachedDimen)\n    return dimen;\n  for (let key in dimen) {\n    if (cachedDimen[key] != dimen[key]) {\n      dimen.id = props.id;\n      changed = true;\n    }\n  }\n  if (changed)\n    return dimen;\n  return null;\n}\n\nfunction getOS() {\n  var userAgent = navigator.userAgent;\n  if (!userAgent)\n    return console.error(new Error(\"UserAgent is null\"));\n  if (userAgent.includes(\"Android\") && userAgent.includes(\"Version\"))\n    return \"ANDROID\";\n  if ((userAgent.includes(\"iPhone\") || userAgent.includes(\"iPad\")) && !userAgent.includes(\"Version\"))\n    return \"IOS\";\n  return \"WEB\";\n}\n\nfunction clearViewExternals(view) {\n  if (!view)\n    return;\n\n  delete window.__VIEWS[view.props.id];\n  delete window.__VIEW_DIMENSIONS[view.props.id];\n  \n  if(__OBSERVERS[view.props.id])\n    delete window.__OBSERVERS[view.props.id];\n\n  view.children.forEach(clearViewExternals);\n}\n\n// use: clone( <thing to copy> ) returns <new copy>\nfunction clone(o, m){\n  // return non object values\n  if('object' !==typeof o) return o\n  // m: a map of old refs to new object refs to stop recursion\n  if('object' !==typeof m || null ===m) m =new WeakMap()\n  var n =m.get(o)\n  if('undefined' !==typeof n) return n\n  // shallow/leaf clone object\n  var c =Object.getPrototypeOf(o).constructor\n  // TODO: specialize copies for expected built in types i.e. Date etc\n  switch(c) {\n    // shouldn't be copied, keep reference\n    case Boolean:\n    case Error:\n    case Function:\n    case Number:\n    case Promise:\n    case String:\n    case Symbol:\n    case WeakMap:\n    case WeakSet:\n      n =o\n      break;\n    // array like/collection objects\n    case Array:\n      m.set(o, n =o.slice(0))\n      // recursive copy for child objects\n      n.forEach(function(v,i){\n        if('object' ===typeof v) n[i] =clone(v, m)\n      });\n      break;\n    case ArrayBuffer:\n      m.set(o, n =o.slice(0))\n      break;\n    case DataView:\n      m.set(o, n =new (c)(clone(o.buffer, m), o.byteOffset, o.byteLength))\n      break;\n    case Map:\n    case Set:\n      m.set(o, n =new (c)(clone(Array.from(o.entries()), m)))\n      break;\n    case Int8Array:\n    case Uint8Array:\n    case Uint8ClampedArray:\n    case Int16Array:\n    case Uint16Array:\n    case Int32Array:\n    case Uint32Array:\n    case Float32Array:\n    case Float64Array:\n      m.set(o, n =new (c)(clone(o.buffer, m), o.byteOffset, o.length))\n      break;\n    // use built in copy constructor\n    case Date:\n    case RegExp:\n      m.set(o, n =new (c)(o))\n      break;\n    // fallback generic object copy\n    default:\n      m.set(o, n =Object.assign(new (c)(), o))\n      // recursive copy for child objects\n      for(c in n) if('object' ===typeof n[c]) n[c] =clone(n[c], m)\n  }\n  return n\n}\n\nfunction merge() {\n  var obj = {},\n      i = 0,\n      il = arguments.length,\n      key;\n  for (; i < il; i++) {\n      for (key in arguments[i]) {\n          if (arguments[i].hasOwnProperty(key)) {\n              obj[key] = arguments[i][key];\n          }\n      }\n  }\n  return obj;\n};\n\nmodule.exports = {\n  shouldMove,\n  cacheDimen,\n  getOS,\n  merge,\n  clearViewExternals,\n  clone,\n}","/* \n\nThis function executes a function stored in a hashmap. \nIt takes atleast a callback string (key for hashmap) to excute the function. \nIn essence this is the read function for the global hashmap.\n./callbackMapper.j is the write function for the global hashmap. \n\nWhile the function name contains `UI` in it, it is not related to UI is any way. \nIt is mostly called after the UI is rendered but JBridge also calls it to call APIs. \n\n*/ \n\n\nfunction invokeUICallback () {\n    let args = (arguments.length === 1 ? [arguments[0]] : Array.apply(null,\n        arguments));\n    var fName = args[0]\n    var functionArgs = args.slice(1)\n    var currTime;\n    var timeDiff;\n    \n    if (window.__ALL_ONCLICKS && window.__ALL_ONCLICKS.indexOf(fName) != -1 && args[2] == \"feedback\" && JBridge && JBridge.setClickFeedback) {\n        return JBridge.setClickFeedback(args[1]);\n    }\n  \n    if (window.__THROTTELED_ACTIONS && window.__THROTTELED_ACTIONS.indexOf(fName) == -1) {\n        let proxyFnKey = fName;\n        if (proxyFnKey.charAt(0) == '\"')\n            proxyFnKey = fName.substring(1, fName.length - 1);\n        window.__PROXY_FN[proxyFnKey].apply(null, functionArgs);\n    } else if (window.__LAST_FN_CALLED && (fName == window.__LAST_FN_CALLED.fName)) {\n        currTime = getCurrTime();\n        timeDiff = currTime - window.__LAST_FN_CALLED.timeStamp;\n  \n        if (timeDiff >= 300) {\n            window.__PROXY_FN[fName].apply(null, functionArgs);\n            window.__LAST_FN_CALLED.timeStamp = currTime;\n        } else {\n            console.warn(\"function throtteled\", fName);\n            console.warn(\"time diff\", timeDiff);\n        }\n    } else {\n        window.__PROXY_FN[fName].apply(null, functionArgs);\n        window.__LAST_FN_CALLED = {\n            timeStamp: (new Date()).getTime(),\n            fName: fName\n        }\n    }\n};\n\nmodule.exports = {\n    invoke : invokeUICallback\n};","/*\n * Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n * JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n *\n * This file is part of JUSPAY Platform.\n *\n * JUSPAY Platform is free software: you can redistribute it and/or modify\n * it for only educational purposes under the terms of the GNU Affero General\n * Public License (GNU AGPL) as published by the Free Software Foundation,\n * either version 3 of the License, or (at your option) any later version.\n * For Enterprise/Commerical licenses, contact <info@juspay.in>.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n * be liable for all damages without limitation, which is caused by the\n * ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n * damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n * The end user has NO right to claim any indemnification based on its use\n * of Licensed Software. See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n */\n\n /*\n\tThis takes a function and puts it in a hashmap called __PROXY_FN and returns the key (a string). \n\tKey is contructed using a global variables. \n\tHashmap is also a global variable. \n\tPoint To Note : Since iframes, we have different DOM Documents. So, these global variables are global to Presto-UI's document. \n */ \nmodule.exports.map = (fn) => {\n\t// console.debug(\"presto-ui callback-mapper document location\",document.location); \n\tif(typeof window.__FN_INDEX !== 'undefined' && window.__FN_INDEX !== null) {\n\t\tvar proxyFnName = 'F' + window.__FN_INDEX;\n\t\tif (window.__payload && window.__payload.service){\n\t\t\tproxyFnName = window.__payload.service + \"_\" + proxyFnName;\n\t\t}\n\t\twindow.__PROXY_FN[proxyFnName] = fn;\n\t\twindow.__FN_INDEX++;\n\t\t// console.log(\"Presto-UI Callback Mapper proxyFnName is\",proxyFnName); \n\t\treturn proxyFnName;\n\t} else {\n\t\tthrow new Error(\"Please initialise window.__FN_INDEX = 0 in index.js of your project.\");\n\t}\n}\n","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nmodule.exports = {\n\tcallbackMapper : require(\"./callbackMapper\")\n}\n","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nconst helpers = {\n\tcommon : require(\"./common\")\n};\n\n\nif (window.__OS == \"ANDROID\") {\n\thelpers.android = require(\"./android\")\n}\nelse if (window.__OS == \"WEB\") {\n\thelpers.web = require(\"./web\");\n}\nelse {\n\thelpers.ios = require(\"./ios\");\n}\n\n\nmodule.exports = helpers;","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nmodule.exports = {\n\tparseParams : require(\"./parseParams\"),\n}\n","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\n\n/*\n\n\nTHIS FILE IS REDUNDANT NOW, WEB NO LONGER CALLS ANY FUNCTION OF THIS FILE\n\n\n*/ \n\n\nArray.prototype.rotate = (function () {\n  // save references to array functions to make lookup faster\n  var push = Array.prototype.push,\n    splice = Array.prototype.splice;\n\n  return function (count) {\n    var len = this.length >>> 0, // convert to uint\n      count = count >> 0; // convert to int\n\n    // convert count to value in range [0, len)\n    count = ((count % len) + len) % len;\n\n    // use splice.call() instead of this.splice() to make function generic\n    push.apply(this, splice.call(this, 0, count));\n    return this;\n  };\n})();\n\nfunction flattenObject(ob) {\n  var toReturn = {};\n  for (var i in ob) {\n    if (!ob.hasOwnProperty(i)) continue;\n    if ((typeof ob[i]) == 'object') {\n      var flatObject = flattenObject(ob[i]);\n      for (var x in flatObject) {\n        if (!flatObject.hasOwnProperty(x)) continue;\n        if (typeof flatObject[x] !== \"undefined\")\n          toReturn[x] = flatObject[x];\n      }\n    } else {\n      toReturn[i] = ob[i];\n    }\n  }\n\n  return toReturn;\n}\n\nfunction parseColors(color) {\n  if (color.length < 8)\n    return color;\n\n  if (color.indexOf(\"rgba\") !== -1 || color.indexOf(\"rgb\") !== -1)\n    return color;\n\n  var alpha = parseInt(color.substring(1, 3), 16);\n  alpha = (alpha / 255).toFixed(2);\n\n  var hexColor = color.substring(3, 9);\n  var rgbaColor = \"rgba(\" + convertHexToRgb(hexColor) + \",\" + alpha + \")\";\n\n  return rgbaColor;\n}\n\nfunction lookAndReplaceProp(str,match, val){\n  var output = match + \"(\" + val + \"px)\";\n  if (!str) return output; \n  var start = str.indexOf(match); \n  if (start >= 0){\n    var end = str.substr(start).indexOf(\")\"); \n    if (end >= 0) {\n      var found = str.substr(start,end+1); \n      return str.replace(found,output); \n    }\n    else {\n      return str+output; \n    }\n  } \n  else return str+output; \n}\n\n\nfunction parseLayoutProps(type, config, key) {\n  if (typeof config[key] == \"undefined\" || config[key] == null) {\n    delete config[key];\n    return;\n  }\n\n  if (!config.style) {\n    var t = \"\"\n    var ele_id = document.getElementById(config.id)\n    if (ele_id) {\n      if (ele_id.style)\n        t = (ele_id.style.transform) ? ele_id.style.transform  : \"\" \n    }\n    config.style = {};\n    config.style.transform = t; \n    config.animation = {};\n    config.animation.transform = \"\";\n  }\n\n  if (!config.attributes) \n    config.attributes = {};\n\n  if (!config.style.className)\n    config.style.className = \"\";\n\n  if ((key == \"onClick\" || key == \"onClickEvent\")) {\n    if(!isMobile && !config.cursorType){\n      config.style.cursor = \"pointer\";\n    }\n  }\n  if(key == \"cursorType\") {\n    config.style.cursor = config.cursorType;\n  }\n  if (key == \"textSize\")\n    config.style.fontSize = config.textSize + 'px';\n  if (key == 'fontSize')\n    config.style.fontSize = config.fontSize + 'px';\n  \n  if (key == 'url')\n    config.attributes.src = config.url\n    \n  /*if (key == \"imageUrl\"){\n    let imageUrl = config.imageUrl;\n    \n    if(config.rawData) {\n      // Do nothing\n    } else {\n      let temp = imageUrl.split('.');\n      let ext = '';\n      if(temp && temp.length > 0)\n        ext = temp[temp.length - 1];\n      \n      let exts = [\"jpeg\", \"jpg\", \"png\", \"bmp\", \"svg\", \"gif\"];\n      ext = ext.toLowerCase();\n\n      if(!exts.includes(ext)) {\n        imageUrl += '.png';\n      }\n    }\n\n    config.attributes.src = imageUrl;\n  }*/\n\n  if (key == \"backgroundColor\") {\n    config.style.backgroundColor = parseColors(config.backgroundColor);\n  }\n\n  if (key == \"background\") {\n    config.style.background = config.background;\n  }\n  if (key == \"backgroundDrawable\") {\n    config.style[\"background-image\"] = \"url('\"+config.backgroundDrawable+\"')\";\n  }\n\n  if (key == \"color\") {\n    config.style.color = parseColors(config.color);\n  }\n\n  if(key == \"position\") {\n    config.style.position = config.position;\n  }\n\n  if(key == \"bottomFixed\") {\n    config.style.bottom = config.bottomFixed;\n  }\n  if(key == \"topFixed\") {\n    config.style.top = config.topFixed;\n  }\n  if(key == \"leftFixed\") {\n    config.style.left = config.leftFixed;\n  }\n  if(key == \"rightFixed\") {\n    config.style.right = config.rightFixed;\n  }\n\n  if(key == \"zIndex\") {\n    config.style[\"z-index\"] = config.zIndex;\n  }\n\n  if(key == \"autofocus\"){\n    var isIPhone = (navigator.userAgent.indexOf(\"iPhone\") !== -1)\n    if(config.autofocus && !isIPhone){\n      config.attributes[\"autofocus\"] = \"autofocus\";  \n    }\n  }\n  if(key==\"focus\") {\n    if (config.focus && config.id){\n      var doc = document.getElementById(config.id);\n      if (doc){\n        doc.focus();\n      }\n\n    }\n  }\n\n  if (key == \"cornerRadius\") {\n    config.style.borderRadius = config.cornerRadius + \"px\";\n  }\n\n  if (key == \"cornerRadii\") {\n    const [radius, ...corners] = config.cornerRadii.split(',');\n    config.style.borderRadius = corners.map(bool => `${bool * radius}px`).join(' ') + \";\";\n  }\n\n  if (key == \"alpha\") {\n    config.style.opacity = config[key];\n  }\n\n  if (key == \"a_alpha\") {\n    config.animation.opacity = config[key];\n  }\n\n  if (key == \"fontFamily\") {\n    config.style.fontFamily = config.fontFamily;\n  }\n\n  if (key == 'typeface') {\n    switch(config.typeface){\n      case 'normal':\n        config.style.fontWeight = 400;\n      break;\n      case 'bold':\n        config.style.fontWeight = 700;\n      break;\n      case 'italic':\n        config.style.fontStyle = 'italic';\n      break;\n      case 'bold_italic':\n        config.style.fontWeight = 700;\n        config.style.fontStyle = 'italic';\n      break;\n      case 'underline':\n        config.style.textDecoration = 'underline';\n      break;\n    }\n  }\n\n  if (key == \"fontStyle\") {\n    let match = config.fontStyle.match(/[/-]/);\n    let fontName = match ? config.fontStyle.slice(0, match.index) : config.fontStyle;\n    config.style.fontFamily = fontName;\n\n    if (!match)\n      return;\n\n    let type = config.fontStyle.slice(match.index + 1);\n    type = type.replace(/[-/]/g, '');\n    type  = type.toLowerCase();\n\n    if (type.indexOf('italic') != -1)\n      config.style.fontStyle = 'italic';\n\n    let fontWeight = 0;\n\n    if (type.indexOf('extralight') != -1)\n      fontWeight = 200;\n    else if (type.indexOf('light') != -1)\n      fontWeight = 300;\n    else if (type.indexOf('regular') != -1 || type.indexOf('book') != -1)\n      fontWeight = 400;\n    else if (type.indexOf('semibold') != -1 || type.indexOf('medium') != -1)\n      fontWeight = 500;\n    else if (type.indexOf('bold') != -1 || type.indexOf('heavy') != -1)\n      fontWeight = 700;\n    else if (type.indexOf('black') != -1)\n      fontWeight = 900;\n\n    if(fontWeight > 0)\n      config.style.fontWeight = fontWeight;\n  }\n\n  if (key == 'visibility') {\n    let visibility = config.visibility;\n    if (visibility == 'invisible')\n      config.style.visibility = \"hidden\";\n    else if (visibility == 'gone')\n      config.style.display = \"none\";\n    else {\n      config.style.visibility = '';\n    }\n  } \n\n  if (key == 'expand') {\n    let visibility = config.expand + '';\n    if (visibility == 'true'){\n      config.style.visibility = '';\n    }\n    else\n      config.style.display = \"none\";\n  }\n\n  if (key == \"stroke\") {\n    let values = config.stroke.split(\",\");\n\n    if(values.length == 2)\n      config.style.border = values[0] + \"px solid \" + values[1];\n    else if(values.length == 3){\n\n      strokeMap = {\"b\": \"borderBottom\", \"t\" : \"borderTop\", \"r\" : \"borderRight\", \"l\" : \"borderLeft\"};\n      \n      for (var i of values[2]){\n          if (strokeMap[i] !== undefined)\n            config.style[strokeMap[i]] = values[0] + \"px solid \" + values[1];\n      }\n\n    }\n    \n  }\n\n  if (key == \"strokeTop\") {\n    let values = config.strokeTop.split(\",\");\n    \n    if(values.length == 2)\n      config.style.borderTop = values[0] + \"px solid \" + values[1];\n    else if(values.length == 3)\n      config.style.borderTop = values[0] + \"px \" + values[1] + \" \" + values[2];\n  }\n\n  if (key == \"strokeRight\") {\n    let values = config.strokeRight.split(\",\");\n    \n    if(values.length == 2)\n      config.style.borderRight = values[0] + \"px solid \" + values[1];\n    else if(values.length == 3)\n      config.style.borderRight = values[0] + \"px \" + values[1] + \" \" + values[2];\n  }\n\n  if (key == \"strokeBottom\") {\n    let values = config.strokeBottom.split(\",\");\n    \n    if(values.length == 2)\n      config.style.borderBottom = values[0] + \"px solid \" + values[1];\n    else if(values.length == 3)\n      config.style.borderBottom = values[0] + \"px \" + values[1] + \" \" + values[2];\n  }\n\n  if (key == \"strokeLeft\") {\n    let values = config.strokeLeft.split(\",\");\n    \n    if(values.length == 2)\n      config.style.borderLeft = values[0] + \"px solid \" + values[1];\n    else if(values.length == 3)\n      config.style.borderLeft = values[0] + \"px \" + values[1] + \" \" + values[2];\n  }\n\n  if (key == \"translationY\") {\n    config.style.transform = lookAndReplaceProp(config.style.transform,\"translateY\",config[key]);\n  }\n\n  if (key == \"a_translationY\") {\n    config.animation.transform += \"translateY(\" + config[key] + \"px) \";\n  }\n\n  if (key == \"translationX\") {\n    config.style.transform = lookAndReplaceProp(config.style.transform,\"translateX\",config[key]);\n  }\n\n  if (key == \"a_translationX\") {\n    config.animation.transform += \"translateX(\" + config[key] + \"px) \";\n  }\n\n  if (key == \"scaleX\") {\n    config.style.transform += \"scaleX(\" + config[key] + \") \";\n  }\n\n  if (key == \"a_scaleX\") {\n    config.animation.transform += \"scaleX(\" + config[key] + \") \";\n  }\n\n  if (key == \"scaleY\") {\n    config.style.transform += \"scaleY(\" + config[key] + \") \";\n  }\n\n  if (key == \"a_scaleY\") {\n    config.animation.transform += \"scaleY(\" + config[key] + \") \";\n  }\n\n  if (key == \"rotation\") {\n    config.style.transform += \"rotate(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"a_rotation\") {\n    config.animation.transform += \"rotate(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"rotationX\") {\n    config.style.transform += \"rotateX(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"a_rotationX\") {\n    config.animation.transform += \"rotateX(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"rotationY\") {\n    config.style.transform += \"rotateY(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"a_rotationY\") {\n    config.animation.transform += \"rotateY(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"translationZ\") {\n    var v = config[key];\n    config.style[\"-webkit-box-shadow\"] = \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n    config.style[\"-moz-box-shadow\"]= \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n    config.style[\"box-shadow\"]=  \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n    \n  }\n\n  if (key == \"a_duration\" && !isNaN(config[key])) {\n    const suffix = config.transitionTimingFunction ? (\" \" + config.transitionTimingFunction) : \"\";\n    config.animation.transition = config[key] + 'ms all' + suffix;\n  }\n  \n  if (type == \"textView\" && key == \"gravity\" && config.gravity) {\n    config.style.textAlign = config.gravity;\n    if (config.gravity == \"center_vertical\") {\n      config.style[\"align-items\"] = \"center\";\n      config.style.display = \"flex\";\n    } else if (config.gravity == \"center_horizontal\") {\n      config.style.display = \"flex\";\n      config.style[\"justify-content\"] = \"center\";\n    } else if (config.gravity == \"center\") {\n      config.style.display = \"flex\";\n      config.style[\"align-items\"] = \"center\";\n      config.style[\"justify-content\"] = \"center\";\n    }\n    else if (config.gravity == \"center\"){\n      config.style.display = \"flex\";\n      config.style[\"align-items\"] = \"center\";\n      config.style[\"justify-content\"] = \"center\";\n    }\n  }\n  if (type == \"linearLayout\" && key == \"gravity\" && config.gravity){\n    if (config.margin && config.gravity==\"center_vertical\"){\n      var margin=config.margin.split(\",\");\n      if (config.width == \"match_parent\"){\n         config.style.width=\"calc(100% - \"+(parseInt(margin[0])+parseInt(margin[2])).toString()+\"px )\";\n      }\n    }\n  }\n\n  if (key == \"hint\"){\n    config.attributes.placeholder = config.hint;\n  }\n\n  if (key == \"contentEditable\" && config.contentEditable){\n    config.attributes.contenteditable = true;\n  }\n\n  if (key == \"id\") {\n    config.attributes.id = config.id;\n  }\n\n\n  if (key == \"gradient\") {\n    var gradientObj =JSON.parse(config.gradient);\n    if (gradientObj.type == \"linear\") {\n      var angle = gradientObj.angle;\n      var values = gradientObj.values;\n      var colors = values.join(\", \");\n      config.style[\"background-image\"] = \"linear-gradient(\"+angle+\"deg, \"+colors+\")\"\n    }\n     else {\n      var values = gradientObj.values;\n      var colors = values.join(\", \");\n      config.style[\"background-image\"] = \"radial-gradient(\"+colors+\")\"\n     }\n  }\n\n\n  if (key == \"inputType\" && window.__isMOBILE && !window.__isFIREFOX) {\n    var inputType = \"text\";\n    if (config.inputType == \"numericPassword\" || config.inputType == \"password\") {\n      if(config.inputTypeI == 4 && isMobile || navigator.userAgent.search(\"Firefox\") === -1 ){\n        inputType = \"tel\";\n        config.style[\"-webkit-text-security\"] = \"disc\";\n        config.style[\"-moz-text-security\"] = \"disc\";\n        config.style[\"text-security\"] = \"disc\";\n      } else {\n        inputType = \"password\"\n        config.attributes.autocomplete = \"new-password\"\n      }\n    } else if (config.inputType == \"disabled\") {\n        config.attributes.disabled = 'disabled'\n    } else if (config.inputType == \"numeric\") {\n        inputType = \"number\"\n    }\n    if (config.separator) {\n      if(config.inputType == \"numeric\"){\n        inputType = \"tel\"  \n      } else {\n        inputType = \"text\"\n      }\n    }\n\n    config.attributes.type = inputType\n  }\n\n  if (key == \"rotateImage\") {\n    if(config.rotateImage){\n      config.style[\"-webkit-animation\"] = \"load3 4s infinite linear\";\n      config.style[\"animation-duration\"] = \"4s\";\n      config.style[\"animation-timing-function\"] = \"linear\";\n      config.style[\"animation-delay\"] = \"0s\";\n      config.style[\"animation-iteration-count\"] = \"infinite\";\n      config.style[\"animation-direction\"] = \"normal\";\n      config.style[\"animation-fill-mode\"] = \"none\";\n      config.style[\"animation-play-state\"] = \"running\";\n      config.style[\"animation-name\"] = \"rotation\";\n\n    }\n  }\n\n  if (key == \"pattern\") {\n    config.attributes[\"data-pattern\"] = config.pattern;\n    var data = config.pattern.split(',');\n    var length = parseInt(data.pop());\n    if(length>10) {length = 10;}\n    config.attributes[\"size\"] =length;\n\n  }\n  // if(key == \"inputTypeI\"){\n  //   if(config.inputTypeI == 4){\n  //     config.attributes[\"inputmode\"] = \"numeric\";\n  //   }\n    \n  // }\n\n  if (key == \"separator\") {\n    config.attributes[\"separator\"] = config.separator;\n  }\n  if (key == \"separatorRepeat\") {\n    config.attributes[\"separatorRepeat\"] = config.separatorRepeat;\n  }\n\n  if (key == \"myAttr\") {\n    config.attributes[\"myAttr\"] = config.myAttr;\n  }\n  if (key == \"blurBackground\" && config.blurBackground){\n    config.style[\"backdrop-filter\"] = \"blur(3px)\";\n  }\n  if (key == \"shadow\") {\n    var shadowValues = config.shadow.split(config.shadowSeparator || ',');\n    var shadowBlur = rWS(cS(shadowValues[2]));\n    var shadowSpread = rWS(cS(shadowValues[3]));\n    var shadowOpacity = rWS(cS(shadowValues[5]));\n    var shadowOffset = {\n        x: rWS(cS(shadowValues[0])),\n        y: rWS(cS(shadowValues[1]))\n      };\n\n    var shadowColor = convertColorToRgba(shadowValues[4]);\n    var shadowType = config.shadowType ? `${config.shadowType} ` : ''\n\n    config[\"style\"][\"box-shadow\"] = shadowType + parseInt(shadowOffset.x) + \"px \" + parseInt(shadowOffset.y) + \"px \" + parseInt(shadowBlur) + \"px \" + parseInt(shadowSpread) + \"px rgba(\" + shadowColor.r + \", \" +  shadowColor.g + \", \" +  shadowColor.b + \", \" +  shadowColor.a + \")\" ;\n  }\n\n  if (key == \"lineHeight\")\n    config.style.lineHeight = config.lineHeight;\n\n  if (key == \"objectFit\")\n    config.style.objectFit = config.objectFit;\n\n  if (key == \"clickable\") {\n    config.style.pointerEvents = config.clickable ? \"auto\" : \"none\";\n  }\n  if (key == \"display\") {\n    config.style.display = config.display\n  }\n}\n\nfunction convertColorToRgba(color) {\n  color = rWS(cS(color));\n\n  var values;\n  var alpha = \"1.00\";\n\n  if (color.length >= 8) {\n    alpha = parseInt(color.substring(1, 3), 16);\n    alpha = (alpha / 255).toFixed(2);\n    color = color.substring(3, 9);\n  } else {\n    color = color.substring(1, color.length);\n  }\n\n  color = convertHexToRgb(rWS(color));\n  values = color.split(',');\n\n  return {\n    r: parseInt(rWS(values[0])),\n    g: parseInt(rWS(values[1])),\n    b: parseInt(rWS(values[2])),\n    a: parseFloat(alpha)\n  };\n}\n\nfunction convertHexToRgb(hex) {\n  var r = parseInt(hex.substring(0, 2), 16);\n  var g = parseInt(hex.substring(2, 4), 16);\n  var b = parseInt(hex.substring(4, 6), 16);\n\n  return r + \",\" + g + \",\" + b;\n}\n\nfunction cS(value) {\n  return value ? value + '' : \"\";\n}\n\nfunction rWS(value) {\n  return value.replace(/ /g, '');\n}\n\nfunction setDefaults(type, config) {\n  if (type == \"linearLayout\") {\n    config.orientation = config.orientation;\n  }\n}\nfunction this_inlineAnimation(config) {\n  var con=modifyTranslation(config);\n  var element = document.getElementById(con.name);\n}\nfunction modifyTranslation(config){\n  var x = config.x || \"0\";\n  var y = config.y || \"0\";\n  var animationArray = JSON.parse(config.inlineAnimation);\n  var animationArray = animationArray.map(function(a){\n    if(a.hasOwnProperty(\"fromX\")){\n      a.fromX = parseInt(a.fromX) + parseInt(x) + '';\n      if(!a.hasOwnProperty(\"toX\")){\n        a.toX = 0 + parseInt(x) + '';\n      }\n    }\n    if(a.hasOwnProperty(\"toX\")){\n      a.toX = parseInt(a.toX) + parseInt(x) + '';\n    }\n    if(a.hasOwnProperty(\"fromY\")){\n      a.fromY = parseInt(a.fromY) + parseInt(y) + '';\n      if(!a.hasOwnProperty(\"toY\")){\n        a.toY = 0 + parseInt(y) + '';\n      }\n    }\n    if(a.hasOwnProperty(\"toY\")){\n      a.toY = parseInt(a.toY) + parseInt(y) + '';\n    }\n    return a;\n  })\n  return (animationArray);\n}\nmodule.exports = function (type, config, getSetType) {\n  // var ok = flattenObject(c);\n  // console.log(\"object after flatten\",ok); \n  // var config = ok\n  setDefaults(type, config);\n\n  // console.log(\"object after flatten\",config); \n\n\n  var keys = Object.keys(config);\n\n  for (var i = 0; i < keys.length; i++) {\n    if ((config.style && config.style.display === 'none') && keys[i] === 'gravity')  {\n      continue;\n    }\n    parseLayoutProps(type, config, keys[i]);\n  }\n\n  \n  config.transition = [\n    String(config.a_duration || 0) +\"ms\",\n    \"all\",\n    config.transitionTimingFunction\n  ]\n    .filter(Boolean)\n    .join(\" \");\n\n  if (config.style.transform == \"\") {\n    delete config.style.transform;\n  }\n  if (config.hasOwnProperty(\"inlineAnimation\")) {\n    this_inlineAnimation(config);\n  }\n\n  return config;\n}","/*\n * Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n * JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n *\n * This file is part of JUSPAY Platform.\n *\n * JUSPAY Platform is free software: you can redistribute it and/or modify\n * it for only educational purposes under the terms of the GNU Affero General\n * Public License (GNU AGPL) as published by the Free Software Foundation,\n * either version 3 of the License, or (at your option) any later version.\n * For Enterprise/Commerical licenses, contact <info@juspay.in>.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n * be liable for all damages without limitation, which is caused by the\n * ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n * damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n * The end user has NO right to claim any indemnification based on its use\n * of Licensed Software. See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n */\n\n/*\n Used to initialize defaults for window funcions and variables.\n*/\n\nwindow.presto_ui_version = __VERSION__;\nconst { merge } = require('./helper');\nwindow.PrestoUI = require(\"./PrestoUIInterface\");\n\nconst getCurrTime = () => (new Date()).getTime()\nif(window.__OS == \"ANDROID\"){\n    var getScreenDetails = function() {\n    try {\n        let details = JSON.parse(Android.getScreenDimensions());\n        return {\n            screen_width: details.width + \"\",\n            screen_height: details.height + \"\"\n        };\n    } catch (err) {\n        console.error(\n            \"error in gettting screen dimensions, setting default values\", err);\n            return {\n                screen_width: \"1080\",\n                screen_height: \"1920\"\n            };\n        }\n    };\n    window.__DEVICE_DETAILS = getScreenDetails();\n}\n\nif(window.__OS !=\"WEB\"){\n    if(!window.parent.juspayAssetConfig){\n        try{\n            window.parent.juspayAssetConfig = JSON.parse(JBridge.loadFileInDUI(\"juspay_assets.json\"));\n        }catch(e){\n            window.parent.juspayAssetConfig = {};\n        }\n        \n    }\n    window.juspayAssetConfig = window.parent.juspayAssetConfig;\n}\n\nif (window.__OS == \"WEB\") {\n    // In case of iFrame based integration, this will cause CORS exception.\n    try {\n        window.Android = window.parent.Android?window.parent.Android:require('./WEB/AndroidInterface')\n    } catch (e){\n        window.Android = require('./WEB/AndroidInterface')\n        console.log(\"Failed to load window.parent.Android\");\n    }\n\n    window.JBridge = window.JBridge ? window.JBridge:window.parent.JBridge;\n} else if (window.__OS == \"IOS\") {\n    window.Android = require(\"./IOS/AndroidInterface\")\n    window.JBridge = merge(window.JBridge, {})\n}\n\nif (window.__DEVICE_DETAILS && window.__DEVICE_DETAILS.hasOwnProperty(\"screen_width\")) {\n    window.__WIDTH = window.__DEVICE_DETAILS.screen_width;\n} else {\n    window.__WIDTH = \"1080\";\n}\n\nif (window.__DEVICE_DETAILS && window.__DEVICE_DETAILS.hasOwnProperty(\"screen_height\")) {\n    window.__HEIGHT = window.__DEVICE_DETAILS.screen_height;\n} else {\n    window.__HEIGHT = \"1920\";\n}\n\nconst guid = Math.random().toString(36).substr(2, 9)\n\n//Intializing defaults\nif (window.__OS == \"WEB\") {\n    /* Components */\n    window.__COM_EVENT = false\n    window.__COM_RENDERED = {\n        SWITCH_GLOBAL: false,\n        DRP: {},\n        DSB: {},\n        DB: {},\n        NAVBAR: {}\n    }\n\n    window.__COM_CLASS_GROUP = {\n        WRAPPER: 'PDC_com_wrapper',\n        NAVBAR: 'PDC_com_navbar',\n        NAVBAR_ITEM: 'PDC_com_navbar_item',\n        NAVBAR_ITEM_WITH_SUB: 'PDC_com_navbar_has_sub',\n        NAVBAR_SUB: 'PDC_com_navbar_sub',\n        NAVBAR_SUB_RIGHT: 'PDC_com_navbar_sub_right',\n        NAVBAR_SUB_ITEM: 'PDC_com_navbar_subitem',\n        DRP: 'PDC_com_drp',\n        DRP_BODY: 'PDC_com_drp_body',\n        DB: 'PDC_com_db',\n        DB_FULL_BODY: 'PDC_com_db_full_body',\n        DB_BODY: 'PDC_com_db_body',\n        DB_OPTIONS: 'PDC_com_db_options',\n        DB_OPTION: 'PDC_com_db_option',\n        DSB: 'PDC_com_dsb',\n        DSB_FULL_BODY: 'PDC_com_dsb_full_body',\n        DSB_BODY: 'PDC_com_dsb_body',\n        DSB_OPTIONS: 'PDC_com_dsb_options',\n        DSB_OPTION: 'PDC_com_dsb_option',\n        DSB_SEARCH_WRAP: 'PDC_com_dsb_search_wrap',\n        DSB_SEARCH: 'PDC_com_dsb_search',\n        SWITCH: 'PDC_com_switch',\n        SWITCH_BODY: 'PDC_com_switch_body',\n        SWITCH_SLIDER: 'PDC_com_switch_slider',\n        BT: 'PDC_com_bt',\n        BT_DISABLED: 'PDC_com_bt_disabled'\n    }\n    window.__COM_COLOR_GROUP = {\n        BG: '#ffffff',\n        ACTIVE_BG: '#EEF1F8',\n        ACTIVE_COLOR: 'rgb(53, 64, 82)',\n        INACTIVE_COLOR: 'rgba(53, 64, 82, 0.5)',\n        BORDER_COLOR: '#A3AFC2',\n        ACTIVE_BORDER_COLOR: '#707886',\n        SEARCH_COLOR: '#dddddd',\n        INACTIVE_SWITCH: '#B7DBBC',\n        ACTIVE_SWITCH: '#36AF47',\n        BT_BORDER_COLOR: '#1585D8',\n        BT_BG_COLOR: '#1991EB',\n        BT_COLOR: '#ffffff'\n    }\n    window.__COM_ACTIVE = {\n        DSB: '',\n        NAVBAR: '',\n        DB: ''\n    }\n    /* Components End */\n\n    /* Modal */\n    window.__STYLE_ID = 'style_' + guid\n    window.__RENDERED_KEYFRAMES = []\n    window.__MODAL_PROPS = {}\n    window.__CONTENTMODAL_CLASS = 'PDC_modal'\n    window.__OPENMODAL_CLASS = 'PDC_modal-open'\n    window.__BACKDROPMODAL_CLASS = 'PDC_modal-backdrop'\n    window.__DISABLEDBACKDROP_CLASS = 'PDC_modal-backdrop-disabled'\n    window.__SHOWNMODAL_CLASS = 'PDC_modal-shown'\n    window.__FADEMODAL_CLASS = 'PDC_modal-fade'\n    window.__SLIDEMODAL_CLASS = 'PDC_modal-slide'\n    /* Modal End */\n\n    window.onclick = (event) => {\n        if (event.target &&\n            event.target.classList.contains(window.__BACKDROPMODAL_CLASS) &&\n            !event.target.classList.contains(window.__DISABLEDBACKDROP_CLASS)\n        ) {\n            document.body.classList.remove(window.__OPENMODAL_CLASS);\n            event.target.classList.remove(window.__SHOWNMODAL_CLASS);\n\n            let id = event.target.id;\n            id = id.replace(window.__BACKDROPMODAL_CLASS + '_', '');\n\n            let view = __VIEWS[id];\n            if (view && view.props.onDismiss && typeof view.props.onDismiss ==\n                \"function\") {\n                view.props.onDismiss();\n            }\n        }\n    }\n\n    const duiShowScreen = (callback, state) => {\n        let popupMenu = document.getElementsByClassName(\"popupMenu\");\n        for (let i = 0; i < popupMenu.length; i++) {\n            popupMenu[i].style.display = \"none\";\n        }\n    };\n    window.__duiShowScreen = duiShowScreen;\n\n} else if (window.__OS == \"IOS\") {\n    window.__COLOR_INDEX = window.__COLOR_INDEX || 1;\n    window.__FONT_INDEX = window.__FONT_INDEX || 1;\n    window.__RECT_INDEX = window.RECT_INDEX || 1;\n    window.__VIEW_INDEX = window.__VIEW_INDEX || 1;\n    window.__IMAGE_INDEX = window.__IMAGE_INDEX || 1;\n    window.__POINT_INDEX = window.__POINT_INDEX || 1;\n    window.__LAYER_INDEX = window.__LAYER_INDEX || 1;\n    window.__SIZE_INDEX = window.__SIZE_INDEX || 1;\n} else {\n    //This would be case for android\n    window.__FN_MAP = {};\n    window.__ALL_ONCLICKS = [];\n}\n\nwindow.__ID = 1;\nwindow.__NODE_ID = 1;\nwindow.__SCREEN_INDEX = -1;\n// Adding temp fix - Will be moved to mystique-web\ntry {\n    window.__PROXY_FN = window.parent.__PROXY_FN?window.parent.__PROXY_FN:{};\n} catch (error) {\n    window.__PROXY_FN = {};\n}\nwindow.__FN_INDEX = 0;\nwindow.__ROOTSCREEN = null;\nwindow.__CACHED_SCREENS = {};\nwindow.__SCREEN_COUNT = 0;\nwindow.__CURR_SCREEN = null;\nwindow.__PREV_SCREEN = null;\nwindow.__ANIMATE_DIR = null;\nwindow.__SCREEN_STACK = [];\nwindow.__LAST_FN_CALLED = null;\nwindow.__THROTTELED_ACTIONS = [];\nwindow.__isMOBILE = window.innerWidth < 550 // this line takes up 80ms out of 360ms\nwindow.__isFIREFOX = navigator.userAgent.toLowerCase().indexOf('firefox') > -1 || typeof InstallTrigger !== 'undefined';\n// Adding temp fix - Will be moved to mystique-web\ntry {\n    window.__VIEWS = window.parent.__VIEWS?window.parent.__VIEWS:{};\n} catch (error) {\n    window.__VIEWS = {};\n}\nwindow.__VIEW_DIMENSIONS = {};\nwindow.__OBSERVERS = {};\nwindow.ZIndex = 0;\n\nwindow.callUICallback = function () {\n    let args = (arguments.length === 1 ? [arguments[0]] : Array.apply(null,\n        arguments));\n    var fName = args[0]\n    var functionArgs = args.slice(1)\n    var currTime;\n    var timeDiff;\n\n    if (window.__ALL_ONCLICKS && window.__ALL_ONCLICKS.indexOf(fName) != -1 && args[2] == \"feedback\" && JBridge && JBridge.setClickFeedback) {\n        return JBridge.setClickFeedback(args[1]);\n    }\n\n    if (window.__THROTTELED_ACTIONS && window.__THROTTELED_ACTIONS.indexOf(fName) == -1) {\n        window.__PROXY_FN[fName].apply(null, functionArgs);\n    } else if (window.__LAST_FN_CALLED && (fName == window.__LAST_FN_CALLED.fName)) {\n        currTime = getCurrTime();\n        timeDiff = currTime - window.__LAST_FN_CALLED.timeStamp;\n\n        if (timeDiff >= 300) {\n            window.__PROXY_FN[fName].apply(null, functionArgs);\n            window.__LAST_FN_CALLED.timeStamp = currTime;\n        } else {\n            console.warn(\"function throtteled\", fName);\n            console.warn(\"time diff\", timeDiff);\n        }\n    } else {\n        window.__PROXY_FN[fName].apply(null, functionArgs);\n        window.__LAST_FN_CALLED = {\n            timeStamp: (new Date()).getTime(),\n            fName: fName\n        }\n    }\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./index.js\");\n",""],"names":["module","exports","init","require","doms","handler","helpers","baseView","animations","callbackMapper","getOS","prestoMerge","merge","prestoClone","clone","prestoDom","webParseParams","iOSParseParams","parseParams","helper","window","__OS","web","ios","android","domAll","elem","__ref","createPrestoElement","props","id","__id","parseInt","type","focus","children","i","length","push","onResize","__resizeEvent","parentType","elemType","getDomToRender","res","JSON","stringify","cmdForAndroid","config","set","obj","cmd","runInUI","replace","console","error","_id","root","getRunInUICmd","prop","applyProp","element","attribute","value0","value1","Android","updateProperties","replaceView","removeProp","rep","viewGroups","indexOf","parentNode","__ui_id_sequence","getNewID","__PRESTO_ID","moveChild","child","parent","index","moveView","removeChild","removeView","addChild","warn","addViewToParent","addAttribute","removeAttribute","updateAttribute","insertDom","dom","cb","N","rootId","__ROOTSCREEN","idSet","callback","executePostProcess","__dui_screen","tag","err","JBridge","setShadow","shadowObject","updateProperty","addProperty","inflateView","computeChildDimens","List","postComputeLayoutDimens","preComputeLayoutDimens","postCompute","isChrome50","handleMatchParentChrome50","callbackInvoker","diffArray","setUseHintColor","addToContainerList","getContainer","getParentView","getScreenDimensions","namespace","width","offsetWidth","height","offsetHeight","getUIElement","ele","document","getElementById","findSiblingView","parentView","isOrientatationChanged","view","__VIEWS","itemView","listData","log","x","parse","itemDatas","parentId","parentElement","stopChild","siblingView","computeList","chrome50matchList","h","w","renderStyle","isListItem","unshift","focusedElement","undefined","Render","oldView","generateVdom","invoke","elements","getUpdatedChildren","splice","Error","viewElem","parentElem","insertBefore","pv","pe","siblingElement","childNodes","nextSiblingElement","nextSibling","appendChild","hasAnimationProps","c","clearViewExternals","remove","idx","childrenElem","childId","childElem","addEventListeners","eventListeners","key","event","eventType","substring","toLowerCase","hasOwnProperty","addEventListener","e","stopPropagation","keyCode","target","value","oldEventListener","removeEventListener","JOS_PRESTO_ID","getWindow","getDocument","setChildAttributes","holder","itemData","onClickFunction","onClick","setList","holderViews","holderId","getItemView","oldItems","newItems","diffIndexes","limit","keys","Object","mergeHolderViews","finalHolder","createListView","data","changeItemView","cloneTemplate","childView","itemClick","onItemClick","getChildItemViewByIndex","utils","useHintColor","mapPropToStyle","ele_style","addProps","addFontProp","addTransformProp","addStrokeProp","addGradientProp","addRotateProp","addShadowProp","addTypeSpecificProp","addSetInputTypeProp","initializeShow","style","innerWidth","cursorType","textSize","fontSize","parseColors","backgroundColor","background","shouldShimmer","shimmerColor","backgroundDrawable","color","position","bottomFixed","topFixed","leftFixed","rightFixed","zIndex","cornerRadius","cornerRadii","split","radius","corners","map","bool","join","alpha","fontFamily","blurBackground","lineHeight","objectFit","clickable","display","ellipsize","typeface","fontStyle","match","fontName","slice","fontWeight","transform","translationX","translationY","scaleX","scaleY","rotation","rotationX","rotationY","values","stroke","strokeMap","b","t","r","l","strokeTop","strokeRight","strokeBottom","strokeLeft","gradientObj","gradient","angle","colors","addTransitionValue","transition_val","String","a_duration","transitionTimingFunction","filter","Boolean","addSize","state","parentProps","elem_style","treatMatchParentAsWrapWidth","margin","toString","practicalWidth","isNaN","percentWidth","treatMatchParentAsWrapHeight","practicalHeight","percentHeight","minWidth","percentMinWidth","minHeight","percentMinHeight","maxWidth","percentMaxWidth","maxHeight","percentMaxHeight","addBorder","padding","a","addVisibility","visibility","addExpandability","anim_duration","calculateHeight","querySelector","expandDuration","expand","addOverFlow","overFlowVisible","setGravityStylesForRow","gravity_row_style","gravity","setGravityStylesForColumn","gravity_col_style","addLayout","scrollBarX","scrollBarY","scrollBarVisible","fixedWrap","orient","orientation","addImage","imageUrl","rawData","temp","ext","exts","includes","setAttribute","findArticle","article","nodeName","createElement","getArticle","isHtmlContent","innerHTML","textFromHtml","textContent","text","wordBreak","getTextStyle","letterSpacing","createTextElement","text_style","patternCheck","pattern","pop","regexString","finalData","RegExp","separator","regexPattern","test","addTextProperties","oldValidValue","addClassNameProperties","className","trim","classList","add","forEach","removeClassList","addFunctions","elemCB","inputValue","addAnimationAttributes","animation_transition","getAnimeTransition","animation_transform","getAnimeTransform","animation_opacity","getAnimeOpacity","afterTransition","opacity","setTimeout","rotateImage","shadowValues","shadow","shadowSeparator","shadowBlur","rWS","cS","shadowSpread","shadowOpacity","shadowOffset","y","shadowColor","convertColorToRgba","shadowType","g","inputType","inputTypeI","navigator","userAgent","search","elem_style_value","suffix","setElemAttributes","url","hint","separatorRepeat","addPseudoClasses","styleElem","__STYLE_ID","getElementsByTagName","css","boxShadowVal","hintColor","createTextNode","val","mapAttributes","addedShimmerStyle","useClickFeedback","attachKeyDownEventListenerKeyCode","repeat","preventDefault","initiateElement","tagName","isIPhone","autofocus","preponeSpace","separatorInputKeyDownHandlerNew","separatorInputKeyDownHandler","events","onAnimationEnd","animation","manualFocus","onpaste","paste","clipboardData","getData","feedbackMutex","touchFeedbackFn","ogBg","rippleColor","pSBC","disableFeedback","p","c0","c1","P","f","m","Math","round","pSBCr","d","n","parseFloat","popup","menuItems","menuBar","cssText","body","clickCb","menuDiv","InlineAnimationMapper","self","MAPPINGS","toFixed","CSSMarkupWriter","name","code","keyframes","keyframe","addCSSStyle","styleSheet","KEYFRAME_INDEX","debug","setAnimationStyles","hasAnimation","inlineAnimation","animationObjects","Array","isArray","keyFrameShorthands","AnimationCSSMarkupWriter","keyFrameFromMarkup","keyFrameToMarkup","countFrom","countTo","animationObject","keyframeName","entries","from","to","keyFrameCSS","__RENDERED_KEYFRAMES","keyFrameAnimShorthand","addHoverProps","hoverProps","onHover","replaceAll","hoverPath","setComputedStyles","computed_styles","activeDimen","weight","activeWeight","absolute","fromTop","fromBottom","fromLeft","fromRight","ev","inputId","input","dataPattern","getAttribute","selectionStart","selectionEnd","formattedString","factor","cursorPosition","newValue","setAttributes","firstRender","autoUpdateHeight","myObserver","ResizeObserver","entry","payload","scrollHeight","runInJuspayBrowser","observe","observer","__OBSERVERS","MutationObserver","item","afterRender","disconnect","attributes","feedback","inflateTimings","lastUpdatedAt","setToolTip","tooltipText","tooltipGravity","tooltipElem","size","tooltipTextSize","createNewElement","subElem","element_style","border","allow","checked","label","inputView","label_style","overflow","placeholder","isSeen","maxShimmerWidth","tagShimmerElementsForRender","elName","addToParentElement","setLayout","scrollLeft","scrollTop","getElementByView","newInflated","handleWrapContent","setAfterRenderFunctions","stopObserver","renderList","time","oldChild","newChildView","newChild","replaceChild","timeEnd","listItem","testID","postComputeLayoutDimens2","computedHeight","computedWidth","postComputeList","getValueFromPixel","pixel","list","currentStyle","getComputedStyle","marginTop","marginBottom","largestHeight","largestWidth","newDimen","elm","flexDirection","node","max","hexColor","rgbaColor","convertHexToRgb","hex","fragments","fragmentTypes","mainRootView","clientHeight","clientWidth","container","s4","floor","random","content","containerType","BaseView","VIEW","AnimationTypes","SLIDE","slideHandler","SLIDE_VERTICAL","slideDownHandler","SIMPLE","simpleHandler","DEFAULT_ANIMATION","fromId","toId","direction","translationZ","ZIndex","cmdContainer","__HEIGHT","a_translationY","addCmd","__WIDTH","a_translationX","getAnimation","fromViewID","toViewId","animator","types","prototype","concat","__SETFN","bind","_ref","render","selector","displayName","foundChildren","findRecurse","layout","__ID","arr","toast","handleSpecialChars","duration","cmdForWeb","jsx","fn","proxyFnName","__FN_INDEX","__PROXY_FN","oldContainerId","removeChildren","viewCtxObj","hasMatchParentChild","childs","dimen","childProp","hasWeightChild","computeRelativeLayout","viewCtx","child2","pl","pr","pt","pb","alignParentLeft","alignParentRight","alignParentBottom","computeLinearlayout","isHorizontal","passiveDimen","hasWeight","hasMatchParent","first","run","flatten","reduce","prev","cur","more","some","keyId","__VIEW_DIMENSIONS","handle","ui","cacheDimen","shouldMove","cachedDimen","changed","o","WeakMap","get","getPrototypeOf","constructor","Function","Number","Promise","Symbol","WeakSet","v","ArrayBuffer","DataView","buffer","byteOffset","byteLength","Map","Set","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","Date","assign","il","arguments","invokeUICallback","args","apply","fName","functionArgs","currTime","timeDiff","__ALL_ONCLICKS","setClickFeedback","__THROTTELED_ACTIONS","proxyFnKey","charAt","__LAST_FN_CALLED","getCurrTime","timeStamp","getTime","__payload","service","common","rotate","count","len","call","flattenObject","ob","toReturn","flatObject","lookAndReplaceProp","str","output","start","end","substr","found","parseLayoutProps","ele_id","isMobile","cursor","src","bottom","top","left","right","doc","borderRadius","textDecoration","borderTop","borderRight","borderBottom","borderLeft","transition","textAlign","contentEditable","contenteditable","__isMOBILE","__isFIREFOX","autocomplete","disabled","myAttr","pointerEvents","setDefaults","this_inlineAnimation","con","modifyTranslation","animationArray","fromX","toX","fromY","toY","getSetType","presto_ui_version","__VERSION__","PrestoUI","getScreenDetails","details","screen_width","screen_height","__DEVICE_DETAILS","juspayAssetConfig","loadFileInDUI","guid","__COM_EVENT","__COM_RENDERED","SWITCH_GLOBAL","DRP","DSB","DB","NAVBAR","__COM_CLASS_GROUP","WRAPPER","NAVBAR_ITEM","NAVBAR_ITEM_WITH_SUB","NAVBAR_SUB","NAVBAR_SUB_RIGHT","NAVBAR_SUB_ITEM","DRP_BODY","DB_FULL_BODY","DB_BODY","DB_OPTIONS","DB_OPTION","DSB_FULL_BODY","DSB_BODY","DSB_OPTIONS","DSB_OPTION","DSB_SEARCH_WRAP","DSB_SEARCH","SWITCH","SWITCH_BODY","SWITCH_SLIDER","BT","BT_DISABLED","__COM_COLOR_GROUP","BG","ACTIVE_BG","ACTIVE_COLOR","INACTIVE_COLOR","BORDER_COLOR","ACTIVE_BORDER_COLOR","SEARCH_COLOR","INACTIVE_SWITCH","ACTIVE_SWITCH","BT_BORDER_COLOR","BT_BG_COLOR","BT_COLOR","__COM_ACTIVE","__MODAL_PROPS","__CONTENTMODAL_CLASS","__OPENMODAL_CLASS","__BACKDROPMODAL_CLASS","__DISABLEDBACKDROP_CLASS","__SHOWNMODAL_CLASS","__FADEMODAL_CLASS","__SLIDEMODAL_CLASS","onclick","contains","onDismiss","duiShowScreen","popupMenu","getElementsByClassName","__duiShowScreen","__COLOR_INDEX","__FONT_INDEX","__RECT_INDEX","RECT_INDEX","__VIEW_INDEX","__IMAGE_INDEX","__POINT_INDEX","__LAYER_INDEX","__SIZE_INDEX","__FN_MAP","__NODE_ID","__SCREEN_INDEX","__CACHED_SCREENS","__SCREEN_COUNT","__CURR_SCREEN","__PREV_SCREEN","__ANIMATE_DIR","__SCREEN_STACK","InstallTrigger","callUICallback"],"sourceRoot":""}