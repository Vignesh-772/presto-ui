{"version":3,"file":"index.web.js","mappings":"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","sources":["webpack://presto-ui/./index.js","webpack://presto-ui/./src/PrestoUIInterface.js","webpack://presto-ui/./src/WEB/AndroidInterface.js","webpack://presto-ui/./src/WEB/ListPresto.js","webpack://presto-ui/./src/WEB/MapAttributes.js","webpack://presto-ui/./src/WEB/Render.js","webpack://presto-ui/./src/WEB/Utils.js","webpack://presto-ui/./src/animations.js","webpack://presto-ui/./src/baseView.js","webpack://presto-ui/./src/compute.js","webpack://presto-ui/./src/doms/index.js","webpack://presto-ui/./src/doms/web.js","webpack://presto-ui/./src/handler.js","webpack://presto-ui/./src/helper.js","webpack://presto-ui/./src/helpers/common/callbackInvoker.js","webpack://presto-ui/./src/helpers/common/callbackMapper.js","webpack://presto-ui/./src/helpers/common/index.js","webpack://presto-ui/./src/helpers/index.js","webpack://presto-ui/./src/helpers/web/index.js","webpack://presto-ui/./src/helpers/web/parseParams.js","webpack://presto-ui/./src/init.js","webpack://presto-ui/webpack/bootstrap","webpack://presto-ui/webpack/before-startup","webpack://presto-ui/webpack/startup","webpack://presto-ui/webpack/after-startup"],"sourcesContent":["/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\nmodule.exports = {\n\tinit: require(\"./src/init\"), \n\tdoms : require(\"./src/doms\"),\n\thandler : require(\"./src/handler\"),\n\thelpers : require(\"./src/helpers\"),\n\tbaseView : require(\"./src/baseView\"),\n\tanimations: require('./src/animations'),\n\tcallbackMapper: require('./src/helpers/common/callbackMapper'),\n\tgetOS: require('./src/helper').getOS,\n\tprestoMerge: require('./src/helper').merge,\n\tprestoClone: require('./src/helper').clone\n};\n","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nvar prestoDom = require(\"./doms\");\nvar helpers = require(\"./helpers\")\nvar webParseParams;\nvar iOSParseParams;\nvar parseParams;\nconst helper = require('./helper');\n\nif (window.__OS === \"WEB\") {\n  webParseParams = helpers.web.parseParams;\n} else if (window.__OS === \"IOS\") {\n  iOSParseParams = helpers.ios.parseParams;\n} else if (window.__OS === \"ANDROID\") {\n  parseParams = helpers.android.parseParams;\n}\n\nfunction domAll(elem) {\n  if (!elem.__ref) {\n    elem.__ref = createPrestoElement();\n  }\n\n  if (elem.props.id) {\n    elem.__ref.__id = parseInt(elem.props.id, 10) || elem.__ref.__id;\n  }\n\n  var type = helper.clone(elem.type,null);\n  var props = helper.clone(elem.props,null);\n\n  if (props.focus == false &&  window.__OS === \"ANDROID\") {\n    delete props.focus;\n  }\n\n  var children = [];\n\n  for (var i = 0; i < elem.children.length; i++) {\n    children.push(domAll(elem.children[i]));\n  }\n\n\n  if (__OS == \"WEB\" && props.onResize) {\n    window.__resizeEvent = props.onResize;\n  }\n\n  props.id = elem.__ref.__id;\n  if(elem.parentType && window.__OS == \"ANDROID\")\n    return prestoDom({elemType: type, parentType: elem.parentType}, props, children);\n\n  return prestoDom(type, props, children);\n}\n\nfunction getDomToRender(elem) {\n  var res = domAll(elem);\n  if (window.__OS == \"ANDROID\") {\n    return JSON.stringify(res);\n  } else {\n    return res;\n  }\n}\n\n\n// Not exported\nfunction cmdForAndroid(config, set, type) {\n  if (set) {\n    if (config.id) {\n      var obj = parseParams(type, config, \"set\");\n      var cmd = obj.runInUI.replace(\"this->setId\", \"set_view=ctx->findViewById\").replace(/this->/g, \"get_view->\");\n      cmd = cmd.replace(/PARAM_CTR_HOLDER[^;]*/g, \"get_view->getLayoutParams;\");\n      obj.runInUI = cmd;\n      return obj;\n    } else {\n      console.error(\"ID null, this is not supposed to happen. Debug this or/and raise a issue in bitbucket.\");\n    }\n    return {};\n  }\n\n  var _id = config.id;\n  var cmd = \"set_view=ctx->findViewById:i_\" + _id + \";\";\n  // var runInUI;\n  delete config.id;\n  config.root = \"true\";\n  var obj = parseParams(type, config, \"get\");\n  obj.runInUI = cmd + obj.runInUI + ';';\n  obj.id = _id;\n  return obj;\n}\n\nfunction getRunInUICmd(prop) {\n  var cmd;\n  if (window.__OS == \"ANDROID\") {\n    cmd = cmdForAndroid(prop, true, \"linearLayout\").runInUI;\n  } else if (window.__OS == \"IOS\"){\n    cmd = prop;\n  } else {\n    cmd = webParseParams(\"linearLayout\", prop, \"set\");\n  }\n  return cmd;\n}\n\n\n\n// Not exported\nfunction applyProp(element, attribute, set) {\n  var prop = {\n    id: element.__ref.__id\n  }\n  prop[attribute.value0] = attribute.value1;\n\n  if (attribute.value0 == 'focus' && attribute.value1 == false &&  window.__OS == \"ANDROID\") {\n    return;\n  }\n\n  if (window.__OS == \"ANDROID\") {\n    var cmd = cmdForAndroid(prop, set, element.type);\n    if (Android.updateProperties) {\n      Android.updateProperties(JSON.stringify(cmd));\n    } else {\n      Android.runInUI(cmd.runInUI, null);\n    }\n  } else if (window.__OS == \"IOS\"){\n    Android.runInUI(prop);\n  } else {\n    Android.runInUI(webParseParams(\"linearLayout\", prop, \"set\"));\n  }\n  // Android.runInUI(parseParams(\"linearLayout\", prop, \"set\"));\n}\n\nfunction replaceView(element, attribute, removeProp) {\n  // console.log(\"REPLACE VIEW\", element.__ref.__id, element.props);\n  var props = helper.clone(element.props,null);\n  props.id = element.__ref.__id;\n  var rep;\n  var viewGroups = [\"linearLayout\", \"relativeLayout\", \"scrollView\", \"frameLayout\", \"horizontalScrollView\"];\n\n  if (viewGroups.indexOf(element.type) != -1){\n    props.root = true;\n    rep = prestoDom(element.type, props, []);\n  } else if (window.__OS == \"ANDROID\") {\n    rep = prestoDom({elemType: element.type, parentType: element.parentNode.type}, props, []);\n  } else {\n    rep = prestoDom(element.type, props, []);\n  }\n  if(window.__OS == \"ANDROID\"){\n    Android.replaceView(JSON.stringify(rep), element.__ref.__id);\n  } else {\n    Android.replaceView(rep, element.__ref.__id);\n  }\n}\n\n\nfunction createPrestoElement() {\n    if(typeof(window.__ui_id_sequence) != \"undefined\" && window.__ui_id_sequence != null) {\n        return { __id : ++window.__ui_id_sequence };\n    } else {\n        window.__ui_id_sequence = typeof Android.getNewID == \"function\" ? parseInt(Android.getNewID()) * 1000000 : window.__PRESTO_ID ;\n        return { __id : ++window.__ui_id_sequence };\n    }\n};\n\n\nfunction moveChild(child, parent, index) {\n  Android.moveView(child.__ref.__id, index);\n}\n\n\n\nfunction removeChild(child, parent, index) {\n  // console.log(\"Remove child :\", child.type);\n  Android.removeView(child.__ref.__id + \"\");\n}\n\nfunction addChild(child, parent, index) {\n  if(child.type == null) {\n    console.warn(\"child null\");\n  }\n  // console.log(\"Add child :\", child.__ref.__id, child.type);\n  var viewGroups = [\"linearLayout\", \"relativeLayout\", \"scrollView\", \"frameLayout\", \"horizontalScrollView\"];\n  if (window.__OS == \"ANDROID\") {\n    if (viewGroups.indexOf(child.type) != -1){\n      child.props.root = true;\n    } else {\n      child.parentType = parent.type;\n    }\n    Android.addViewToParent(parent.__ref.__id + \"\", JSON.stringify(domAll(child)), index, null, null);\n  }\n  else\n    Android.addViewToParent(parent.__ref.__id, domAll(child), index, null, null);\n}\n\nfunction addAttribute(element, attribute) {\n  // console.log(\"add attr :\", attribute);\n  element.props[attribute.value0] = attribute.value1;\n  applyProp(element, attribute, true);\n}\n\nfunction removeAttribute(element, attribute) {\n  // console.log(\"remove attr :\", attribute);\n  replaceView(element, attribute, true);\n}\n\nfunction updateAttribute(element, attribute) {\n  // console.log(\"update attr :\", attribute);\n  element.props[attribute.value0] = attribute.value1;\n\n  applyProp(element, attribute, false);\n}\n\n\nfunction insertDom(root, dom, cb) {\n  root.children.push(dom);\n  dom.parentNode = root;\n  dom.__ref = createPrestoElement();\n  window.N = root;\n\n  var rootId = window.__ROOTSCREEN.idSet.root;\n\n  dom.props.root = true;\n\n  var length = window.__ROOTSCREEN.idSet.child.push(dom.__ref.__id);\n\n  var callback = window.callbackMapper(executePostProcess(cb));\n  if (window.__OS == \"ANDROID\") {\n    Android.addViewToParent(rootId + \"\", JSON.stringify(domAll(dom)), length - 1, callback, null);\n  }\n  else {\n    Android.addViewToParent(rootId, domAll(dom), length - 1, callback, null);\n  }\n\n  return dom.__ref.__id;\n\n}\n\n\nfunction executePostProcess(cb) {\n  return function() {\n    cb();\n\n    if(window.__dui_screen && window[\"afterRender\"]) {\n      for (var tag in window[\"afterRender\"][window.__dui_screen]) {\n        try {\n          window[\"afterRender\"][window.__dui_screen][tag]()();\n          window[\"afterRender\"][window.__dui_screen][\"executed\"] = true;\n        }\n        catch (err) {\n          console.warn(err);\n        }\n      }\n    }\n\n    if (JBridge && JBridge.setShadow) {\n      for (var tag in window.shadowObject) {\n        JBridge.setShadow(window.shadowObject[tag][\"level\"],\n            JSON.stringify(window.shadowObject[tag][\"viewId\"]),\n            JSON.stringify(window.shadowObject[tag][\"backgroundColor\"]),\n            JSON.stringify(window.shadowObject[tag][\"blurValue\"]),\n            JSON.stringify(window.shadowObject[tag][\"shadowColor\"]),\n            JSON.stringify(window.shadowObject[tag][\"dx\"]),\n            JSON.stringify(window.shadowObject[tag][\"dy\"]),\n            JSON.stringify(window.shadowObject[tag][\"spread\"]),\n            JSON.stringify(window.shadowObject[tag][\"factor\"])\n        );\n      }\n    } \n  }\n}\n\nmodule.exports = {\n  domAll: domAll,\n  getDomToRender: getDomToRender,\n  getRunInUICmd: getRunInUICmd,\n  replaceView: replaceView,\n  createPrestoElement: createPrestoElement,\n  moveChild: moveChild,\n  removeChild: removeChild,\n  addChild: addChild,\n  addAttribute: addAttribute,\n  removeAttribute: removeAttribute,\n  updateProperty: updateAttribute,\n  addProperty: addAttribute,\n  insertDom: insertDom\n};\n\n","/*\n * Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n * JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n *\n * This file is part of JUSPAY Platform.\n *\n * JUSPAY Platform is free software: you can redistribute it and/or modify\n * it for only educational purposes under the terms of the GNU Affero General\n * Public License (GNU AGPL) as published by the Free Software Foundation,\n * either version 3 of the License, or (at your option) any later version.\n * For Enterprise/Commerical licenses, contact <info@juspay.in>.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n * be liable for all damages without limitation, which is caused by the\n * ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n * damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n * The end user has NO right to claim any indemnification based on its use\n * of Licensed Software. See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n */\n\nvar {\n  inflateView,\n  computeChildDimens,\n  List,\n  postComputeLayoutDimens,\n  preComputeLayoutDimens,\n  postCompute,\n  isChrome50,\n  handleMatchParentChrome50\n} = require(\"./Render\");\nvar helper = require('../helper');\nvar callbackInvoker = require(\"../helpers/common/callbackInvoker\");\nconst { diffArray } = require(\"./ListPresto\");\n\nvar {addToContainerList, getContainer, getParentView} = require('./Utils')\n\nfunction getScreenDimensions(namespace) {\n  let element = getContainer(namespace);\n  return JSON.stringify({\n    width: element.offsetWidth,\n    height: element.offsetHeight\n  });\n}\n\n// Due to jos, PrestoDOM's document is different from the DOM Document which actaully contains the nodes.\n// This utility function allows PrestoDOM to acquire an actual DOM object.\nfunction getUIElement(id, namespace){\n  var ele = document.getElementById(id);\n  return ele;\n}\n\nfunction findSiblingView(parentView, id) {\n  for (let i = 0; i < parentView.children.length; i++) {\n    if(parentView.children[i].props.id == id){\n      if(i != 0)\n        return parentView.children[i-1]\n      else\n        return   parentView\n    }\n  }\n  return null;\n}\n\nfunction isOrientatationChanged(props){\n  if(props['orientation'])\n    return false;\n  return true;\n}\n\nfunction runInUI(cmd, namespace) {\n  if (typeof cmd == \"string\")\n    return\n    let id = cmd.id\n    if(id){\n      let elem = document.getElementById(id)\n\n      if(elem){\n        let view = window.__VIEWS[id]\n        if(cmd.itemView){\n          return;\n        }\n        if(!cmd.listData && view.listData)\n          return;\n\n        if(cmd.listData){\n          //diffing arrrays to find the difference between old data and new data\n          //console.time('diffArray')\n          console.log(\"diff\")\n          view.props.diffArray = List.diffArray(view.props.itemDatas,JSON.parse(cmd.listData));\n          //console.dir(view.props.diffArray)\n          //console.timeEnd('diffArray')\n\n          //no difference in data\n          if(view.props.diffArray==[]){\n            return;\n          }\n        }\n        view.props = helper.merge(view.props, cmd)\n\n        let parentId = null\n        let parentElement = null\n        let parentView = null\n\n        let stopChild = !isOrientatationChanged(cmd);\n        parentId = elem.parentNode.id\n\n        if(parentId){\n          parentView = window.__VIEWS[parentId]\n          parentElement = document.getElementById(parentId)\n\n          if(parentElement && parentView){\n            let siblingView = findSiblingView(parentView,id);\n            computeChildDimens(parentView);\n            let computeList = [];\n            // if(view.type == \"relativeLayout\")\n            //   computeList.push(view.props.id);\n            var chrome50matchList;\n            if(isChrome50()) {\n              chrome50matchList = {h : [], w: []}\n            }\n            inflateView({view, parentElement, siblingView, renderStyle: true,stopChild,isListItem:true, computeList, chrome50matchList});\n            let parent = view.parent;\n            while(parent && parent.type==\"relativeLayout\"){\n              computeList.unshift(view.parent.props.id)\n              parent=parent.parent;\n            }\n            postCompute(computeList);\n            handleMatchParentChrome50(chrome50matchList)\n          }\n        }\n      }\n    }\n    \n  //recompute()\n  //Render.runInUI(cmd)\n}\n\nfunction Render(view, cb, namespace) {\n  let parentElement = getContainer(namespace);\n  // console.debug(\"presto content element found?? \",parentElement);\n  let parentView = getParentView(namespace, view);\n  \n  if(parentView.oldView) {\n    addViewToParent(parentElement.id, view, parentView.children.indexOf(view), cb, false)\n  } else {\n    computeChildDimens(parentView);\n    let computeList = [];\n    const elem = inflateView({view, parentElement,computeList});\n    postCompute(computeList);\n    const elements= document.getElementById('content');\n    if (cb) callbackInvoker.invoke(cb);\n  }\n}\n\nfunction getUpdatedChildren(parent, view, index) {\n  var children = parent.children;\n  children.splice(children.indexOf(view), 1);\n  children.splice(index, 0, view);\n  return children;\n}\n\nfunction moveView(id, index) {\n  if (!window.__VIEWS[id]) {\n    return console.error(new Error(\"MoveView: Invalid view ID: \" + id));\n  }\n  var view = window.__VIEWS[id];\n  var viewElem = document.getElementById(id);\n  var parentId = viewElem.parentNode.id;\n  var parent = window.__VIEWS[parentId];\n  var children = getUpdatedChildren(parent,view,index);\n\n  computeChildDimens(parent)\n  children.forEach(child => {\n    let computeList = [];\n    console.log(\"moving\")\n    var chrome50matchList;\n    if(isChrome50()) {\n      chrome50matchList = {h : [], w: []}\n    }\n    inflateView({view:child, parentElement : parent, computeList, chrome50matchList})\n    handleMatchParentChrome50(chrome50matchList)\n    postCompute(computeList);\n  })\n}\n\n\n// Android.addViewToParent(rootId, dom_all, length (window.__ROOTSCREEN.idSet.child) - 1 , callback, null); -- call to this function\nfunction addViewToParent(id, view, index, cb, replace, namespace) {\n  // console.log(\"addViewToParent document location is\",document.location);\n  let parentElement = document.getElementById(id)\n  let parentView = window.__VIEWS[id]\n  view.parent = parentView;\n  let siblingView = null\n\n  if(!parentElement || !parentView)\n    return\n\n  parentView.children.splice(index, 0, view)\n\n  if(index == 0)\n    siblingView = parentView\n  else\n    siblingView = parentView.children[index-1]\n\n  preComputeLayoutDimens(parentView)\n  let computeList = []\n  var chrome50matchList;\n  if(isChrome50()) {\n    chrome50matchList = {h : [], w: []}\n  }\n\n  var elem = inflateView({view,  siblingView, namespace, computeList, chrome50matchList}) // pass parent element as null, so that the element created doesn't immediately get attached to the DOM\n  var pv = parentView\n  var pe = parentElement\n  while(pv && pv.type == \"relativeLayout\") {\n    // postComputeLayoutDimens(pv, pe);\n    computeList.unshift(pv.props.id);\n    pv = pv.parent\n    pe = pe.parentElement\n  }\n  // attach the elem to live dom once the elem has been constructed (parentElem is the liveDOM)\n  if (parentElement) {\n    let siblingElement = siblingView ? document.getElementById(siblingView.props.id) : null;\n\n    if (siblingElement && siblingElement != undefined) {\n        if (parentElement == siblingElement) { // Prepend\n            parentElement.insertBefore(elem, parentElement.childNodes[0]);\n          }\n        else { // Insert in specified position\n            let nextSiblingElement = siblingElement.nextSibling;\n            parentElement.insertBefore(elem, nextSiblingElement);\n          }\n      }\n    else {\n        parentElement.appendChild(elem);\n    }\n  }\n  if (!window.hasAnimationProps && window.focusedElement !== undefined){\n    var c = document.getElementById(window.focusedElement);\n    window.focusedElement = undefined;\n    if (c) {\n        c.focus();\n    }\n  }\n  postCompute(computeList);\n  handleMatchParentChrome50(chrome50matchList)\n  if (cb) callbackInvoker.invoke(cb);\n}\n\nfunction removeView(id, namespace) {\n  let viewElem = document.getElementById(id);\n  if(!viewElem){\n    helper.clearViewExternals(view)\n    return\n  }\n\n  let parentId = viewElem.parentNode.id\n  if(!parentId){\n    helper.clearViewExternals(view)\n    viewElem.remove()\n    return\n  }\n\n  let parentElem = document.getElementById(parentId);\n  if(!parentElem){\n    helper.clearViewExternals(view)\n    viewElem.remove()\n    return\n  }\n\n  let view = window.__VIEWS[id]\n\n  if(!view || !view.type)\n    return\n\n  let parent = null\n  let idx\n\n  parent = window.__VIEWS[parentId]\n  if (parent) {\n    idx = parent.children.indexOf(view)\n    parent.children.splice(idx, 1)\n    helper.clearViewExternals(view)\n  }\n  viewElem.remove()\n}\n\nfunction replaceView(view, id, namespace) {\n  let elem = document.getElementById(id)\n  if(!elem)\n    return\n\n  let parentId = elem.parentNode.id\n  let parentElem = document.getElementById(parentId)\n  let parentView = window.__VIEWS[parentId]\n\n  let oldView = null\n  let siblingView = null\n\n  for (let i = 0; i < parentView.children.length; i++) {\n    if(parentView.children[i].props.id == id){\n      oldView = parentView.children[i]\n\n      if(i != 0)\n        siblingView = parentView.children[i-1]\n      else\n        siblingView = parentView\n      break;\n    }\n  }\n\n  if(!oldView)\n    return\n\n  /* Get Children */\n  let childrenElem = []\n  let children = oldView.children\n\n  if(elem && children){\n    for(let i = 0; i < children.length; i++){\n      let childId = children[i].props.id\n      let childElem = document.getElementById(childId)\n\n      if(childElem)\n        childrenElem.push(childElem)\n    }\n  }\n  /* Get Children End */\n\n  oldView.props = view.props\n  parentElem.removeChild(elem)\n  let computeList = []\n  var chrome50matchList;\n  if(isChrome50()) {\n    chrome50matchList = {h : [], w: []}\n  }\n  inflateView({view:oldView, parentElement: parentElem, siblingView, stopChild : true, computeList, chrome50matchList});\n  window.__VIEWS[id] = oldView\n  \n  /* Append Children */\n  elem = document.getElementById(id)\n  \n  if(elem && childrenElem.length > 0){\n    for(let i = 0; i < childrenElem.length; i++){\n      elem.appendChild(childrenElem[i])\n    }\n  }\n  postCompute(computeList);\n  handleMatchParentChrome50(chrome50matchList)\n  /* Append Children End */\n}\n\n// function recompute() {\n//   const rootnode = document.getElementById('content');\n//   const child = rootnode.firstElementChild;\n//   const rootview = window.__VIEWS[child.id];\n//   Render(rootview, null);\n// }\n\nfunction getNewID() {\n  window.JOS_PRESTO_ID = window.JOS_PRESTO_ID || 1;\n  return window.JOS_PRESTO_ID++;\n}\n\nfunction getWindow() {\n  return window;\n}\n\nfunction getDocument() {\n  return document;\n}\n\nmodule.exports = {\n  addToContainerList : addToContainerList,\n  \n  getScreenDimensions: getScreenDimensions,\n\n  getUIElement : getUIElement,\n\n  runInUI: runInUI,\n\n  Render: Render,\n\n  addViewToParent: addViewToParent,\n  \n  moveView: moveView,\n\n  removeView: removeView,\n\n  replaceView: replaceView,\n\n  getNewID: getNewID,\n\n  getWindow: getWindow,\n\n  getDocument: getDocument\n};","\n\n//view.data= itemView && holderViews\n//itemView=template\n//holderViews= array of props that will be changed from the template\n\nconst {invoke} = require(\"../helpers/common/callbackInvoker\")\nconst {clone} = require(\"../helper\")\n\n//sets the holder attributes\nlet setChildAttributes = function(view,holder,itemData,index){\n    \n    for(var key in holder) {\n        if(key == 'onClick') {\n            let onClickFunction =()=> invoke(holder.onClick,index);\n            view.props.onClick = onClickFunction;\n        } else if (itemData.hasOwnProperty(holder[key])) {\n            view.props[key] = itemData[holder[key]]\n        }\n    }\n}\n\nlet setList = function(view,holderViews,itemData,index){\n    if(holderViews[view.props.holderId]){\n        setChildAttributes(view,holderViews[view.props.holderId], itemData,index);\n    }\n    for(let i=0;i<view.children.length;i++){\n        setList(view.children[i], holderViews, itemData,index);\n    }\n    return view;\n    \n}\n\n//gets the mapped view\nlet getItemView = function(view,holderViews,itemData,index){\n\n    if(holderViews[view.props.holderId]  ){\n        setChildAttributes(view,holderViews[view.props.holderId], itemData,index);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              \n    }\n    if(view.children)\n    for(let i=0;i<view.children.length;i++){\n        setList(view.children[i], holderViews, itemData, index);\n    }\n    return view;\n    \n}\n\n\n\n//returns \"filter\" if arrays are of different length\n//returns the indexes which have different elements in it\nfunction diffArray(oldItems,newItems){\n    if(oldItems.length!=newItems.length)\n        return \"filter\";\n    let diffIndexes=[];\n    let limit = 10\n    limit = newItems.length>10?10:newItems.length;\n    for(let i =0;i<newItems.length;i++)\n    {\n        let keys = Object.keys(newItems[i]);\n        if(keys)\n        for(let key of keys)\n        {\n            if(newItems[i][key] != oldItems[i][key]){\n                diffIndexes.push(i);\n                break;\n            }\n        }\n    }\n    return diffIndexes;\n}\n\n\n\n  \nfunction mergeHolderViews(holderViews){\n    let finalHolder = {};\n    for(let i=0;i<holderViews.length;i++){\n        if(finalHolder[holderViews[i].id] == undefined){\n            finalHolder[holderViews[i].id] = {};\n        }\n        for(let key in holderViews[i]){\n            finalHolder[holderViews[i].id][key] = holderViews[i][key];\n        }\n    }\n    return finalHolder;\n}\n\n\n\n//generates the list items views\nfunction createListView(view){\n    view.props.data.holderViews = mergeHolderViews(view.props.data.holderViews);\n    view.children=[]\n    changeItemView(view.props.data.itemView);\n    for(let i=0;i<view.props.itemDatas.length;i++){\n        let cloneTemplate = clone(view.props.data.itemView);\n        let childView = getItemView(cloneTemplate,view.props.data.holderViews,view.props.itemDatas[i],i)\n        view.children.push(childView);\n    }\n}\n\nlet itemClick = function(onItemClick){\n    return function(){\n        return function(){\n            onItemClick(i);\n        }\n    }\n}\n\n//Get the child element for a particular index\nlet getChildItemViewByIndex = function(view,i){\n    let cloneTemplate = clone(view.props.data.itemView);\n    // if(view.props.hasOwnProperty('onItemClick')){\n    //     let onItemClick = view.props.onItemClick;\n    //     cloneTemplate.props.onClick =itemClick(onItemClick)(i);\n    // }\n    let res= getItemView(cloneTemplate,view.props.data.holderViews,view.props.itemDatas[i],i)\n    return res;\n}\n\n\n//reformat the template\nfunction changeItemView(view)\n{\n    view.props.holderId = view.props.id;\n    view.props.id = undefined;\n    if(view.children)\n        for( let child of view.children)\n            changeItemView(child);\n}\n\n\nmodule.exports={diffArray,createListView,getItemView,getChildItemViewByIndex};\n\n//newinflated -> isNewInflated\n//add spaces\n//add summary","let utils = require(\"./Utils\");\n\nfunction mapPropToStyle(element,props,type){\n    let ele_style = \"\";\n    ele_style += addProps(props);\n    ele_style += addFontProp(props);\n    ele_style += addTransformProp(props);\n    ele_style += addStrokeProp(props);\n    ele_style += addGradientProp(props);\n    ele_style += addRotateProp(props);\n    ele_style += addShadowProp(props);\n    ele_style += addTypeSpecificProp(type,props);\n\n    // TODO: mapPropToStyle should not do these side effect, when merging Render.js and MapAttributes.js, seperate out these functions from here.\n    ele_style += addSetInputTypeProp(element,props); // also sets an attribute on mutable element\n    // setElemAttributes(element,props);\n\n    return ele_style;\n}\n\nlet initializeShow = function (elem, props, type) {\n    var style = \"\";\n    if (type == 'linearLayout') {\n        if (props.hasOwnProperty('width') && props.width == 'wrap_content') {\n            style += \"display: inline-flex;\";\n            style += \"width: max-content;\";\n            // elem.style.display = 'inline-flex';\n            // elem.style.width = 'max-content';\n        } else {\n            style += \"display: flex;\";\n            //elem.style.display = \"flex\";\n        }\n    } else {\n        if (props.hasOwnProperty('width') && props.width == 'wrap_content') {\n            style += \"display:inline-block;\";\n            style += \"width:max-content;\";\n            // elem.style.display = 'inline-block';\n            // elem.style.width = 'max-content';\n        } else {\n            // iFrame/webView display is set to none by default in hyper-sdk-web.\n            // enabling explicitly for visible case.\n            if(type == 'webView') {\n                style += \"display: block;\";\n            }\n            // style += \"display:'';\";\n        //    elem.style.display = '';\n        }\n    }\n    return style;\n}\n\n// Author's Note: Haskel's pattern matching would've made this code prettier. - Convert Presto to Purs?\n// fontStyle take precedence over fontFamily\nfunction addProps(props){\n\n    let ele_style = \"\";\n\n    if ((props.hasOwnProperty(\"onClick\") || props.hasOwnProperty(\"onClickEvent\"))) {\n        if(window.innerWidth > 550 && !props.cursorType) {ele_style += \"cursor:pointer;\";}\n    }\n\n    if (props.hasOwnProperty(\"cursorType\")) { ele_style += \"cursor: \" + props.cursorType + \";\"; }\n\n    if (props.hasOwnProperty(\"textSize\"))   { ele_style += \"font-size: \" + props.textSize + \"px;\"; }\n\n    if (props.hasOwnProperty(\"fontSize\"))   { ele_style += \"font-size: \" + props.fontSize + \"px;\"; }\n\n    if (props.hasOwnProperty(\"backgroundColor\")) { ele_style += \"background-color: \" + utils.parseColors(props.backgroundColor) + \";\"};\n\n    if (props.hasOwnProperty(\"background\") && !props.hasOwnProperty(\"shouldShimmer\")) { ele_style += \"background: \" + utils.parseColors(props.background) + \";\"};\n    \n    if (props.hasOwnProperty(\"background\") && props.hasOwnProperty(\"shouldShimmer\") && props.shouldShimmer) { \n        shimmerColor = utils.parseColors(props.background);\n        ele_style += \"animation : shimmer 2s infinite;\";\n        ele_style += \"background-color: \" + shimmerColor + \";\";\n        ele_style += \"background-repeat: no-repeat;\";\n        ele_style += \"background-image: linear-gradient(to right,\" + shimmerColor + \" 0%, #edeef1 20%, \" + shimmerColor + \" 40%, \" + shimmerColor + \" 100%);\";\n        ele_style += \"background-size: \" + props.width + \" 100%;\";\n    }\n\n    if (props.hasOwnProperty(\"backgroundDrawable\")) { ele_style += \"background-image: \" + \"url('\"+props.backgroundDrawable+\"')\" + \";\"};\n\n    if (props.hasOwnProperty(\"color\")) { ele_style += \"color: \" + utils.parseColors(props.color) + \";\"};\n\n    if (props.hasOwnProperty(\"position\")) {ele_style += \"position: \" + props.position + \";\"};\n\n    if (props.hasOwnProperty(\"bottomFixed\")) {ele_style += \"bottom: \" + props.bottomFixed + \";\"};\n\n    if (props.hasOwnProperty(\"topFixed\")) {ele_style += \"top: \" + props.topFixed + \";\"};\n\n    if (props.hasOwnProperty(\"leftFixed\")) {ele_style += \"left: \" + props.leftFixed + \";\"};\n\n    if (props.hasOwnProperty(\"rightFixed\")) {ele_style += \"right: \" + props.rightFixed + \";\"};\n\n    if (props.hasOwnProperty(\"zIndex\")) {ele_style += \"z-index:\" + props.zIndex + \";\"};\n\n    if (props.hasOwnProperty(\"cornerRadius\")) {ele_style += \"border-radius:\" + props.cornerRadius + \"px;\"};\n\n    if (props.hasOwnProperty(\"cornerRadii\")) {\n        const [radius, ...corners] = props.cornerRadii.split(',');\n        ele_style += \"border-radius: \" + corners.map(bool => `${bool * radius}px`).join(' ') + \";\";\n    }\n\n    if (props.hasOwnProperty(\"alpha\")) {ele_style += \"opacity:\" + props.alpha + \";\"};\n\n    if (props.hasOwnProperty(\"fontFamily\")) {ele_style += \"font-family:\" + props.fontFamily + \";\"};\n\n    if (props.hasOwnProperty(\"blurBackground\") && props.blurBackground) {ele_style += \"backdrop-filter: blur(3px)\";}\n\n    if (props.hasOwnProperty(\"lineHeight\")) {ele_style += \"line-height: \" + props.lineHeight + \";\";}\n\n    if (props.hasOwnProperty(\"objectFit\")) {ele_style += \"object-fit: \" + props.objectFit + \";\";}\n\n    if (props.hasOwnProperty(\"clickable\")) {ele_style += \"pointer-events: \" + (props.clickable ? \"auto\" : \"none\") + \";\";}\n\n    if (props.hasOwnProperty(\"display\")) { ele_style += \"display:\" + props.display + \";\"; }\n\n    if (props.ellipsize) { ele_style += \"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\";}\n\n    return ele_style;\n\n}\n\n// These values are hardcoded likely since same prestoDOM property is being used for Android, iOS and Web\nfunction addFontProp(props){\n\n    let ele_style = \"\";\n\n\n    if (props.typeface) {\n        switch(props.typeface){\n            case 'normal':\n            ele_style += \"font-weight: 400;\";\n            break;\n            case 'bold':\n            ele_style += \"font-weight: 700;\";\n            break;\n            case 'italic':\n            ele_style += \"font-style: italic;\";\n            break;\n            case 'bold_italic':\n            ele_style += \"font-weight: 700;\";\n            ele_style += \"font-style: italic;\";\n            break;\n            case 'underline':\n            ele_style += \"text-decoration: underline;\";\n            break;\n        }\n    }\n\n    if (props.fontStyle) {\n\n        let match = props.fontStyle.match(/[/-]/);\n        let fontName = match ? props.fontStyle.slice(0, match.index) : props.fontStyle;\n\n        ele_style += \"font-family:\" + fontName + \";\";\n\n        if (match) {\n            let type = props.fontStyle.slice(match.index + 1);\n            type = type.replace(/[-/]/g, '');\n            type  = type.toLowerCase();\n\n            if (type.indexOf('italic') != -1)\n                ele_style += \"font-style: italic;\";\n\n            let fontWeight = 0;\n\n            if (type.indexOf('extralight') != -1)\n                fontWeight = 200;\n            else if (type.indexOf('light') != -1)\n                fontWeight = 300;\n            else if (type.indexOf('regular') != -1 || type.indexOf('book') != -1)\n                fontWeight = 400;\n            else if (type.indexOf('semibold') != -1 || type.indexOf('medium') != -1)\n                fontWeight = 500;\n            else if (type.indexOf('bold') != -1 || type.indexOf('heavy') != -1)\n                fontWeight = 700;\n            else if (type.indexOf('black') != -1)\n                fontWeight = 900;\n\n            if(fontWeight > 0)\n                ele_style += \"font-weight:\"+ fontWeight +\";\";\n        }\n    }\n\n\n    return ele_style;\n}\n\n\nfunction addTransformProp(props){\n    let ele_style = \"\";\n    let transform = \"\";\n    if (props.translationX) {transform += \"translateX(\" + props.translationX + \"px) \"};\n\n    if (props.translationY) {transform += \"translateY(\" + props.translationY + \"px) \"};\n\n    if (props.scaleX) {transform += \"scaleX(\" + props.scaleX + \") \"};\n\n    if (props.scaleY) {transform += \"scaleY(\" + props.scaleY + \") \"};\n\n    if (props.rotation) {transform += \"rotate(\" + props.rotation + \") \"};\n\n    if (props.rotationX) {transform += \"rotateX(\" + props.rotationX + \") \"};\n\n    if (props.rotationY) {transform += \"rotateY(\" + props.rotationY + \") \"};\n\n    // if (key == \"translationZ\") {\n    //     var v = config[key];\n    //     config.style[\"-webkit-box-shadow\"] = \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n    //     config.style[\"-moz-box-shadow\"]= \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n    //     config.style[\"box-shadow\"]=  \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n\n    //   }\n    if (transform.length > 0) {ele_style += \"transform : \" + transform + \";\"};\n    return ele_style;\n}\n\n\nfunction addStrokeProp(props){\n\n    var ele_style = \"\";\n\n    if (props.hasOwnProperty(\"stroke\")) {\n\n        let values = props.stroke.split(\",\");\n\n        if(values.length == 2) { \n            ele_style += \"border: \" + values[0] + \"px solid \" + values[1] + \";\";\n        }\n        else if(values.length == 3){\n\n            strokeMap = {\"b\": \"border-bottom\", \"t\" : \"border-top\", \"r\" : \"border-right\", \"l\" : \"border-left\"};\n      \n            for (var i of values[2]){\n                if (strokeMap[i] !== undefined)\n                ele_style += strokeMap[i] + \": \" + values[0] + \"px solid \" + values[1] + \";\";\n            }\n        }\n    }\n\n    if (props.hasOwnProperty(\"strokeTop\")) {\n        let values = props.strokeTop.split(\",\");\n        if(values.length == 2)\n            ele_style += \"border-top: \" + values[0] + \"px solid \" + values[1] + \";\";\n        else if(values.length == 3)\n            ele_style += \"border-top: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n    }\n\n    if (props.hasOwnProperty(\"strokeRight\")) {\n        let values = props.strokeRight.split(\",\");\n        if(values.length == 2)\n            ele_style += \"border-right: \" + values[0] + \"px solid \" + values[1] + \";\";\n        else if(values.length == 3)\n            ele_style += \"border-right: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n    }\n\n    if (props.hasOwnProperty(\"strokeBottom\")) {\n        let values = props.strokeBottom.split(\",\");\n        if(values.length == 2)\n            ele_style += \"border-bottom: \" + values[0] + \"px solid \" + values[1] + \";\";\n        else if(values.length == 3)\n            ele_style += \"border-bottom: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n    }\n\n    if (props.hasOwnProperty(\"strokeRight\")) {\n        let values = props.strokeRight.split(\",\");\n        if(values.length == 2)\n            ele_style += \"border-right: \" + values[0] + \"px solid \" + values[1] + \";\";\n        else if(values.length == 3)\n            ele_style += \"border-right: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n    }\n\n    if (props.hasOwnProperty(\"strokeLeft\")) {\n        let values = props.strokeLeft.split(\",\");\n        if(values.length == 2)\n            ele_style += \"border-left: \" + values[0] + \"px solid \" + values[1] + \";\";\n        else if(values.length == 3)\n            ele_style += \"border-left: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n    }\n\n    return ele_style;\n}\n\nfunction addGradientProp(props){\n\n    var ele_style = \"\";\n\n    if (props.hasOwnProperty(\"gradient\")) {\n        var gradientObj =JSON.parse(props.gradient);\n        if (gradientObj.type == \"linear\") {\n          var angle = gradientObj.angle;\n          var values = gradientObj.values;\n          var colors = values.join(\", \");\n          ele_style += \"background-image: \" + \"linear-gradient(\"+angle+\"deg, \"+colors+\");\";\n        }\n        else {\n          var values = gradientObj.values;\n          var colors = values.join(\", \");\n          ele_style += \"background-image: \" + \"radial-gradient(\"+colors+\");\";\n        }\n    }\n\n    return ele_style;\n}\n\nfunction addTransitionValue(props) {\n    //let elem_transition = props.transition == undefined ? \"0ms all\" : props.transition // It will always be undefined lol\n    var transition_val = [String(props.a_duration || 0) +\"ms\",\"all\",props.transitionTimingFunction].filter(Boolean).join(\" \");\n    return \"transition:\" + transition_val + \";\";\n\n\n}\nfunction addSize(view = {}){\n\n    var props = view.props\n    var parentView = view.parent || {}\n    parentView.state = parentView.state || {}\n    view.state = view.state || {}\n    var parentProps = parentView.props || {}\n    // Add elem as an argument if you are gonna uncomment it\n    // elem.style.width = 'auto';\n    // elem.style.height = 'auto';\n    let elem_style = \"width : auto; \";\n    elem_style += \"height: auto; \";\n\n\n    if (props.hasOwnProperty('width')) {\n        if (props.width == 'match_parent' && !parentView.state.treatMatchParentAsWrapWidth) {\n            // treat parent wrap content as wrap_content instead of match_parent\n            if(props.hasOwnProperty('margin')){\n                var margin=props.margin.split(\",\");\n                elem_style += \"width:\" + \"calc(100% - \"+(parseInt(margin[0])+parseInt(margin[2])).toString()+\"px );\";\n            }\n            else elem_style += \"width : 100%; \";\n            //elem.style.width = '100%';\n        } else if (props.width == 'match_parent' && parentView.state.treatMatchParentAsWrapWidth) { \n            view.state.practicalWidth = 'wrap_content'\n        } else if (props.width == 'wrap_content') {\n            view.state.practicalWidth = 'wrap_content';\n        } else if (!isNaN(props.width)) {\n            if (props.hasOwnProperty('percentWidth') && props.percentWidth)\n                elem_style += \"width: \" + props.width + \"%;\";\n                // elem.style.width = props.width + '%';\n            else\n            elem_style += \"width: \" + props.width + \"px;\";\n            //elem.style.width = props.width + 'px';\n        }\n    }\n    if (props.hasOwnProperty('height')) {\n        if (props.height == 'match_parent' && !parentView.state.treatMatchParentAsWrapHeight) {\n            elem_style += \"height: 100%;\";\n            // elem.style.height = '100%';\n        } else if (props.height == 'match_parent' && parentView.state.treatMatchParentAsWrapHeight) { \n            view.state.practicalHeight = 'wrap_content'\n            elem_style += \"height: auto;\";\n            //elem.style.height = \"auto\";\n            // You see below\n        } else if (props.height == 'wrap_content') {\n            view.state.practicalHeight = 'wrap_content'\n        } else if (!isNaN(props.height)) {\n            if (props.hasOwnProperty('percentHeight') && props.percentHeight)\n                elem_style += \"height: \" + props.height + \"%;\";\n//                elem.style.height = props.height + '%';\n            else\n                elem_style += \"height: \" + props.height + \"px;\";\n//            elem.style.height = props.height + 'px';\n        }\n    }\n\n    if (props.hasOwnProperty('minWidth') && !isNaN(props.minWidth)) {\n        if (props.percentMinWidth)\n            elem_style += \"min-width: \" + props.minWidth + \"%;\";\n//            elem.style.minWidth = props.minWidth + '%';\n        else\n            elem_style += \"min-width: \" + props.minWidth + \"px;\";\n\n        //    elem.style.minWidth = props.minWidth + 'px';\n    }\n\n    if (props.hasOwnProperty('minHeight') && !isNaN(props.minHeight)) {\n        if (props.percentMinHeight)\n            elem_style += \"min-height: \" + props.minHeight + \"%;\";\n            // elem.style.minHeight = props.minHeight + '%';\n        else\n            elem_style += \"min-height: \" + props.minHeight + \"px;\";\n            // elem.style.minHeight = props.minHeight + 'px';\n    }\n\n    if (props.hasOwnProperty('maxWidth') && !isNaN(props.maxWidth)) {\n        if (props.percentMaxWidth)\n            elem_style += \"max-width: \" + props.maxWidth + \"%;\";\n//            elem.style.maxWidth = props.maxWidth + '%';\n        else\n            elem_style += \"max-width: \" + props.maxWidth + \"px;\";\n        //            elem.style.maxWidth = props.maxWidth + 'px';\n    }\n\n    if (props.hasOwnProperty('maxHeight') && !isNaN(props.maxHeight)) {\n        if (props.percentMaxHeight)\n            elem_style += \"max-height: \" + props.maxHeight + \"%;\";\n       // elem.style.maxHeight = props.maxHeight + '%';\n        else\n            elem_style += \"max-height: \" + props.maxHeight + \"px;\";\n            //elem.style.maxHeight = props.maxHeight + 'px';\n    }\n    return elem_style;\n}\n\nfunction addBorder(props) {\n    let elem_style = \"\";\n    if (props.hasOwnProperty('padding')) {\n        let padding = props.padding.split(',').map(a => a * 1);\n        elem_style += \"padding: \" + padding[1] + \"px \" + padding[2] + \"px \" + padding[3] + \"px \" + padding[0] + \"px;\";\n//        elem.style['padding'] = padding[1] + 'px ' + padding[2] + 'px ' + padding[3] + 'px ' + padding[0] + 'px';\n    }\n\n    if (props.hasOwnProperty('margin')) {\n        let margin = props.margin.split(',').map(a => a * 1);\n        elem_style += \"margin: \" + margin[1] + \"px \" + margin[2] + \"px \" + margin[3] + \"px \" + margin[0] + \"px;\";\n//        elem.style['margin'] = margin[1] + 'px ' + margin[2] + 'px ' + margin[3] + 'px ' + margin[0] + 'px';\n    }\n    return elem_style;\n}\n\nfunction addVisibility(elem, props, type) {\n    let elem_style = \"\";\n    if (props.hasOwnProperty('visibility')) {\n        let visibility = props.visibility;\n        if (visibility == 'invisible')\n            elem_style += \"visibility: hidden;\";\n            //elem.style.visibility = \"hidden\";\n        else if (visibility == 'gone')\n            elem_style += \"display: none;\";\n            //elem.style.display = \"none\";\n        else {\n            // elem_style += \"visibility: '';\";\n            //elem.style.visibility = '';\n            elem_style += initializeShow(elem, props, type);\n        }\n    } else {\n        elem_style += initializeShow(elem, props, type);\n    }\n    return elem_style;\n}\n\nfunction addExpandability(elem, props, type) {\n    let elem_style = \"\";\n    if (type == \"accordionLayout\" && props.hasOwnProperty('expand')) {\n        elem_style += \"overflow: hidden;\";\n        var anim_duration = 0; // default anim duration in seconds\n        var maxHeight;\n        if (props.hasOwnProperty('maxHeight')) {\n            maxHeight = props.maxHeight;\n        } else {\n            maxHeight = utils.calculateHeight(elem);\n        }\n        if (props.hasOwnProperty('expandDuration')) {\n            anim_duration = +props.expandDuration / 1000;\n        }\n        elem_style += \"transition: max-height \" + anim_duration + \"s ease-in-out;\";\n        if (props.expand){\n            elem_style +=  \"max-height: \" + (maxHeight <= 0 ? 1080 : maxHeight) + \"px;\";\n        }\n        else {\n            elem_style += \"max-height: 0px;\";\n        }\n    }\n    return elem_style;\n}\nfunction addOverFlow(props) {\n    let elem_style =\"\";\n    if (props.hasOwnProperty('overFlowVisible')) {\n        if (props.overFlowVisible) {\n            elem_style += \"overflow: visible;\";\n            // elem.style.overflow = \"visible\"\n        }\n    }\n    return elem_style;\n}\nfunction setGravityStylesForRow(elem, props) {\n\n    var gravity_row_style = \"\";\n\n    if (!props.hasOwnProperty('gravity') || !props.gravity) {\n        props.gravity = '';\n        //return;\n    }\n\n    switch (props.gravity) {\n        case 'center_vertical':\n            gravity_row_style += \"align-items: center;\";\n            gravity_row_style += \"justify-content: flex-start;\";\n\n            // elem.gravity_row_style['align-items'] = 'center';\n            // elem.gravity_row_style['justify-content'] = 'flex-start';\n            break;\n        case 'center_horizontal':\n            gravity_row_style += \"align-items: flex-start;\";\n            gravity_row_style += \"justify-content: center;\";\n            // elem.gravity_row_style['align-items'] = 'flex-start';\n            // elem.gravity_row_style['justify-content'] = 'center';\n            break;\n        case 'center':\n            gravity_row_style += \"align-items: center;\";\n            gravity_row_style += \"justify-content: center;\";\n            // elem.gravity_row_style['align-items'] = \"center\";\n            // elem.gravity_row_style['justify-content'] = \"center\";\n            break;\n        case 'left':\n        case 'start':\n            gravity_row_style += \"align-items: flex-start;\";\n            gravity_row_style += \"justify-content: flex-start;\";\n            // elem.gravity_row_style['align-items'] = 'flex-start';\n            // elem.gravity_row_style['justify-content'] = 'flex-start';\n            break;\n        case 'right':\n        case 'end':\n            gravity_row_style += \"align-items: flex-start;\";\n            gravity_row_style += \"justify-content: flex-end;\";\n            // elem.gravity_row_style['align-items'] = 'flex-start';\n            // elem.gravity_row_style['justify-content'] = 'flex-end';\n            break;\n        case 'stretch':\n            gravity_row_style += \"align-items: stretch;\";\n            gravity_row_style += \"justify-content: flex-start;\";\n            // elem.gravity_row_style['align-items'] = 'stretch';\n            // elem.gravity_row_style['justify-content'] = 'flex-start';\n            break;\n        default:\n            gravity_row_style += \"align-items: flex-start;\";\n            gravity_row_style += \"justify-content: flex-start;\";\n            // elem.gravity_row_style['align-items'] = 'flex-start';\n            // elem.gravity_row_style['justify-content'] = 'flex-start';\n            break;\n    }\n\n    return gravity_row_style;\n}\nfunction setGravityStylesForColumn(elem, props) {\n\n    var gravity_col_style = \"\";\n    if (!props.hasOwnProperty('gravity') || !props.gravity) {\n        props.gravity = '';\n        //return;\n    }\n\n    switch (props.gravity) {\n        case 'center_vertical':\n            gravity_col_style += \"align-items: flex-start;\";\n            gravity_col_style += \"justify-content: center;\";\n            // elem.style['align-items'] = 'flex-start';\n            // elem.style['justify-content'] = 'center';\n            break;\n        case 'center_horizontal':\n            gravity_col_style += \"align-items: center;\";\n            gravity_col_style += \"justify-content: flex-start;\";\n            // elem.style['align-items'] = 'center';\n            // elem.style['justify-content'] = 'flex-start';\n            break;\n        case 'center':\n            gravity_col_style += \"align-items: center;\";\n            gravity_col_style += \"justify-content: center;\";\n            // elem.style[\"align-items\"] = \"center\";\n            // elem.style[\"justify-content\"] = \"center\";\n            break;\n        case 'left':\n        case 'start':\n            gravity_col_style += \"align-items: flex-start;\";\n            gravity_col_style += \"justify-content: flex-start;\";\n            // elem.style['justify-content'] = 'flex-start';\n            // elem.style['align-items'] = 'flex-start';\n            break;\n        case 'right':\n        case 'end':\n            gravity_col_style += \"align-items: flex-end;\";\n            gravity_col_style += \"justify-content: flex-start;\";\n            // elem.style['align-items'] = 'flex-end';\n            // elem.style['justify-content'] = 'flex-start';\n            break;\n        case 'stretch':\n            gravity_col_style += \"align-items: stretch;\";\n            gravity_col_style += \"justify-content: flex-start;\";\n            // elem.style['align-items'] = 'stretch';\n            // elem.style['justify-content'] = 'flex-start';\n            break;\n        default:\n            gravity_col_style += \"align-items: flex-start;\";\n            gravity_col_style += \"justify-content: flex-start;\";\n            // elem.style['align-items'] = 'flex-start';\n            // elem.style['justify-content'] = 'flex-start';\n            break;\n    }\n    return gravity_col_style;\n}\n\nfunction addLayout(elem, type, props) {\n    let scrollBarX = props.hasOwnProperty('scrollBarX')?props.scrollBarX:true;\n    let scrollBarY = props.hasOwnProperty('scrollBarY')?props.scrollBarX:true;\n    let elem_style = \"\";\n    switch(type){\n        case 'linearLayout':\n            elem_style += \"box-sizing: border-box;\";\n            //elem.style[\"box-sizing\"] = \"border-box\";\n\n            if (props.hasOwnProperty('fixedWrap') && !props.fixedWrap) {\n                elem_style += \"flex-wrap: nowrap;\";\n                //elem.style[\"flex-wrap\"] = \"nowrap\";\n            } else {\n                // elem_style += \"flex-wrap: wrap;\";\n                //elem.style[\"flex-wrap\"] = \"wrap\";\n            }\n\n\n            let orient = props.orientation == \"vertical\" ? \"column\" : \"row\";\n            elem_style += \"flex-direction: \" + orient + \";\";\n            // elem.style[\"flex-direction\"] =\n\n            if (orient == 'row')\n                elem_style += setGravityStylesForRow(elem, props);\n            else\n                elem_style += setGravityStylesForColumn(elem, props);\n\n            // if (elem.style[\"flex-direction\"] == 'row')\n            //     setGravityStylesForRow(elem, props);\n            // else\n            //     setGravityStylesForColumn(elem, props);\n\n            if (props.hasOwnProperty('scrollBarX')) {\n                if (props.scrollBarX)\n                    elem_style += \"overflow-x: auto;\";\n//                  elem.style.overflowX = 'auto'\n                else\n                    elem_style += \"overflow-x: hidden;\";\n//              elem.style.overflowX = 'hidden'\n            }\n\n            if (props.hasOwnProperty('scrollBarY')) {\n                if (props.scrollBarY)\n                    elem_style += \"overflow-y: auto;\";\n                    // elem.style.overflowY = 'auto'\n                else\n                    elem_style += \"overflow-y: hidden;\";\n                    // elem.style.overflowY = 'hidden'\n            }\n            break;\n        case \"horizontalScrollView\":\n            elem_style += \"overflow-x: auto;\";\n            elem_style += \"overflow-y: hidden;\";\n            // elem.style.overflowX = \"auto\";\n            // elem.style.overflowY = \"hidden\";\n\n            // if (!scrollBarX)\n            //     elem_style += \"overflow-x: hidden;\";\n            break;\n        case 'listView':\n            elem_style += \"overflow-x: hidden;\";\n            elem_style += \"overflow-y: auto;\";\n\n            // elem.style.overflowY = \"auto\";\n            // elem.style.overflowX = \"hidden\";\n\n            // if (!scrollBarY)\n            //     elem_style += \"overflow-y: hidden;\";\n                // elem.style.overflowY = 'hidden';\n            break;\n        case 'scrollView':\n            elem_style += \"overflow-x: auto;\";\n            elem_style += \"overflow-y: auto;\";\n\n            // elem.style.overflowX = 'auto';\n            // elem.style.overflowY = 'auto';\n\n            // if (!scrollBarX)\n            //     elem_style += \"overflow-x: hidden;\";\n            // if (!scrollBarY)\n            //     elem_style += \"overflow-y: hidden;\";\n            break;\n        case 'relativeLayout':\n            elem_style += \"position: relative;\";\n            // elem.style.position = 'relative';\n\n            if (props.hasOwnProperty('scrollBarX')) {\n                if (props.scrollBarX)\n                    elem_style += \"overflow-x: auto;\";\n                    // elem.style.overflowX = 'auto'\n                else\n                    elem_style += \"overflow-x: hidden;\";\n                    // elem.style.overflowX = 'hidden'\n                }\n\n                if (props.hasOwnProperty('scrollBarY')) {\n                    if (props.scrollBarY)\n                        elem_style += \"overflow-y: auto;\";\n                        //  elem.style.overflowY = 'auto'\n                    else\n                        elem_style += \"overflow-y: hidden;\";\n                //          elem.style.overflowY = 'hidden'\n        }\n    }\n\n    return elem_style;\n}\n\nfunction addImage(type,props,elem) {\n    if (type == 'imageView') {\n        if (props.imageUrl) {\n            let imageUrl = props.imageUrl\n\n            if (props.rawData) {\n                // Do Nothing\n            } else {\n                let temp = imageUrl.split('.')\n                let ext = ''\n                if (temp && temp.length > 0)\n                    ext = temp[temp.length - 1]\n\n                let exts = [\"jpeg\", \"jpg\", \"png\", \"bmp\", \"svg\", \"gif\"]\n                ext = ext.toLowerCase()\n\n                if(!imageUrl.includes(\"data:image/\") && !exts.includes(ext)) {\n                    imageUrl += '.png'\n                }\n            }\n\n            elem.setAttribute('src', imageUrl)\n        }\n    }\n}\nfunction findArticle(children){\n    let article = null;\n    if (children.length) {\n        for (let i = 0; i < children.length; i++) {\n            if (children[i].nodeName.toLowerCase() == 'article') {\n                article = children[i]\n                break\n            }\n        }\n    }\n    return article? article:document.createElement('article');\n}\nfunction getArticle(children, config) {\n    let article = findArticle(children);\n\n    if (config.isHtmlContent)\n        article.innerHTML = config.textFromHtml\n    else\n        article.innerText = config.text\n    article.style.wordBreak = \"break-word\"\n    article.style.display = \"inline\"\n    return article;\n\n}\nfunction getTextStyle(config){\n    let text = \"white-space:initial;\";\n    return config.letterSpacing ? text + \"letter-spacing:\"+config.letterSpacing+\";\" : text;\n}\nfunction createTextElement(elem, config) {\n\n    let text_style = getTextStyle(config);\n    let article = getArticle(elem.childNodes, config);\n    elem.appendChild(article)\n    return text_style;\n}\nfunction addTextProperties(props, elem, type) {\n    let elem_style = \"\"\n    if (props.hasOwnProperty(\"text\")){\n        if (type == \"editText\")\n            elem.value = props.text\n        else\n            elem_style += createTextElement(elem, props)\n    }\n\n    if (props.hasOwnProperty(\"textFromHtml\")) {\n        props.isHtmlContent = true;\n        if (type == \"editText\")\n            elem.value = props.textFromHtml\n        else\n            elem_style += createTextElement(elem, props)\n    }\n    delete props.text;\n    return elem_style;\n}\nfunction addClassNameProperties(props, elem) {\n    if (props.hasOwnProperty(\"className\")) {\n        if ((props.className || \"\").trim() !== \"\") {\n            props.className.split(\" \").map(className => {\n                elem.classList.add(className);\n            })\n        }\n    }\n\n    if (props.hasOwnProperty(\"classList\")) {\n        JSON.parse(props.classList).forEach(function (obj) {\n            elem.classList.add(obj);\n        });\n    }\n\n    if (props.hasOwnProperty(\"removeClassList\")){\n        JSON.parse(props.removeClassList).forEach(function (obj) {\n            elem.classList.remove(obj);\n        });\n    }\n}\nfunction addFunctions(props, elem) {\n    let elem_style =\"\";\n    for (let key in props) {\n        if (props[key] && typeof props[key] == \"function\") {\n            var eventType = key.substring(2, key.length).toLowerCase();\n            var elemCB = props[key];\n            elem_style += \"user-select: none;\";\n            //elem.style.userSelect = 'none';\n            if (eventType == \"change\") {\n                eventType = \"input\";\n            }\n\n            elem.addEventListener('blur', function () {\n                var inputValue = elem.value;\n                if (inputValue == \"\") {\n                    elem.classList.remove(\"filled\");\n                    elem.parentNode.classList.remove('focused');\n                } else {\n                    elem.classList.add('filled');\n                }\n            });\n\n            elem['onfocus'] = function (e) {\n                elem.parentNode.classList.add('focused');\n                if (eventType == \"focus\") {\n                    e.stopPropagation();\n                    elemCB(e);\n                }\n            };\n        }\n    }\n    return elem_style;\n}\nfunction addAnimationAttributes(props) {\n    let elem_style =\"\";\n    var animation_transition = getAnimeTransition(props);\n\n    var animation_transform = getAnimeTransform(props);\n\n    var animation_opacity = getAnimeOpacity(props);\n\n    if (animation_transition.length > 0 && (animation_transform.length + animation_opacity.length > 0)) { // this will need to be renamed actually to VDOM output's\n        const afterTransition = () => {\n            elem_style += animation_transition;\n            if (animation_transform.length > 0) elem_style += animation_transform;\n            if (animation_opacity.length > 0) { elem_style += animation_opacity;}\n        };\n\n        if (props.style.transform || props.style.opacity) {\n            setTimeout(afterTransition, 100); // Why is a time out here?\n        } else {\n            afterTransition();\n        }\n    }\n    return elem_style;\n}\n\nfunction addTypeSpecificProp(type,props){\n\n    let ele_style = \"\";\n\n    if (props.hasOwnProperty('visibility')){\n        if (props.visibility == \"gone\") return ele_style;\n    }\n\n    if (props.hasOwnProperty('display')){\n        if (props.display == \"none\") return ele_style;\n    }\n\n\n    if (type == \"textView\" && props.hasOwnProperty(\"gravity\")) {\n        ele_style += \"text-align:\"+props.gravity+\";\";\n\n        if (props.gravity == \"center_vertical\") {\n            ele_style += \"align-items:center;\";\n            ele_style += \"display:flex;\";\n        }\n        else if (props.gravity == \"center_horizontal\") {\n            ele_style += \"justify-content:center;\";\n            ele_style += \"display:flex;\";\n        }\n        else if (props.gravity == \"center\") {\n            ele_style += \"justify-content:center;\";\n            ele_style += \"align-items:center;\";\n            ele_style += \"display:flex;\";\n        }\n    }\n\n    if (type == \"linearLayout\" && props.hasOwnProperty(\"gravity\")){\n        if (props.margin && props.gravity==\"center_vertical\"){\n\n            var margin=props.margin.split(\",\");\n            if (props.width == \"match_parent\"){\n                let width = \"calc(100% - \"+(parseInt(margin[0])+parseInt(margin[2])).toString()+\"px )\";\n                ele_style += \"width:\" + width + \";\";\n            }\n        }\n    }\n\n    return ele_style;\n}\n\n\n\n\nfunction addRotateProp(props){\n\n    var ele_style = \"\";\n\n    if (props.hasOwnProperty(\"rotateImage\")){\n        if(props.rotateImage){\n          ele_style += \"-webkit-animation:load3 4s infinite linear;\";\n          ele_style += \"animation-duration:4s;\";\n          ele_style += \"animation-timing-function:linear;\";\n          ele_style += \"animation-delay:0s;\";\n          ele_style += \"animation-iteration-count:infinite;\";\n          ele_style += \"animation-direction:normal;\";\n          ele_style += \"animation-fill-mode:none;\";\n          ele_style += \"animation-play-state:running;\";\n          ele_style += \"animation-name:rotation;\";\n        }\n    }\n\n    return ele_style;\n}\n\nfunction addShadowProp(props){\n\n    var ele_style = \"\";\n\n    if (props.hasOwnProperty(\"shadow\")) {\n        var shadowValues = props.shadow.split(props.shadowSeparator || ',');\n        var shadowBlur = utils.rWS(utils.cS(shadowValues[2]));\n        var shadowSpread = utils.rWS(utils.cS(shadowValues[3]));\n        var shadowOpacity = utils.rWS(utils.cS(shadowValues[5]));\n        var shadowOffset = {\n            x: utils.rWS(utils.cS(shadowValues[0])),\n            y: utils.rWS(utils.cS(shadowValues[1]))\n          };\n\n        var shadowColor = utils.convertColorToRgba(shadowValues[4]);\n        var shadowType = props.shadowType ? `${props.shadowType} ` : ''\n\n        ele_style += \"box-shadow:\" + shadowType + parseInt(shadowOffset.x) + \"px \" + parseInt(shadowOffset.y) + \"px \" + parseInt(shadowBlur) + \"px \" + parseInt(shadowSpread) + \"px rgba(\" + shadowColor.r + \", \" +  shadowColor.g + \", \" +  shadowColor.b + \", \" +  shadowColor.a + \");\" ;\n    }\n\n    return ele_style;\n}\n\n\nfunction addSetInputTypeProp(ele,props){\n\n    var ele_style = \"\";\n\n    if (props.hasOwnProperty(\"inputType\")) {\n\n        var inputType = \"text\";\n\n        if (props.inputType == \"numericPassword\" || props.inputType == \"password\") {\n          if(props.inputType == \"numericPassword\"){\n            ele.setAttribute(\"inputmode\",\"numeric\");\n          }\n          if(props.inputTypeI == 4 && window.innerWidth < 550 || navigator.userAgent.search(\"Firefox\") === -1){ // This feels like a very specific use-case? Investigate\n            inputType = \"tel\";\n            ele_style += \"-webkit-text-security:disc;\";\n            ele_style += \"-moz-text-security:disc;\";\n            ele_style += \"text-security:disc;\";\n          }\n          else {\n            ele.setAttribute(\"autocomplete\",\"new-password\");\n            inputType = \"password\";\n          }\n        }\n\n        else if (props.inputType == \"disabled\") {\n            ele.setAttribute(\"disabled\",\"disabled\");\n        }\n\n        else if (props.inputType == \"numeric\") {\n            inputType = \"number\"\n        }\n\n        else if(props.inputType === \"telephone\") {\n            inputType = \"tel\";\n        }\n\n        if (props.hasOwnProperty(\"separator\")) {\n          if(props.inputType == \"numeric\"){\n            inputType = \"tel\"\n          } else {\n            inputType = \"text\"\n          }\n        }\n\n        ele.setAttribute(\"type\",inputType);\n    }\n\n    return ele_style;\n}\n\n\nfunction getAnimeTransform(props){\n\n    var elem_style_value = \"\";\n\n    if (props.hasOwnProperty(\"a_translationY\")) {\n        elem_style_value += \"translateY(\" + props[\"a_translationY\"] + \"px) \";\n    }\n\n    if (props.hasOwnProperty(\"a_translationX\")) {\n        elem_style_value += \"translateX(\" + props[\"a_translationX\"] + \"px) \";\n    }\n\n    if (props.hasOwnProperty(\"a_scaleX\")) {\n        elem_style_value += \"scaleX(\" + props[\"a_scaleX\"] + \") \";\n    }\n\n    if (props.hasOwnProperty(\"a_scaleY\")) {\n        elem_style_value += \"scaleY(\" + props[\"a_scaleY\"] + \") \";\n    }\n\n    if (props.hasOwnProperty(\"a_rotation\")) {\n        elem_style_value += \"rotate(\" + props[\"a_rotation\"] + \"deg) \";\n    }\n\n    if (props.hasOwnProperty(\"a_rotationX\")) {\n        elem_style_value += \"rotateX(\" + props[\"a_rotationX\"] + \"deg) \";\n    }\n\n    if (props.hasOwnProperty(\"a_rotationY\")) {\n        elem_style_value += \"rotateY(\" + props[\"a_rotationY\"] + \"deg) \";\n    }\n\n\n\n    if (elem_style_value.length > 0)\n        return \" transform: \"+ elem_style_value +\";\";\n    else\n        return \"\";\n\n}\n\n\nfunction getAnimeOpacity(props){\n    if (props.hasOwnProperty(\"a_alpha\")){\n        return \"opacity: \" + props[\"a_alpha\"] + \"; \";\n    }\n    else\n        return \"\";\n}\n\nfunction getAnimeTransition(props){\n\n    if (props.hasOwnProperty(\"a_duration\") && !isNaN(props[\"a_duration\"])) {\n        const suffix = props.transitionTimingFunction ? (\" \" + props.transitionTimingFunction) : \"\";\n        return \"transition: \" + props[\"a_duration\"] + 'ms all' + suffix + \";\";\n    }\n    else return \"\";\n\n}\n\n// add attributes to the mutable element\nfunction setElemAttributes(element,props){\n\n    if (props.hasOwnProperty(\"url\")) { element.setAttribute('src',props.url) }\n\n    if (props.hasOwnProperty(\"autofocus\") && (navigator.userAgent.indexOf(\"iPhone\") == -1)) { element.setAttribute('autofocus','autofocus') }; // device should not be an iphone\n\n\n    if(props.hasOwnProperty(\"focus\")) {\n            if (props.focus && props.id){\n                var doc = document.getElementById(props.id);\n                if (doc) {\n                    if (window.hasAnimationProps) {\n                        if (window.focusedElement == undefined) {\n                            window.focusedElement = props.id;\n                        };\n                    } else { doc.focus(); }\n                }\n        }\n    }\n\n\n    if (props.hasOwnProperty('contentEditable')) {element.setAttribute('contentEditable','true')};\n\n    if (props.hasOwnProperty('hint')) {element.setAttribute('hint',props.hint)};\n\n    if (props.hasOwnProperty(\"pattern\")) {\n        element.setAttribute(\"data-pattern\",props.pattern);\n        var data = props.pattern.split(',');\n        var length = parseInt(data.pop());\n        if(length>10) { length = 10;    }\n        element.setAttribute(\"size\",length);\n    }\n\n    if (props.hasOwnProperty(\"separator\")) {\n        element.setAttribute(\"separator\",props.separator);\n    }\n\n    if (props.hasOwnProperty(\"separatorRepeat\")) {\n        element.setAttribute(\"separatorRepeat\",props.separatorRepeat);\n    }\n\n    return element;\n\n    // if (props.hasOwnProperty(\"myAttr\")) {\n    //     element.setAttribute(config.myAttr,config.myAttr);\n    // }\n\n}\n\nfunction addPseudoClasses(elem, props){\n\n\n    let styleElem = document.getElementById(window.__STYLE_ID) || document.getElementsByTagName(\"body\")[0].getElementsByTagName(\"style\")[0]\n    let css = \"\";\n\n    if (props.hasOwnProperty(\"hoverBg\")) {\n        css += \"div#\\\\3\" + elem.id[0] + \" \" + elem.id.substring(1) + \":hover{background:\" + props[\"hoverBg\"] + \"!important;}\";\n    }\n\n    if (props.hasOwnProperty(\"hoverColor\")) {\n        css += \"div#\\\\3\" + elem.id[0] + \" \" + elem.id.substring(1) + \":hover{color:\" + props[\"hoverColor\"] + \"!important;}\";\n    }\n\n    if (!css) return\n    if(styleElem) {\n      styleElem.innerText += css;\n    } else {\n      styleElem = document.createElement('style');\n      styleElem.appendChild(document.createTextNode(css));\n      document.getElementsByTagName(\"body\")[0].appendChild(styleElem);\n    }\n\n}\n\n\nmodule.exports = {\n    mapPropToStyle,\n    getAnimeTransform,\n    getAnimeOpacity,\n    getAnimeTransition,\n    setElemAttributes,\n    addAnimationAttributes,\n    addTransitionValue,\n    addSize,\n    addBorder,\n    addVisibility,\n    addExpandability,\n    addOverFlow,\n    addLayout,\n    addImage,\n    addTextProperties,\n    addClassNameProperties,\n    addFunctions,\n    addPseudoClasses\n}\n\n\n\n\n\n","/*\n * Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n * JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n *\n * This file is part of JUSPAY Platform.\n *\n * JUSPAY Platform is free software: you can redistribute it and/or modify\n * it for only educational purposes under the terms of the GNU Affero General\n * Public License (GNU AGPL) as published by the Free Software Foundation,\n * either version 3 of the License, or (at your option) any later version.\n * For Enterprise/Commerical licenses, contact <info@juspay.in>.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n * be liable for all damages without limitation, which is caused by the\n * ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n * damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n * The end user has NO right to claim any indemnification based on its use\n * of Licensed Software. See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n */\n\nlet {\n    computeChildDimens\n} = require(\"../compute\")\nlet mapAttributes = require(\"./MapAttributes\");\nconst List = require(\"./ListPresto\");\n\nfunction initiateElement(type, props, elem){\n    if (type == \"editText\" && elem.tagName.toLowerCase() == \"input\") {\n\n        var isIPhone = (navigator.userAgent.indexOf(\"iPhone\") !== -1)\n        if (elem.autofocus && !isIPhone) {\n            elem.focus()\n        }\n        if(window.preponeSpace){\n            elem.addEventListener('input', separatorInputKeyDownHandlerNew);\n        } else {\n            elem.addEventListener('input', separatorInputKeyDownHandler);\n        }\n    }\n\n    let events = ['onClick', 'onEnterPressedEvent', 'onChange', 'onMouseDown', 'onMouseUp', 'onMouseEnter', 'onMouseOver', 'onMouseMove', 'onMouseOut', 'onMouseLeave', 'onFocus', 'onPaste']\n\n    for (let i = 0; i < events.length; i++) {\n        let key = events[i]\n        let eventType = key.substring(2, key.length).toLowerCase()\n        if (props.hasOwnProperty(key) && typeof props[key] == \"function\") {\n            const callback = props[key]\n            if (key == \"onEnterPressedEvent\") {\n                elem.addEventListener('keyup', (e) => {\n                    e.stopPropagation()\n\n                    if (e.keyCode == 13) {\n                        callback(e)\n                    }\n                })\n            }\n            if (eventType == \"change\") {\n                elem.addEventListener('input', (e) => {\n                    callback(e.target.value)\n                })\n            } else if (eventType == \"focus\"){\n                elem.addEventListener('focus', (e) => {\n                    callback(\"true\")\n                })\n                elem.addEventListener('blur', (e) => {\n                    callback(\"false\")\n                })\n            } else {\n                props.oldEventListener = props.oldEventListener || {};\n                if (typeof props.oldEventListener[eventType] == \"function\") {\n                    elem.removeEventListener(eventType, props.oldEventListener[eventType]);\n                }\n                props.oldEventListener[eventType] = (e) => {\n                    e.stopPropagation();\n                    callback(e)\n                };\n                elem.addEventListener(eventType, props.oldEventListener[eventType]);\n            }\n        }\n    }\n}\n\n// not being used in hyper-widget web\nfunction popup(elem, props) {\n    let menuItems = props[\"popupMenu\"].split(',');\n    let menuBar = document.createElement(\"div\");\n    menuBar.setAttribute(\"class\", \"popupMenu\");\n    menuBar.style.cssText =\n        \"display: none; position: absolute; right: 20px; top:20px; z-index: 5;\" +\n        \"box-shadow: 0px 5px 10px #888888;\";\n    document.body.appendChild(menuBar)\n    let clickCb = \"onMenuItemClick\";\n    for (let i = 0; i < menuItems.length; i++) {\n        let menuDiv = document.createElement(\"div\");\n        menuDiv.setAttribute(\"class\", \"menuItem\");\n        menuDiv.textContent = menuItems[i];\n        menuBar.appendChild(menuDiv);\n        let index = i;\n        if (props[clickCb] &&\n            typeof props[clickCb] == \"function\") {\n            menuDiv.addEventListener(\"click\", () => {\n                props[clickCb](index);\n            });\n        }\n    }\n    elem.addEventListener(\"click\", function () {\n        if (menuBar.style.display == \"none\")\n            menuBar.style.display = \"\";\n        else\n            menuBar.style.display = \"none\";\n    });\n}\n\nconst InlineAnimationMapper = {\n    map: function (type) {\n        var self = this;\n        return function (key, value) {\n            if (self.MAPPINGS[type] && self.MAPPINGS[type][key]) {\n                return self.MAPPINGS[type][key](value);\n            } else return \"\";\n        }\n    },\n    MAPPINGS: {\n        \"from\": {\n            \"fromX\": val => `transform: translateX(${val}px);`,\n            \"fromY\": val => `transform: translateY(${val}px);`,\n            \"fromScaleX\": val => `transform-origin:top left;\\ntransform: scaleX(${val});`, \n            \"fromScaleY\": val => `transform-origin:top left;\\ntransform: scaleY(${val});`, \n            \"fromRotation\": val => `transform: rotate(${val}deg);`, \n            \"fromRotationX\": val => `transform: rotateX(${val}deg);`, \n            \"fromRotationY\": val => `transform: rotateY(${val}deg);`, \n            \"fromAlpha\": val => `opacity: ${val};`, \n        },\n        \"to\": {\n            \"toX\": val => `transform: translateX(${val}px);`, \n            \"toY\": val => `transform: translateY(${val}px);`, \n            \"toScaleX\": val => `transform-origin:top left;\\ntransform: scaleX(${val});`, \n            \"toScaleY\": val => `transform-origin:top left;\\ntransform: scaleY(${val});`, \n            \"toRotation\": val => `transform: rotate(${val}deg);`, \n            \"toRotationX\": val => `transform: rotateX(${val}deg);`, \n            \"toRotationY\": val => `transform: rotateY(${val}deg);`, \n            \"toAlpha\": val => `opacity: ${val};`, \n        },\n        // ref: https://developer.mozilla.org/en-US/docs/Web/CSS/animation\n        \"animation-shorthand-seq\": [\"duration\", \"interpolator\", \"delay\", \"repeatCount\", \"repeatMode\", \"fillMode\"],\n        \"animation-props\": {\n            \"interpolator\": val => {\n                if (!val) {\n                    return `ease`;\n                } else if (typeof val == \"string\" && val.split(',').length == 4) {\n                    return `cubic-bezier(${val})`\n                } else {\n                    switch (val) {\n                        case \"easein\":\n                            return \"ease-in\";\n                        case \"easeout\":\n                            return \"ease-out\";\n                        case \"bounce\":\n                        case \"easeinout\":\n                            return \"ease-in-out\";\n                        default:\n                            return `${val}`;\n                    }\n                }\n            }, \n            \"delay\": val => {\n                if (!val) {\n                    return `0s`;\n                } else if (!isNaN(val)) {\n                    val = parseFloat(parseFloat(val) / 1000).toFixed(2);\n                    return `${val}s `;\n                } else {\n                    return `0s`;\n                }\n            }, \n            \"duration\": val => {\n                if (!val) {\n                    return `0s`;\n                } if (!isNaN(val)) {\n                    val = parseFloat(parseFloat(val) / 1000).toFixed(2);\n                    return `${val}s`;\n                } else {\n                    return `0s`;\n                }\n            },  \n            \"repeatMode\": val => {\n                switch (val) {\n                    case \"restart\":\n                        return `normal`;\n                    case \"reverse\":\n                        return `reverse`;\n                    default:\n                        return `normal`;\n                }\n            }, \n            \"repeatCount\": val => {\n                if (!val) return `1`;\n                val = parseInt(val);\n                if (isNaN(val)) { return `1`; }\n                else if (val < 0) { return `infinite`}\n                else { return `${val+1}`}\n            }, \n            \"fillMode\": val => {\n                if (!val) return `forwards`;\n                else return `${val}`;\n            }\n        }\n    }\n}\n\nconst CSSMarkupWriter = {\n    \"animations\": {\n        \"keyframe\": (name, code) => `@keyframes ${name} {${code}}`,\n        \"keyframe-from\": (code) => `from {${code}}`,\n        \"keyframe-to\": (code) => `to {${code}}`,\n        \"animation-shorthand\": (keyframes) => {\n            var val = \"\";\n            keyframes.forEach((keyframe, i) => {\n                val += keyframe;\n                if (i == (keyframes.length-1)) { val += ';'; }\n                else { val += ', '; }\n            });\n            return `animation: ${val}`;\n        }\n    }\n\n}\n\nfunction addCSSStyle (style) {\n    var styleElem = document.getElementById(window.__STYLE_ID)\n    if(styleElem && styleElem.styleSheet){\n        styleElem.styleSheet.cssText += style;\n    }else{\n        styleElem = document.createElement('style');\n        styleElem.appendChild(document.createTextNode(style));\n        document.getElementsByTagName(\"head\")[0].appendChild(styleElem);\n    }\n}\n\nvar KEYFRAME_INDEX = 0;\n\nfunction manualFocus () {\n    if (window.focusedElement !== undefined){\n        var c = document.getElementById(window.focusedElement);\n        window.focusedElement = undefined;\n        if (c) {\n            console.debug(\"now focusing\");\n            c.focus();\n        }\n    }\n}\n\nfunction setAnimationStyles (elem, props) {\n    if (!props.hasOwnProperty('hasAnimation') || !props.hasAnimation || !props.inlineAnimation) {\n        return \"\";\n    }\n    window.hasAnimationProps = true;\n    try {\n        const animationObjects = JSON.parse(props.inlineAnimation);\n        var keyFrameShorthands = [];\n        var AnimationCSSMarkupWriter = CSSMarkupWriter[\"animations\"];\n\n        if (elem) {\n           elem.addEventListener(\"animationend\", function () {\n            if (props.onAnimationEnd) {\n                elem.style.animation = null;\n                props.onAnimationEnd();\n            }\n            manualFocus();\n            window.hasAnimationProps = false;\n           });\n        }\n\n        animationObjects.forEach(function (animationObject) {\n            /* Add keyframe in css */\n            const keyframeName = \"keyframe_\" + props.id + \"_\" + KEYFRAME_INDEX;\n            KEYFRAME_INDEX += 1;\n            var keyFrameFromMarkup = keyFrameToMarkup = \"\";\n            for (var [key, value] of Object.entries(animationObject)) {\n                keyFrameFromMarkup += InlineAnimationMapper.map(\"from\")(key, value);\n                keyFrameToMarkup += InlineAnimationMapper.map(\"to\")(key, value);\n            }\n            var keyFrameCSS = AnimationCSSMarkupWriter[\"keyframe\"](keyframeName, \n                                AnimationCSSMarkupWriter[\"keyframe-from\"](keyFrameFromMarkup) + \n                                AnimationCSSMarkupWriter[\"keyframe-to\"](keyFrameToMarkup)\n                            );\n            \n            addCSSStyle(keyFrameCSS);\n            window.__RENDERED_KEYFRAMES.push(keyframeName);\n        \n            /* Add animation shorthand prop of keyframe in element*/\n            var keyFrameAnimShorthand = `${keyframeName} `;\n            InlineAnimationMapper.MAPPINGS[\"animation-shorthand-seq\"].forEach(function (key) {\n                keyFrameAnimShorthand += (InlineAnimationMapper.map(\"animation-props\")(key, animationObject[key]) + \" \");\n            });\n            keyFrameShorthands.push(keyFrameAnimShorthand);\n        });\n        return AnimationCSSMarkupWriter[\"animation-shorthand\"](keyFrameShorthands);\n    } catch {\n        return \"\";\n    }\n}\n\nfunction addHoverProps (elem, view) {\n    if (!view.props.hasOwnProperty(\"onHover\")) return \"\";\n    try {\n        var id = \"\"+view.props.id;\n        var hoverProps = JSON.parse(view.props.onHover);\n        var elem_style = mapAttributes.mapPropToStyle(elem, hoverProps, view.type);\n        if (hoverProps.hasOwnProperty('width') && !isNaN(hoverProps.width)) {\n            elem_style += \"width: \" + hoverProps.width + \"px;\"; \n        }\n        if (hoverProps.hasOwnProperty('height') && !isNaN(hoverProps.height)) {\n            elem_style += \"height: \" + hoverProps.height + \"px;\"; \n        }\n        elem_style = elem_style.replaceAll(\";\", \" !important;\"); // add important to make hover props precendence over inline styles\n        if (hoverProps.hoverPath) {\n            addCSSStyle(hoverProps.hoverPath + \":hover #\\\\3\" + id[0] + \" \" + id.substring(1) + \" { \" + elem_style + \" }\");    \n        } else {\n            addCSSStyle(\"#\\\\3\" + id[0] + \" \" + id.substring(1) + \":hover { \" + elem_style + \" }\");    \n        }\n    } catch {\n        return;\n    }\n}\n// debugger\nfunction setComputedStyles(elem, props) {\n    let computed_styles = \"\";\n    /* Computed Styles */\n    // LinearLayout Styles\n    if (props.hasOwnProperty('activeDimen') && props.hasOwnProperty('activeWeight')) {\n        let activeDimen = props.activeDimen;\n        let weight = props.activeWeight;\n\n        if (weight > 0) {\n            computed_styles += \"flex:\" + weight + \";\";\n            computed_styles += \"flex-basis:auto;\";\n            //elem.style.flex = weight;\n\n            if (activeDimen == 'w') {\n                //elem.style.width = 'auto';\n            } else {\n                // computed_styles += \"height:auto;\";\n               // elem.style.height = 'auto';\n            }\n        } else {\n            computed_styles += \"flex:none;\";\n            //elem.style.flex = 'none';\n        }\n    }\n    else {\n        computed_styles += \"flex:none;\";\n    //        elem.style.flex = 'none';\n    }\n\n    // RelativeLayout Styles\n    if (props.hasOwnProperty('absolute') && props.absolute) {\n        if(props.hasOwnProperty(\"position\")){\n            computed_styles += \"position:\"+ props.hasOwnProperty(\"position\") +\";\";\n        } else {\n            computed_styles += \"position:absolute;\";\n        }\n        //elem.style.position = 'absolute';\n\n        if (props.hasOwnProperty(\"fromTop\")) {\n            if (isNaN(props.fromTop))\n                computed_styles += \"top: \" + props.fromTop + \";\";\n                // elem.style.top = props.fromTop;\n            else\n                computed_styles += \"top: \" + props.fromTop + \"px;\";\n                // elem.style.top = props.fromTop + 'px';\n        }\n\n        if (props.hasOwnProperty(\"fromBottom\")) {\n            if (isNaN(props.fromBottom))\n                computed_styles += \"bottom: \" + props.fromBottom + \";\";\n                //elem.style.bottom = props.fromBottom;\n            else\n                computed_styles += \"bottom: \" + props.fromBottom + \"px;\";\n                //elem.style.bottom = props.fromBottom + 'px';\n        }\n\n        if (props.hasOwnProperty(\"fromLeft\")) {\n            if (isNaN(props.fromLeft))\n                computed_styles += \"left: \" + props.fromLeft + \";\";\n                // elem.style.left = props.fromLeft;\n            else\n                computed_styles += \"left: \" + props.fromLeft + \"px;\";\n                // elem.style.left = props.fromLeft + 'px';\n        }\n\n        if (props.hasOwnProperty(\"fromRight\")) {\n            if (isNaN(props.fromRight))\n                computed_styles += \"right: \" + props.fromRight + \";\";\n                // elem.style.right = props.fromRight;\n            else\n                computed_styles += \"right: \" + props.fromRight + \"px;\";\n            // elem.style.right = props.fromRight + 'px';\n        }\n    }\n    /* Computed Styles End */\n    return computed_styles;\n}\n\n// what does this do?\nfunction separatorInputKeyDownHandlerNew(ev){\n    ev.stopPropagation();\n    try {\n        var inputId = ev.target.id;\n        var inputType = ev.inputType;\n        var input = document.getElementById(inputId);\n        var oldValidValue = \"\";\n        if(input.oldValidValue){\n            oldValidValue = input.oldValidValue;\n        }\n        if(input.value.length===0){\n            input.oldValidValue = input.value;\n            return;\n        }\n        var dataPattern = input.getAttribute(\"data-pattern\");\n        if (dataPattern){\n          var data = dataPattern.split(',');\n          var length = parseInt(data.pop());\n          var regexPattern = new RegExp(data.join(''));\n          var selectionStart = input.selectionStart;\n          var selectionEnd = input.selectionEnd;\n          var separator = input.getAttribute(\"separator\");\n          var separatorRepeat = parseInt(input.getAttribute(\"separatorRepeat\"));\n          var value = input.value.replace(/[^a-zA-Z0-9@.-]/g, \"\");\n          //If existing value itself greater than equal to max length\n          if (length) {\n            input.setAttribute(\"maxlength\", length);\n          }\n          // If code doesn't matches regex pattern\n          if (!regexPattern.test(value)) {\n            input.value = oldValidValue;\n            input.selectionStart = selectionStart- (selectionEnd-selectionStart)-1;\n            input.selectionEnd = selectionEnd- (selectionEnd - selectionStart)-1;\n            return;\n          }\n          //Insert separator\n          if(separator && separatorRepeat){\n            ev.preventDefault();\n            var formattedString = \"\";\n            for(var i =0;i<value.length;i++){\n              var element = value[i];\n              formattedString += element;\n              var factor = 0;\n              if (formattedString.length && formattedString.replace(/[^a-zA-Z0-9@.-]/g, \"\").length % (separatorRepeat + factor) == 0) {\n                  formattedString += separator;\n              }\n            }\n            if (formattedString[length] == separator) {\n              formattedString = formattedString.substring(0, formattedString.length - 1);\n            }\n            input.value = formattedString;\n            if(inputType == \"deleteContentBackward\"){\n              let cursorPosition = selectionStart;\n              if ((cursorPosition % (separatorRepeat + 1) ) === 0) {\n                  if(input.oldValidValue.length < formattedString.length){\n                      cursorPosition += 1\n                  } else {\n                      cursorPosition -= 1\n                  }\n              }\n              if(cursorPosition<0){\n                  cursorPosition = 0;\n              }\n              input.oldValidValue = formattedString;\n              input.focus();\n              input.selectionStart = cursorPosition;\n              input.selectionEnd = cursorPosition;\n            }\n          }\n          input.oldValidValue = input.value;\n        }\n    } catch(err){\n        console.error(err);\n    }\n}\n// what does this do?\nfunction separatorInputKeyDownHandler(ev){\n    ev.stopPropagation();\n    try{\n        var inputId = ev.target.id;\n        var input = document.getElementById(inputId)\n        var oldValidValue = \"\";\n        if(input.oldValidValue){\n            oldValidValue = input.oldValidValue;\n        }\n        if(input.value.length===0){\n            input.oldValidValue = input.value;\n            return;\n        }\n        var dataPattern = input.getAttribute(\"data-pattern\");\n        if (dataPattern) {\n            var data = dataPattern.split(',');\n            var length = parseInt(data.pop());\n            var regexString = data.join('');\n            var selectionStart = input.selectionStart;\n            var selectionEnd = input.selectionEnd;\n            const newValue = input.value;\n            if (length) {\n                if (oldValidValue.length < input.value.length && oldValidValue.length + 1 > length) {\n                    input.value = oldValidValue;\n                    ev.preventDefault();\n                    input.selectionStart = selectionStart- (selectionEnd-selectionStart)-1;\n                    input.selectionEnd = selectionEnd- (selectionEnd - selectionStart)-1;\n                    return;\n                }\n            }\n            var finalData = newValue.replace(/[^a-zA-Z0-9@.-]/g, \"\");\n            if (regexString) {\n                var regexPattern = new RegExp(regexString);\n                if (!regexPattern.test(finalData)) {\n                    ev.preventDefault();\n                    input.value = oldValidValue;\n                    input.selectionStart = selectionStart- (selectionEnd-selectionStart)-1;\n                    input.selectionEnd = selectionEnd- (selectionEnd - selectionStart)-1;\n                    return;\n                }\n            }\n            var separator = input.getAttribute(\"separator\");\n            var separatorRepeat = parseInt(input.getAttribute(\"separatorRepeat\"));\n            if (separator && separatorRepeat) {\n                ev.preventDefault();\n                var formattedString = \"\";\n                for (let index = 0; index < finalData.length; index++) {\n                    var element = finalData[index];\n                    formattedString += element;\n                    var factor = 0;\n                    if (formattedString.length && formattedString.replace(/[^a-zA-Z0-9@.-]/g, \"\").length % (separatorRepeat + factor) == 0) {\n                        formattedString += separator;\n                    }\n                }\n                if (formattedString[formattedString.length - 1] == separator) {\n                    formattedString = formattedString.substring(0, formattedString.length - 1);\n                }\n                input.value = formattedString;\n                let cursorPosition = selectionStart;\n                if ((cursorPosition % (separatorRepeat + 1) ) === 0) {\n                    if(input.oldValidValue.length < formattedString.length){\n                        cursorPosition += 1\n                    } else {\n                        cursorPosition -= 1\n                    }\n                }\n                if(cursorPosition<0){\n                    cursorPosition = 0;\n                }\n                input.oldValidValue = formattedString;\n                input.focus();\n                input.selectionStart = cursorPosition;\n                input.selectionEnd = cursorPosition;\n                // console.log(\"formattedString----\", formattedString);\n            } else {\n                input.oldValidValue = finalData;\n            }\n        }\n    } catch(err){\n        console.error(err);\n    }\n}\n\nfunction setAttributes(view, elem, firstRender) {\n    var type = view.type\n    var props = view.props\n    let elem_style = \"\";\n    elem.setAttribute(\"id\",props.id);\n    // elem_style += \"id:\"+props.id+\";\";\n\n    if (type == \"relativeLayout\") {\n        elem_style+=\"overflow:hidden;\"\n    }\n    if (elem.classList && elem.classList.length > 0)\n        elem.classList.add(type)\n    else\n        elem.className = type\n\n    elem_style += mapAttributes.addTransitionValue(props);\n\n\n    // elem.style.transition = props.transition;\n    /* New Style */\n    /* Render from global styles */\n\n    elem_style+=mapAttributes.addSize(view);\n\n    // The order here matters, as for elements with same precedence, the element on the right side of the array will be considered\n    elem_style+=mapAttributes.addBorder(props);\n    elem_style+=mapAttributes.addVisibility(elem, props, type);\n    elem_style += mapAttributes.addExpandability(elem, props, type);\n\n    /* Render global styles end */\n\n    elem_style+=mapAttributes.addOverFlow(props);\n    elem_style+=mapAttributes.addLayout(elem, type, props);\n\n    mapAttributes.addImage(type,props,elem);\n    mapAttributes.addTextProperties(props, elem, type);\n    mapAttributes.addClassNameProperties(props,elem);\n\n    elem_style += mapAttributes.mapPropToStyle(elem,props,type);\n    elem = mapAttributes.setElemAttributes(elem,props);\n    elem_style+=mapAttributes.addFunctions(props, elem);\n    elem_style+=mapAttributes.addAnimationAttributes(props);\n    mapAttributes.addPseudoClasses(elem, props);\n\n    if (firstRender) { // Events are added when the element is created for the first time\n        initiateElement(type, props, elem)\n    }\n\n    return elem_style;\n}\n\n\n// mutation observers are slow, what is this and why can't global events solve this problem?\n/* Observer for afterRender */\nlet observer = (elem) => {\n    let id = elem.id;\n    if (!id || __OBSERVERS[id])\n        return;\n\n    __OBSERVERS[id] = new MutationObserver(function (item, observer) {\n        if (item && item[0].target) {\n            let target = item[0].target;\n            let id = target.id;\n            if (id) {\n                let view = __VIEWS[id];\n\n                if (view && view.props.hasOwnProperty('afterRender') && typeof view.props.afterRender == \"function\") {\n                    view.props.afterRender()\n                }\n            }\n        }\n\n        observer.disconnect();\n    });\n\n    (__OBSERVERS[id]).observe(elem, {\n        attributes: true\n    });\n}\n\n/* Do some actions after rendered */ // just use global events no?\nlet cb = (elem, view) => {\n    if (view.props.feedback && typeof view.props.feedback == \"function\") {\n        view.props.feedback()\n    }\n}\n\nwindow.inflateTimings = {\n    lastUpdatedAt: null\n}\n\n// Creates the DOM element if it has not been already inflated\n// View: Object similar to ReactDOM struct, {type, props, children}\n// parentElement: DOM Object\nlet setToolTip = function(view, elem) {\n    if (\n        view.type != 'linearLayout' &&\n        view.type != 'relativeLayout' &&\n        view.type != 'horizontalScrollView' &&\n        view.type != 'scrollView' &&\n        view.type != 'listView'\n    ) {\n        if (view.props.hasOwnProperty('tooltipText')) {\n            let tooltipText = view.props.tooltipText.trim()\n\n            if (tooltipText) {\n                let tooltipGravity = view.props.tooltipGravity ? view.props.tooltipGravity : 'top'\n\n                elem.classList.add('hasTooltip')\n\n                let tooltipElem = document.createElement('div')\n                tooltipElem.innerHTML = '<pre>' + tooltipText + '</pre>'\n                tooltipElem.classList.add('tooltipText')\n                tooltipElem.classList.add('tooltipGravity_' + tooltipGravity)\n\n                let size = 15\n                if (view.props.hasOwnProperty('tooltipTextSize') && !isNaN(view.props.tooltipTextSize)) {\n                    size = view.props.tooltipTextSize\n                }\n\n                tooltipElem.style.fontSize = size + 'px'\n\n                elem.appendChild(tooltipElem)\n            }\n        }\n    }\n}\nlet createNewElement = function(view, parentElement, siblingView){\n    let elem = null;\n    let subElem = null;\n    let element_style =\"\";\n    //console.log(view.type);\n    switch(view.type) {\n        case \"webView\":\n            elem = document.createElement('iframe')\n\n            elem.style.border = 'none';\n            break;\n        case \"imageView\":\n            elem = document.createElement(\"img\");\n            element_style = \"\";\n            element_style += \"margin:0;\";\n            element_style += \"padding:0;\";\n            element_style += \"display:block;\";\n            element_style += \"max-width:100%;\";\n            element_style += \"max-height:100%;\";\n            element_style += \"box-sizing:border-box;\";\n            // elem[\"style\"][\"margin\"] = \"0\";\n            // elem[\"style\"][\"padding\"] = \"0\";\n            // elem[\"style\"][\"display\"] = \"block\";\n            // elem[\"style\"][\"max-width\"] = \"100%\";\n            // elem[\"style\"][\"max-height\"] = \"100%\";\n            // elem[\"style\"][\"box-sizing\"] = \"border-box\";\n            elem.setAttribute(\"alt\", \"\");\n            break;\n        case \"checkBox\":\n            elem = document.createElement(\"input\");\n            elem.setAttribute('type', 'checkbox');\n            if (view.props.hasOwnProperty('checked') && view.props.checked == true) {\n                elem.checked = true\n            } else {\n                elem.checked = false\n            }\n\n            if (view.props.hasOwnProperty('label') && view.props.label != '' && parentElement) {\n                subElem = document.createElement('label');\n                subElem.setAttribute('for', view.props.id);\n                subElem.innerHTML = view.props.label;\n                subElem.style.padding = \"0 0 0 5px\";\n                subElem.classList.add('input-label');\n\n                delete view.props.label;\n            }\n            break;\n        case \"editText\":\n            element_style = \"\";\n            if (view.props.hasOwnProperty('inputType') && view.props.inputType == 'multiText') {\n                elem = document.createElement(\"textarea\");\n                element_style += \"border:none;\";\n                element_style += \"resize:none;\";\n                element_style += \"outline:none;\";\n                //console.log('creating a component')\n\n                // elem.style.border = 'none';\n                // elem.style.resize = 'none';\n                // elem.style.outline = 'none';\n            } else {\n                elem = document.createElement(\"input\");\n            }\n\n            elem.value = view.props.text || \"\";\n\n            if (view.props.letterSpacing) {\n                element_style += \"letter-spacing : \" + view.props.letterSpacing + \";\";\n                // elem[\"style\"][\"letter-spacing\"] = view.props.letterSpacing;\n            }\n\n            if (view.props.label) {\n\n                // var inputViewStyle = \"\";\n                var inputView = elem;\n\n                element_style += \"width:100%;\";\n                // inputView.style.width = '100%';\n                element_style += setAttributes(view, inputView, true);\n\n                inputView.setAttribute(\"id\", view.props.id + \"_input\");\n\n\n                var l = document.createElement(\"label\");\n\n                var label_style = \"\";\n                l.setAttribute(\"for\", view.props.id + \"_input\");\n\n                l.innerHTML = view.props.label;\n                l.classList.add('input-label');\n\n                label_style += \"position:absolute;\";\n                label_style += \"color:#999;\";\n                label_style += \"background-color:#fff;\";\n                label_style += \"padding: 0 5px;\";\n                label_style += \"z-index: 10;\";\n                label_style += \"transition: transform 150ms ease-out, font-size 150ms ease-out;\";\n\n                // l[\"style\"][\"position\"] = \"absolute\";\n                // l[\"style\"][\"color\"] = \"#999\";\n                // l[\"style\"][\"background-color\"] = \"#fff\";\n                // l[\"style\"][\"padding\"] = \"0 5px\";\n                // l[\"style\"][\"z-index\"] = 10;\n                // l[\"style\"][\"transition\"] = \"transform 150ms ease-out, font-size 150ms ease-out\";\n\n                if (view.props.letterSpacing) {\n                    label_style += \"letter-spacing: \" + view.props.letterSpacing + \";\";\n                    // l[\"style\"][\"letter-spacing\"] = view.props.letterSpacing;\n                }\n\n                l.setAttribute(\"style\",label_style);\n                inputView.setAttribute(\"style\",element_style);\n\n                elem = document.createElement(\"div\");\n                element_style = \"\";\n                elem.classList.add('input-group');\n                elem.appendChild(l);\n                elem.appendChild(inputView);\n\n                view.props.style.position = \"relative\";\n                view.props.style.overflow\n                element_style += setAttributes(view, elem, true);\n                delete view.props.label;\n            } else if (view.props.hint) {\n                elem.placeholder = view.props.hint || \"\";\n            }\n            break;\n        case 'shimmerFrameLayout':\n            // for shimmerFrameLayout tag leaf nodes in the DOM tree so that CSS properties\n            // for animations and styles can be added\n            // every leaf node is tagged with a boolean shouldShimmer property in props\n            if (view.props.isSeen == undefined) {\n                let maxShimmerWidth = tagShimmerElementsForRender(view, view.children, 0) + 10;\n                styleElem = document.createElement('style');\n                styleElem.appendChild(document.createTextNode(\"@keyframes shimmer{0% {background-position: -\" + maxShimmerWidth + \"px 0;} 100% {background-position: \" + maxShimmerWidth + \"px 0;}}\"));\n                document.getElementsByTagName(\"body\")[0].appendChild(styleElem);\n            }\n        // do not add a break here\n        default:\n            elem = document.createElement(view.elName || \"div\"); // create the element here\n            element_style = \"\";\n\n    }\n    setToolTip(view,elem);\n\n\n    addToParentElement(parentElement, siblingView, elem, subElem);\n\n    // appened attributes, nodes & style to the elemenent\n    element_style += setAttributes(view, elem, true);\n\n    /*if(view.props.hasOwnProperty('afterRender') && typeof view.props.afterRender == \"function\"){\n      if(!stopObserver){\n        // We should run observer for the element\n        observer(elem);\n        elem.setAttribute('has_render', true);\n      }\n    }*/\n    return {elem,subElem,element_style};\n}\nlet addToParentElement = function(parentElement, siblingView, elem, subElem) {\n\n    if (parentElement) {\n        let siblingElement = siblingView ? document.getElementById(siblingView.props.id) : null;\n\n        if (siblingElement && siblingElement != undefined) {\n            if (parentElement == siblingElement) { // Prepend\n                if (subElem) {\n                    parentElement.insertBefore(subElem, parentElement.childNodes[0]);\n                }\n                parentElement.insertBefore(elem, parentElement.childNodes[0]);\n            } else { // Insert in specified position\n                let nextSiblingElement = siblingElement.nextSibling;\n\n                parentElement.insertBefore(elem, nextSiblingElement);\n                if (subElem) {\n                    parentElement.insertBefore(subElem, nextSiblingElement);\n                }\n            }\n        } else {\n            parentElement.appendChild(elem);\n            if (subElem) {\n                parentElement.appendChild(subElem);\n            }\n        }\n    }\n}\nlet setLayout = function(view, elem) {\n    switch(view.type) {\n    case 'horizontalScrollView':\n        if (view.props.hasOwnProperty('scrollLeft') && !isNaN(view.props.scrollLeft))\n            elem.scrollLeft = view.props.scrollLeft;\n        break;\n    case 'listView':\n        if (view.props.hasOwnProperty('scrollTop') && !isNaN(view.props.scrollTop))\n            elem.scrollTop = view.props.scrollTop;\n        break;\n    case 'scrollView':\n        if (view.props.hasOwnProperty('scrollLeft') && !isNaN(view.props.scrollLeft))\n            elem.scrollLeft = view.props.scrollLeft;\n\n        if (view.props.hasOwnProperty('scrollTop') && !isNaN(view.props.scrollTop))\n            elem.scrollTop = view.props.scrollTop;\n    }\n}\nlet getElementByView = function(view, parentElement, siblingView, stopChild, renderStyle) {\n    if(!view.props.id){\n        view.props.id = window.JOS_PRESTO_ID++;\n        //window.__VIEWS[view.props.id] =  view;\n    }\n    let elem = document.getElementById(view.props.id);\n    let subElem = null; //  this is being used only for lablel property\n    let newInflated = false;\n    let element_style =\"\";\n\n    if (view.props.x == \"NaN\" || view.props.y == \"NaN\") {\n        view = handleWrapContent(view, parentElement)\n    }\n\n    if (!elem) {\n        let element = createNewElement(view, parentElement, siblingView);\n        newInflated = true;\n        elem = element.elem;\n        subElem = element.subElem;\n        element_style+=element.element_style;\n        if(view.props.hasOwnProperty(\"focus\") && view.props.focus)\n            window.focusedElement = view.props.id;\n\n    } else if (renderStyle) {\n        element_style += setAttributes(view, elem, true);\n    }\n    setLayout(elem,view);\n    if(!stopChild) computeChildDimens(view);\n    element_style += setComputedStyles(elem, view.props);\n    element_style += setAnimationStyles(elem, view.props);\n    addHoverProps(elem, view);\n    elem.setAttribute(\"style\",element_style); // finally attach all the styles to the element\n    return {elem,newInflated};\n}\nlet setAfterRenderFunctions = function (newInflated, view, elem, stopObserver) {\n\n    if (newInflated) {\n        if(view.hasOwnProperty)\n        if (view.props.hasOwnProperty('afterRender') && typeof view.props.afterRender == \"function\") { // mutation observers are expensive\n            if (!stopObserver) {\n                // We should run observer for the element\n                observer(elem);\n                elem.setAttribute('has_render', true);\n            }\n        }\n        // if(view.data){\n\n        //     for(let i=0;i<view.children.length;i++){\n        //         let child = document.getElementById(view.children[i].props.id);\n        //         child.addEventListener('onClick',()=>view.onItemClick(i));}\n        // }\n        cb(elem, view);\n    }\n}\n\nfunction isChrome50 () {\n    var a = navigator.userAgent.substring(navigator.userAgent.indexOf('Chrome/') + 7)\n    return parseInt(a.substring(0, a.indexOf(\".\"))) <= 50\n}\n\nlet renderList = (view,elem, computeList)=>{\n    //console.dir(view.props.diffArray)\n        if(view.props.diffArray== \"filter\"){\n            // console.log(\"filtering\")\n            // console.time('filtering')\n            view.children=[];\n            elem.innerHTML = '';\n            for(let i=0;i<view.props.itemDatas.length;i++)\n            {\n                view.children.push(List.getChildItemViewByIndex(view,i));\n\n            }\n            computeChildDimens(view);\n            for(let i=0;i<view.props.itemDatas.length;i++){\n                var chrome50matchList;\n                if(isChrome50()) {\n                    chrome50matchList = {h : [], w: []}\n                }\n                elem.appendChild(inflateView({view:view.children[i], computeList :computeList }))}\n                handleMatchParentChrome50(chrome50matchList)\n                // TODO :: run height enforcer\n            //console.timeEnd('filtering')\n        }\n        //replacing only the diff elements\n        else if(view.props.diffArray){\n            //console.time('patch')\n            for(let i of view.props.diffArray)\n            {\n                //console.log(\"CHANGING VIEW OF \"+i)\n                console.time(\"patchingElement\")\n                let oldView = view.children[i];\n                let oldChild = document.getElementById(oldView.props.id);\n                if(oldChild){\n\n                    let newChildView = List.getChildItemViewByIndex(view,i);\n                    newChildView.onClick = oldView.onClick;\n                    view.children[i] = newChildView\n                    computeChildDimens(view)\n                    var chrome50matchList;\n                    if(isChrome50()) {\n                        chrome50matchList = {h : [], w: []}\n                    }\n                    let newChild = inflateView({view:newChildView, computeList : computeList, chrome50matchList});\n                    handleMatchParentChrome50(chrome50matchList);\n                    // newChild.addEventListener('click',newChildView.props.onClick)\n                    // newChild.style.cursor='pointer'\n                    // console.dir(newChild)\n                    elem.replaceChild(newChild,oldChild);\n\n                }\n                console.timeEnd('patchingElement')\n        }\n        }\n        view.props.diffArray = undefined;\n}\nlet inflateView = function ({view, parentElement, siblingView, stopChild, renderStyle, computeList, chrome50matchList} ={}) {\n    view.state = view.state || {};\n    if(view.props.listData){\n        view.props.itemDatas = JSON.parse(view.props.listData);\n        if(!view.props.data){\n            view.props.data = JSON.parse(view.props.listItem)\n        }\n    }\n    if(typeof chrome50matchList == \"object\") {\n        chrome50matchList.h = chrome50matchList.h || []\n        chrome50matchList.w = chrome50matchList.w || []\n        if(view.props.height == \"match_parent\") {\n            chrome50matchList.h.push(view)\n        }\n        if(view.props.width == \"match_parent\") {\n            chrome50matchList.w.push(view)\n        }\n    }\n\n    let {elem,newInflated} = getElementByView(view, parentElement, siblingView, stopChild, renderStyle);\n    if (view && view.hasOwnProperty(\"props\") && view.props.hasOwnProperty(\"testID\")){\n        elem.setAttribute(\"testID\", view.props.testID);\n    }\n    //patching list\n    if(view.props.listData && renderStyle ){\n        renderList(view, elem, computeList);\n    } else if (!stopChild ) {\n        //firstRender List\n        if (view.props.itemDatas) {\n            List.createListView(view);\n            computeChildDimens(view);\n        }\n       if (view.hasOwnProperty('children') && view.children.length > 0) {\n           preComputeLayoutDimens(view);\n           postComputeLayoutDimens2(view, computeList)\n            for (let i = 0; i < view.children.length; i++) {\n                if (view.children[i]) {\n                    view.children[i].parent = view;\n                    if (i != 0) {\n                        inflateView({view:view.children[i], parentElement:elem, siblingView:view.children[i - 1], stopChild:renderStyle, renderStyle, computeList, chrome50matchList});\n                    } else {\n                        inflateView({view:view.children[i], parentElement:elem, siblingView:view, stopChild:renderStyle, renderStyle, computeList, chrome50matchList});\n                    }\n                }\n            }\n           \n        }\n        view.state = view.state || {};\n        view.state.computedHeight = isNaN(parseInt(view.props.height)) ? view.state.computedHeight || 0 : parseInt(view.props.height)\n        view.state.computedWidth = isNaN(parseInt(view.props.width)) ? view.state.computedWidth || 0 : parseInt(view.props.width)\n    }\n    else {\n        postComputeLayoutDimens2(view, computeList);\n    }\n    setAfterRenderFunctions(newInflated, view, elem);\n\n    return elem;\n};\n\nlet preComputeLayoutDimens = (view) => {\n    view.state = view.state || {}\n    if (view.type == \"relativeLayout\") {\n        view.state.treatMatchParentAsWrapHeight = view.state.practicalHeight == \"wrap_content\";\n        view.state.treatMatchParentAsWrapWidth = view.state.practicalWidth == \"wrap_content\";\n        // if(view.state.treatMatchParentAsWrapHeight && view.state.treatMatchParentAsWrapWidth)\n        for (var i = 0; i < view.children.length; ++i) {\n            if (view.children[i].props.height != \"match_parent\")\n                view.state.treatMatchParentAsWrapHeight = false;\n            if (view.children[i].props.width != \"match_parent\")\n                view.state.treatMatchParentAsWrapWidth = false;\n            if (!view.state.treatMatchParentAsWrapWidth && !view.state.treatMatchParentAsWrapHeight)\n                break\n        }\n    }\n}\n\nlet postComputeLayoutDimens2 = (view,postComputeList) =>{\n    if(postComputeList && view.type == \"relativeLayout\" && (view.state.practicalWidth == \"wrap_content\"  || view.state.practicalHeight == \"wrap_content\" ) && view.children.length > 0) {\n        postComputeList.push(view.props.id);\n        window.__VIEWS[view.props.id] = window.__VIEWS[view.props.id] || view\n    }\n}\n\nlet getValueFromPixel = (pixel) =>{\n    return parseInt(pixel.substring(0,pixel.length-1));\n}\nlet postCompute = (list) =>{\n    while(list.length>0){\n        let id = list.pop();\n \n        let elem = document.getElementById(id);\n        if(!elem)\n            continue;\n        let childNodes = elem.childNodes;\n        let maxHeight = 0;\n        let maxWidth = 0;\n        for (var i = 0; i < childNodes.length; ++i) {\n                let style = childNodes[i].currentStyle || window.getComputedStyle(childNodes[i]);\n                maxHeight = maxHeight > childNodes[i].offsetHeight ? maxHeight : (childNodes[i].offsetHeight + getValueFromPixel(style.marginTop) + getValueFromPixel(style.marginBottom));\n                maxWidth = maxWidth > childNodes[i].offsetWidth ? maxWidth : childNodes[i].offsetWidth;\n        }\n        let view = window.__VIEWS[id];\n        if(view && view.state && view.state.practicalHeight == \"wrap_content\" ) {\n            elem.style.height = maxHeight + \"px\"\n        }\n        if(view && view.state && view.state.practicalWidth == \"wrap_content\") {\n            elem.style.width = maxWidth + \"px\"\n        }\n        \n    }\n}\nlet postComputeLayoutDimens = (view, elem) => {\n    if(view && view.type == \"relativeLayout\" && (view.state && (view.state.practicalWidth == \"wrap_content\"  || view.state.practicalHeight == \"wrap_content\" )) && view.children.length > 0) {\n        var largestHeight = view.children[0].state.computedHeight;\n        var largestWidth = view.children[0].state.computedWidth;\n        for (var i = 1; i < view.children.length; ++i) {\n            if (view.state && view.state.practicalHeight == \"wrap_content\") {\n                largestHeight = largestHeight > view.children[i].state.computedHeight ? largestHeight : view.children[i].state.computedHeight;\n            }\n            if (view.state && view.state.practicalWidth == \"wrap_content\") {\n                largestWidth = largestWidth > view.children[i].state.computedWidth ? largestWidth : view.children[i].state.computedWidth\n            }\n        }\n        if(view.state && view.state.practicalHeight == \"wrap_content\" ) {\n            elem.style.height = largestHeight + \"px\"\n            view.state.computedHeight = largestHeight\n        }\n        if(view.state && view.state.practicalWidth == \"wrap_content\") {\n            elem.style.width = largestWidth + \"px\"\n            view.state.computedWidth = largestWidth\n        }\n    }\n}\n\n// what?\nlet handleWrapContent = (view, parentElement) => {\n    let newDimen = 0;\n    for (var i = 0; i < parentElement.childNodes.length; i++) {\n        newDimen += parentElement.childNodes[i].offsetWidth;\n    }\n    view.props.x = newDimen;\n    return view;\n}\n\nfunction handleMatchParentChrome50 (chrome50matchList) {\n    // Chrome 50 is not supporting height/ width 100% inside flex : 1 layouts.\n    // Below code derives height from parent in cases where it failed to compute\n    if(!chrome50matchList) {\n        return;\n    }\n    // Commented code is used for debugging purposes, to find misfires\n    // window.modifiedIds = window.modifiedIds || []\n    for(var x = chrome50matchList.h, i =0 ; x && i < x.length ; ++i) {\n        if(x[i] && x[i].props && x[i].props.id){\n            var elm = document.getElementById(x[i].props.id)\n            if ( elm && elm.parentElement \n                && (elm.parentElement.parentElement \n                    // Code to handle cases where parent is height 0 weight 1\n                    // and parent of parent is orientation vertical\n                    && elm.parentElement.parentElement.style\n                    && elm.parentElement.parentElement.style.flexDirection == \"column\" \n                    && elm.parentElement.style['flex-grow'] == \"1\"\n                    && elm.parentElement.style['flex-shrink'] == \"1\"\n                    // Do not apply if offset height is 0; \n                    // this will happen for relative layouts; \n                    // 100% which is already present will give correct result\n                    && elm.parentElement.offsetHeight\n                    ) \n                ) {\n                elm.style.height = elm.parentElement.offsetHeight + \"px\"\n                // window.modifiedIds.push(x[i].props.id)\n            }\n        }\n    }\n    for(var x = chrome50matchList.w, i =0 ; x && i < x.length ; ++i) {\n        if(x[i] && x[i].props && x[i].props.id){\n            var elm = document.getElementById(x[i].props.id)\n            if ( elm && elm.parentElement \n                && (elm.parentElement.parentElement\n                    && elm.parentElement.parentElement.style\n                    // Code to handle cases where parent is width 0 weight 1\n                    // and parent of parent is orientation horizontal\n                    && elm.parentElement.parentElement.style.flexDirection == \"row\" \n                    && elm.parentElement.style['flex-grow'] == \"1\"\n                    && elm.parentElement.style['flex-shrink'] == \"1\"\n                    // Do not apply if offset width is 0; \n                    // this will happen for relative layouts; \n                    // 100% which is already present will give correct result\n                    && elm.parentElement.offsetWidth\n                    )\n                ) {\n                elm.style.width = elm.parentElement.offsetWidth + \"px\"\n                // window.modifiedIds.push(x[i].props.id)\n            }\n        }\n    }\n}\n\nlet tagShimmerElementsForRender = function(node, children, width) {\n    // console.log(\"shimmer children\", node, children);\n    if (children.length == 0) {\n        node.props.shouldShimmer = true;\n        return node.props.width;\n    }\n    for(let i = 0; i < children.length; i++) {\n        // console.log(\"tagging children\", children[i], children[i].children);\n        width = Math.max(tagShimmerElementsForRender(children[i], children[i].children, width), width);\n    }\n    node.props.isSeen = true;\n    return width;\n}\n\nmodule.exports = {\n    inflateView,\n    computeChildDimens,\n    List,\n    postComputeLayoutDimens,\n    preComputeLayoutDimens,\n    postCompute,\n    isChrome50,\n    handleMatchParentChrome50\n};\n","function parseColors(color) {\n    if (color.length < 8)\n      return color;\n  \n    if (color.indexOf(\"rgba\") !== -1 || color.indexOf(\"rgb\") !== -1)\n      return color;\n  \n    var alpha = parseInt(color.substring(1, 3), 16);\n    alpha = (alpha / 255).toFixed(2);\n  \n    var hexColor = color.substring(3, 9);\n    var rgbaColor = \"rgba(\" + convertHexToRgb(hexColor) + \",\" + alpha + \")\";\n  \n    return rgbaColor;\n}\n\nfunction rWS(value) {\n  return value.replace(/ /g, '');\n}\n\nfunction cS(value) {\n  return value ? value + '' : \"\";\n}\n\nfunction convertColorToRgba(color) {\n  color = rWS(cS(color));\n\n  var values;\n  var alpha = \"1.00\";\n\n  if (color.length >= 8) {\n    alpha = parseInt(color.substring(1, 3), 16);\n    alpha = (alpha / 255).toFixed(2);\n    color = color.substring(3, 9);\n  } else {\n    color = color.substring(1, color.length);\n  }\n\n  color = convertHexToRgb(rWS(color));\n  values = color.split(',');\n\n  return {\n    r: parseInt(rWS(values[0])),\n    g: parseInt(rWS(values[1])),\n    b: parseInt(rWS(values[2])),\n    a: parseFloat(alpha)\n  };\n}\n\nfunction getValueFromPixel (pixel) { return parseInt(pixel.substring(0,pixel.length-1)) };\n\nfunction calculateHeight (elem) {\n  if(!elem) return 0;\n  let childNodes = elem.childNodes;\n  let maxHeight = 0;\n  for (var i = 0; i < childNodes.length; ++i) {\n          let style = childNodes[i].currentStyle || window.getComputedStyle(childNodes[i]);\n          maxHeight = maxHeight > childNodes[i].offsetHeight ? maxHeight : (childNodes[i].offsetHeight + getValueFromPixel(style.marginTop) + getValueFromPixel(style.marginBottom));\n  }\n  return maxHeight;\n}\n\nfunction convertHexToRgb(hex) {\n  var r = parseInt(hex.substring(0, 2), 16);\n  var g = parseInt(hex.substring(2, 4), 16);\n  var b = parseInt(hex.substring(4, 6), 16);\n\n  return r + \",\" + g + \",\" + b;\n}\n\nconst state = {\n  fragments : {},\n  fragmentTypes : {},\n  mainRootView : {\n    type: \"relativeLayout\",\n    props: {\n        \"h\": document.getElementById(\"content\").clientHeight,\n        \"w\": document.getElementById(\"content\").clientWidth\n    }\n  }\n} \n\nfunction addToContainerList(id , namespace){\n    let container = getContainer(namespace, true);\n    if(container)\n    {\n      let key = function () {\n            function s4() {\n                return Math.floor((1 + Math.random()) * 0x10000)\n                    .toString(16)\n                    .substring(1);\n            }\n            return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n                s4() + '-' + s4() + s4() + s4();\n        }();\n      state.fragments[key] = document.getElementById(id);\n      state.fragmentTypes[key] = window.__VIEWS[id];\n      return key;\n  }\n  return \"__failed\"\n}\n\nfunction getContainer( namespace ){\n    if(namespace){\n      let container = state.fragments[namespace];\n      if(container)\n        return container;\n  }\n  return document.getElementById(\"content\");\n}\n\nfunction getParentView(namespace, view) {\n  if (window.__VIEWS && !window.__VIEWS.content) {\n    window.__VIEWS.content = state.mainRootView;\n  }\n  if (namespace) {\n    let containerType = state.fragmentTypes[namespace];\n    if (containerType) {\n      containerType.children = containerType.children || []\n      containerType.children.push(view);\n      containerType.oldView = true;\n      return containerType;\n    }\n  }\n\n  if (state.mainRootView.children) {\n    state.mainRootView.oldView = true;\n  }\n  state.mainRootView.children = state.mainRootView.children || [];\n  state.mainRootView.children.push(view);\n  return state.mainRootView;\n}\n\n// function modifyTranslation(config){\n//   var x = config.x || \"0\";\n//   var y = config.y || \"0\";\n//   var animationArray = JSON.parse(config.inlineAnimation);\n//   var animationArray = animationArray.map(function(a){\n//     if(a.hasOwnProperty(\"fromX\")){\n//       a.fromX = parseInt(a.fromX) + parseInt(x) + '';\n//       if(!a.hasOwnProperty(\"toX\")){\n//         a.toX = 0 + parseInt(x) + '';\n//       }\n//     }\n//     if(a.hasOwnProperty(\"toX\")){\n//       a.toX = parseInt(a.toX) + parseInt(x) + '';\n//     }\n//     if(a.hasOwnProperty(\"fromY\")){\n//       a.fromY = parseInt(a.fromY) + parseInt(y) + '';\n//       if(!a.hasOwnProperty(\"toY\")){\n//         a.toY = 0 + parseInt(y) + '';\n//       }\n//     }\n//     if(a.hasOwnProperty(\"toY\")){\n//       a.toY = parseInt(a.toY) + parseInt(y) + '';\n//     }\n//     return a;\n//   })\n//   return (animationArray);\n// }\n\nmodule.exports = {\n    parseColors,\n    rWS, \n    cS, \n    convertColorToRgba,\n    addToContainerList,\n    getParentView,\n    getContainer,\n    calculateHeight\n}\n","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nconst BaseView = require('./baseView');\nconst VIEW = new BaseView(null, null, {});\n\n// Object of types of animations available on screen change\nconst AnimationTypes = {\n  SLIDE: {\n    name: \"slide\",\n    handler: slideHandler\n  },\n  SLIDE_VERTICAL: {\n    name: \"slide_down\",\n    handler: slideDownHandler\n  },\n  SIMPLE: {\n    name: \"simple\",\n    handler: simpleHandler\n  }\n}\n\nconst DEFAULT_ANIMATION = AnimationTypes.SLIDE;\n\nfunction simpleHandler(fromId, toId, direction) {\n  let cmd = VIEW.cmd({\n    id: toId,\n    translationZ: ++window.ZIndex\n  });\n  return cmd;\n}\n\nfunction slideDownHandler(fromId, toId, direction) {\n  let container = VIEW.cmdContainer();\n  let cmd;\n\n  if (direction == 1) {\n    cmd = VIEW.cmd({\n      id: toId,\n      translationY: window.__HEIGHT,\n      a_duration: '300',\n      a_translationY: '0',\n      translationZ: ++window.ZIndex,\n    });\n    container = container.addCmd(cmd);\n\n    cmd = VIEW.cmd({\n      id: fromId,\n      a_translationY: -0.2 * window.__HEIGHT,\n      a_duration: '300'\n    });\n    container = container.addCmd(cmd);\n\n    return container;\n  }\n\n  window.ZIndex++;\n  cmd = VIEW.cmd({\n    id: fromId,\n    translationY: 0,\n    a_translationY: window.__HEIGHT,\n    a_duration: '300',\n    translationZ: ++window.ZIndex\n  });\n  container = container.addCmd(cmd);\n\n  cmd = VIEW.cmd({\n    id: toId,\n    translationZ: window.ZIndex-1,\n    a_translationY: '0',\n    translationY: -0.2 * window.__HEIGHT,\n    a_duration: '300',\n  });\n  container = container.addCmd(cmd);\n\n  return container;\n}\n\nfunction slideHandler(fromId, toId, direction) {\n  let container = VIEW.cmdContainer();\n  let cmd;\n  if (direction == 1) {\n    cmd = VIEW.cmd({\n      id: toId,\n      visibility: 'visible',\n      translationX: window.__WIDTH,\n      a_duration: '300',\n      a_translationX: '0',\n      translationZ: ++window.ZIndex,\n    });\n    container = container.addCmd(cmd);\n    cmd = VIEW.cmd({\n      id: fromId,\n      translationX: '0',\n      visibility: 'visible',\n      a_duration: '300',\n      a_translationX: (-.2 * window.__WIDTH) + '',\n    });\n    container = container.addCmd(cmd);\n  }\n\n  if (direction == -1) {\n    window.ZIndex++;\n    cmd = VIEW.cmd({\n      id: fromId,\n      translationX: '0',\n      a_duration: '300',\n      a_translationX: window.__WIDTH,\n      translationZ: ++window.ZIndex,\n    });\n    container = container.addCmd(cmd);\n\n    cmd = VIEW.cmd({\n      id: toId,\n      visibility: 'visible',\n      translationX: (-.2 * window.__WIDTH) + '',\n      a_duration: '300',\n      a_translationX: '0',\n      translationZ: window.ZIndex - 1,\n    });\n    container = container.addCmd(cmd);\n  }\n\n  return container;\n}\n\n/*\n  Generic Handler for Animation\n  Arguments:\n    fromViewId: Number - Id of the view currently visible on the screen\n    toViewID: Number - Id of the view which has to be brought on the screen\n    ID: Number - Id of the view to be animated\n    animator: Obj - {name:string, handler:function}\n    direction: Number - Represents of the direction of the screen\n      -1 : Go back to the already rendered screen (right to left)\n       1 : Go to the new screen (left to right)\n*/\nfunction getAnimation(fromViewID, toViewId, direction, animator) {\n  if (!animator)\n    animator = DEFAULT_ANIMATION;\n\n  if (typeof animator === \"object\" && typeof animator.handler === \"function\")\n    return animator.handler(fromViewID, toViewId, direction);\n  else\n    console.log(new Error(\"Animation handler is not a function, type: \" +\n      animator));\n}\n\nmodule.exports.types = AnimationTypes;\nmodule.exports.getAnimation = getAnimation;","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nconst merge =  require(\"./helper\").merge;\n\nString.prototype.addCmd = function(data) {\n  return this.concat(data);\n};\n\nArray.prototype.addCmd = function(data) {\n  this.push(data);\n  return this;\n};\n\nlet parseParams;\nif (window.__OS == \"ANDROID\")\n  parseParams = require('./helpers/android/parseParams');\nelse if (window.__OS == \"WEB\")\n  parseParams = require('./helpers/web/parseParams');\nelse\n  parseParams = require('./helpers/ios/parseParams');\n\nclass BaseView {\n  constructor(props, children) {\n    this.props = props || {};\n    this.children = children || [];\n\n    window.__SETFN = function (config) {\n      Android.runInUI(\n        this.set(config),\n        null\n      )\n    }.bind(this)\n\n    this.idSet = {};\n\n    if (this.props.id) {\n      this.idSet[\"id\"] = this.props.id;\n    } else {\n      this.props.id = this.id(\"id\");\n    }\n\n    if (this.props._ref) {\n      this.props._ref(this);\n    }\n  }\n\n  resolveChildren() {\n    return this.children.map(function(child) {\n      return child.render();\n    });\n  }\n\n  findRecurse(obj, selector) {\n    var children = obj.children;\n\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].displayName && children[i].displayName == selector) {\n        this.foundChildren.push(children[i]);\n      }\n\n      if (children[i].children && children[i].children.length)\n        this.findRecurse(children[i], selector);\n    }\n\n    return;\n  }\n\n  find(selector, obj) {\n    this.foundChildren = [];\n\n    if (!obj)\n      this.findRecurse(this.layout, selector);\n    else\n      this.findRecurse(obj, selector);\n\n    return this.foundChildren;\n  }\n\n  id(name) {\n    if (!this.idSet[name]) {\n      window.__ID++;\n      this.idSet[name] = window.__ID;\n    }\n    \n    return this.idSet[name];\n  }\n\n  setIds(arr) {\n    if (!this.idSet)\n      this.idSet = {};\n\n    for (var i = 0; i < arr.length; i++) {\n      if (!this.idSet[arr[i]]) {\n        window.__ID++;\n        this.idSet[arr[i]] = window.__ID + '';\n      }\n    }\n  }\n\n  handleSpecialChars(value) {\n    value = value.indexOf(',') > -1 ? value.replace(/\\,/g, '\\\\\\\\,') : value;\n    value = value.indexOf(':') > -1 ? value.replace(/\\:/g, '\\\\\\\\:') : value;\n    value = value.indexOf('=') > -1 ? value.replace(/\\=/g, '\\\\\\\\=') : value;\n    value = value.indexOf(';') > -1 ? value.replace(/\\;/g, '\\\\\\\\;') : value;\n\n    return value;\n  }\n\n  cmdForAndroid(config) {\n    var cmd = \"set_view=ctx->findViewById:i_\" + config.id + \";\";\n    var runInUI;\n\n    if (config.toast) {\n      cmd = \"set_TOAST=android.widget.Toast->makeText:ctx_ctx,cs_\" + this.handleSpecialChars(\n          config.text) + \",i_\" + (config.duration == \"short\" ? 0 : 1) +\n        \";get_TOAST->show\";\n    } else if (config && Object.keys(config).length) {\n      delete config.id;\n\n      config.root = \"true\";\n      runInUI = parseParams(\"linearLayout\", config, \"get\").runInUI;\n\n      cmd += runInUI + ';';\n    }\n\n    return cmd;\n  }\n\n  cmdContainer() {\n    if (window.__OS == \"ANDROID\")\n      return \"\";\n    return [];\n  }\n\n  cmdForWeb(config) {\n    if (Object.keys(config).length)\n      return parseParams(\"linearLayout\", config, \"set\");\n  }\n\n  cmd(config) {\n    if (window.__OS == \"ANDROID\")\n      return this.cmdForAndroid(config);\n    else if (window.__OS == \"WEB\")\n      return this.cmdForWeb(config);\n    return config;\n  }\n\n  appendChild(id, jsx, index, fn, replaceChild) {\n    var proxyFnName;\n    if (!replaceChild) {\n      replaceChild = false;\n    }\n\n    if (fn) {\n      proxyFnName = 'F' + window.__FN_INDEX;\n      window.__PROXY_FN[proxyFnName] = fn;\n      window.__FN_INDEX++;\n    }\n\n    jsx = (window.__OS != \"ANDROID\") ? jsx : JSON.stringify(jsx);\n\n    if (proxyFnName)\n      Android.addViewToParent(id, jsx, index, proxyFnName, replaceChild);\n    else\n      Android.addViewToParent(id, jsx, index, null, replaceChild);\n  }\n\n  getView(jsx) {\n    if (window.__OS != \"ANDROID\")\n      return jsx;\n\n    return JSON.stringify(jsx);\n  }\n\n  updateProps(props) {\n    this.props = merge(this.props, props);\n    const oldContainerId = this.layout.idSet.id;\n    const layout = this.render();\n    for (let i=0; i<layout.children.length; i++) {\n      if (i==0) this.replaceChild(oldContainerId, layout.children[i], i);\n      else this.appendChild(oldContainerId, layout.children[i], i);\n    }\n    this.layout.idSet.id = oldContainerId;\n  }\n\n  removeView(id) {\n    if (__OS == \"WEB\")\n      return Android.removeView(id);\n    return \"set_VIEW=ctx->findViewById:i_\" + id +\n      \";set_PARENT=get_VIEW->getParent;get_PARENT->removeView:get_VIEW;\"\n  }\n\n  removeChildren(id) {\n    if (__OS == \"WEB\")\n      return Android.removeChildren(id);\n    return \"set_VIEW=ctx->findViewById:i_\" + id +\n      \";get_VIEW->removeAllViews;\"\n  }\n\n  replaceChild(id, jsx, index, fn) {\n    this.appendChild(id, jsx, index, fn, true);\n  }\n}\n\nmodule.exports = BaseView;","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\n/*\n  ViewContext of the Parent.f\n  Obj holds the available width and height of it's parent container\n  and x & y offset for it's children\n*/\nfunction viewCtxObj(view) {\n  let props = view.props;\n  let obj = {\n    w: props.w * 1,\n    h: props.h * 1,\n    width: props.w * 1,\n  };\n\n  view.children.forEach(child => {\n    child.props.w = child.props.width;\n    child.props.h = child.props.height;\n  });\n\n  return obj;\n}\n\n/*\n  Returns true if container has a child with match_parent for a\n  given dimension (width or height)\n*/\nfunction hasMatchParentChild(childs, dimen) {\n  for (let i = 0; i < childs.length; i++) {\n    let childProp = childs[i].props;\n\n    if (childProp[dimen] && (childProp[dimen] == \"match_parent\")) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/*\n  Returns true if container has weighted child\n*/\nfunction hasWeightChild(type, childs) {\n  if (type != \"linearLayout\") {\n    return false;\n  }\n\n  for (let i = 0; i < childs.length; i++) {\n    let child = childs[i].props;\n\n    if (child.weight && parseFloat(child.weight) > 0) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction computeRelativeLayout(view) {\n  let viewCtx = viewCtxObj(view);\n  let children = view.children;\n\n  children.forEach(child => {\n    let props = child.props;\n    var pl = 0, pr = 0, pt = 0, pb =0;\n    if(view.props && view.props.hasOwnProperty('padding')) {\n      var padding = view.props.padding.split(',')\n      pl = padding[0]\n      pt = padding[1]\n      pr = padding[2]\n      pb = padding[3]\n    }\n    props.absolute = true;\n    props.fromTop = pt;\n    props.fromBottom = 'auto';\n    props.fromLeft = pl;\n    props.fromRight = 'auto';\n\n    if(props.hasOwnProperty('alignParentLeft') && props.alignParentLeft){\n      props.fromLeft = 0;\n      props.fromRight = 'auto';\n    }\n    if(props.hasOwnProperty('alignParentRight') && props.alignParentRight){\n      props.fromLeft = 'auto';\n      props.fromRight = pr;\n    }\n\n    if(props.hasOwnProperty('alignParentBottom') && props.alignParentBottom){\n      props.fromTop = 'auto';\n      props.fromBottom = pb;\n    }\n  });\n}\n\nfunction computeLinearlayout(view) {\n  let viewCtx = viewCtxObj(view);\n  let parentProps = view.props;\n  let children = view.children;\n  let isHorizontal = (parentProps.orientation === \"vertical\") ? false : true;\n\n  let activeDimen = (isHorizontal) ? \"w\" : \"h\";\n  let passiveDimen = (isHorizontal) ? \"h\" : \"w\";\n\n  let hasWeight = hasWeightChild(view.type, children);\n  let hasMatchParent = hasMatchParentChild(children, activeDimen);\n\n  if (hasWeight && hasMatchParent) {\n    // We can't use both at the same time\n    return;\n  }\n\n  /* Initialize */\n  children.forEach(child => {\n    let props = child.props;\n\n    if (props.hasOwnProperty(\"activeDimen\"))\n      delete props[\"activeDimen\"];\n    if (props.hasOwnProperty(\"activeWeight\"))\n      delete props[\"activeWeight\"];\n  });\n  /* Initialize End */\n\n  if(hasMatchParent || hasWeight){\n    let first = true;\n    /* Iterate Child */\n    children.forEach(child => {\n      let props = child.props;\n\n      if(props.hasOwnProperty(activeDimen) && props[activeDimen] == 'match_parent'){\n        props['activeDimen'] = activeDimen;\n\n        if(first){\n          props['activeWeight'] = 1;\n          first = false;\n        }else{\n          props['activeWeight'] = 0;\n        }\n      }else{\n        if(props.hasOwnProperty('weight') && !isNaN(props['weight'])){\n          let weight = parseFloat(props['weight']);\n\n          if(weight > 0){\n            props['activeDimen'] = activeDimen;\n            props['activeWeight'] = weight;\n          }\n        }\n      }\n    });\n    /* Iterate Child End */\n  }\n} // End Compute LinearLayout\n\nfunction computeChildDimens(view) {\n  if (view.type == \"linearLayout\") {\n    computeLinearlayout(view);\n  } else if (view.type == \"scrollView\" || view.type == \"listView\") {\n    view.props.orientation = \"vertical\";\n    computeLinearlayout(view);\n  } else if (view.type == \"horizontalScrollView\") {\n    view.props.orientation = \"horizontal\";\n    computeLinearlayout(view);\n  } else if (view.type == \"relativeLayout\") {\n    computeRelativeLayout(view);\n  } else {\n    // Do Nothing\n  }\n\n  return view;\n}\n\nmodule.exports = {\n  computeChildDimens\n};","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nfunction run() {\n  if (window.__OS === \"IOS\") {\n    return require(\"./ios\")\n  } else if (window.__OS === \"WEB\") {\n    return require(\"./web\")\n  } else {\n    return require(\"./android\")\n  }\n}\n\nmodule.exports = run();","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nvar parseParams = require('../helpers/web').parseParams;\n\nArray.prototype.flatten = function () {\n  return this.reduce(function (prev, cur) {\n    var more = [].concat(cur).some(Array.isArray);\n    return prev.concat(more ? cur.flatten() : cur);\n  }, []);\n};\n\nmodule.exports = function (type, props, children) {\n  // console.log(\"type is\",type); \n  // console.log(\"props are\",props); \n  // console.log(\"children is\",children); \n  // children = children.flatten();\n  // console.log(\"children after flatten is\",children);\n\n  if (!props)\n    props = {};\n  \n  if (typeof type === \"string\") {\n    //props = parseParams(type, props);\n    \n    let obj = {\n      props: props,\n      type: type,\n      children: children\n    };\n\n    window.__VIEWS[props.id] = obj; \n    window.__VIEW_DIMENSIONS[props.id] = null;\n    return obj;\n  } else {\n    return new type(props, children);\n  }\n}","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nmodule.exports = {\n  handle : (ui, callback) => {\n    if (!ui) {\n      return;\n    }\n    if(ui.render) {\n      if (typeof Android === \"undefined\")\n        throw new Error(\"Android is undefined\");\n\n      if (window.__OS != \"ANDROID\")\n        return Android.Render(ui.render, null);\n      else {\n        if(typeof Android.getNewID == \"function\") {\n          return Android.Render(JSON.stringify(ui.render), null, \"false\");\n        } else {\n          return Android.Render(JSON.stringify(ui.render), null);\n        }\n      }\n    }\n\n    if(ui.runInUI) {\n      Android.runInUI(ui.runInUI, null);\n    }\n    if(ui.addViewToParent) {\n      Android.addViewToParent(ui.addViewToParent.parentId, JSON.stringify(ui.addViewToParent.jsx), ui.addViewToParent.index, null);\n    }\n  }\n}","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\n// Following functions are used by WEB and IOS Render\nfunction cacheDimen(view) {\n  let props = view.props;\n  let dimen = {\n    w: props.w,\n    h: props.h,\n    x: props.x,\n    y: props.y,\n    gravity: props.gravity,\n    padding: props.padding,\n    orientation: props.orientation,\n    stroke: props.stroke ? props.stroke.split(\",\")[0] * 1 : 0,\n  }\n  window.__VIEW_DIMENSIONS[props.id] = dimen;\n}\n\nfunction shouldMove(view) {\n  let props = view.props;\n  let dimen = {\n    w: props.w,\n    h: props.h,\n    x: props.x,\n    y: props.y\n  };\n  let cachedDimen = window.__VIEW_DIMENSIONS[props.id];\n  let changed = false;\n  if (!cachedDimen)\n    return dimen;\n  for (let key in dimen) {\n    if (cachedDimen[key] != dimen[key]) {\n      dimen.id = props.id;\n      changed = true;\n    }\n  }\n  if (changed)\n    return dimen;\n  return null;\n}\n\nfunction getOS() {\n  var userAgent = navigator.userAgent;\n  if (!userAgent)\n    return console.error(new Error(\"UserAgent is null\"));\n  if (userAgent.includes(\"Android\") && userAgent.includes(\"Version\"))\n    return \"ANDROID\";\n  if ((userAgent.includes(\"iPhone\") || userAgent.includes(\"iPad\")) && !userAgent.includes(\"Version\"))\n    return \"IOS\";\n  return \"WEB\";\n}\n\nfunction clearViewExternals(view) {\n  if (!view)\n    return;\n\n  delete window.__VIEWS[view.props.id];\n  delete window.__VIEW_DIMENSIONS[view.props.id];\n  \n  if(__OBSERVERS[view.props.id])\n    delete window.__OBSERVERS[view.props.id];\n\n  view.children.forEach(clearViewExternals);\n}\n\n// use: clone( <thing to copy> ) returns <new copy>\nfunction clone(o, m){\n  // return non object values\n  if('object' !==typeof o) return o\n  // m: a map of old refs to new object refs to stop recursion\n  if('object' !==typeof m || null ===m) m =new WeakMap()\n  var n =m.get(o)\n  if('undefined' !==typeof n) return n\n  // shallow/leaf clone object\n  var c =Object.getPrototypeOf(o).constructor\n  // TODO: specialize copies for expected built in types i.e. Date etc\n  switch(c) {\n    // shouldn't be copied, keep reference\n    case Boolean:\n    case Error:\n    case Function:\n    case Number:\n    case Promise:\n    case String:\n    case Symbol:\n    case WeakMap:\n    case WeakSet:\n      n =o\n      break;\n    // array like/collection objects\n    case Array:\n      m.set(o, n =o.slice(0))\n      // recursive copy for child objects\n      n.forEach(function(v,i){\n        if('object' ===typeof v) n[i] =clone(v, m)\n      });\n      break;\n    case ArrayBuffer:\n      m.set(o, n =o.slice(0))\n      break;\n    case DataView:\n      m.set(o, n =new (c)(clone(o.buffer, m), o.byteOffset, o.byteLength))\n      break;\n    case Map:\n    case Set:\n      m.set(o, n =new (c)(clone(Array.from(o.entries()), m)))\n      break;\n    case Int8Array:\n    case Uint8Array:\n    case Uint8ClampedArray:\n    case Int16Array:\n    case Uint16Array:\n    case Int32Array:\n    case Uint32Array:\n    case Float32Array:\n    case Float64Array:\n      m.set(o, n =new (c)(clone(o.buffer, m), o.byteOffset, o.length))\n      break;\n    // use built in copy constructor\n    case Date:\n    case RegExp:\n      m.set(o, n =new (c)(o))\n      break;\n    // fallback generic object copy\n    default:\n      m.set(o, n =Object.assign(new (c)(), o))\n      // recursive copy for child objects\n      for(c in n) if('object' ===typeof n[c]) n[c] =clone(n[c], m)\n  }\n  return n\n}\n\nfunction merge() {\n  var obj = {},\n      i = 0,\n      il = arguments.length,\n      key;\n  for (; i < il; i++) {\n      for (key in arguments[i]) {\n          if (arguments[i].hasOwnProperty(key)) {\n              obj[key] = arguments[i][key];\n          }\n      }\n  }\n  return obj;\n};\n\nmodule.exports = {\n  shouldMove,\n  cacheDimen,\n  getOS,\n  merge,\n  clearViewExternals,\n  clone,\n}","/* \n\nThis function executes a function stored in a hashmap. \nIt takes atleast a callback string (key for hashmap) to excute the function. \nIn essence this is the read function for the global hashmap.\n./callbackMapper.j is the write function for the global hashmap. \n\nWhile the function name contains `UI` in it, it is not related to UI is any way. \nIt is mostly called after the UI is rendered but JBridge also calls it to call APIs. \n\n*/ \n\n\nfunction invokeUICallback () {\n    let args = (arguments.length === 1 ? [arguments[0]] : Array.apply(null,\n        arguments));\n    var fName = args[0]\n    var functionArgs = args.slice(1)\n    var currTime;\n    var timeDiff;\n    \n    if (window.__ALL_ONCLICKS && window.__ALL_ONCLICKS.indexOf(fName) != -1 && args[2] == \"feedback\" && JBridge && JBridge.setClickFeedback) {\n        return JBridge.setClickFeedback(args[1]);\n    }\n  \n    if (window.__THROTTELED_ACTIONS && window.__THROTTELED_ACTIONS.indexOf(fName) == -1) {\n        let proxyFnKey = fName;\n        if (proxyFnKey.charAt(0) == '\"')\n            proxyFnKey = fName.substring(1, fName.length - 1);\n        window.__PROXY_FN[proxyFnKey].apply(null, functionArgs);\n    } else if (window.__LAST_FN_CALLED && (fName == window.__LAST_FN_CALLED.fName)) {\n        currTime = getCurrTime();\n        timeDiff = currTime - window.__LAST_FN_CALLED.timeStamp;\n  \n        if (timeDiff >= 300) {\n            window.__PROXY_FN[fName].apply(null, functionArgs);\n            window.__LAST_FN_CALLED.timeStamp = currTime;\n        } else {\n            console.warn(\"function throtteled\", fName);\n            console.warn(\"time diff\", timeDiff);\n        }\n    } else {\n        window.__PROXY_FN[fName].apply(null, functionArgs);\n        window.__LAST_FN_CALLED = {\n            timeStamp: (new Date()).getTime(),\n            fName: fName\n        }\n    }\n};\n\nmodule.exports = {\n    invoke : invokeUICallback\n};","/*\n * Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n * JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n *\n * This file is part of JUSPAY Platform.\n *\n * JUSPAY Platform is free software: you can redistribute it and/or modify\n * it for only educational purposes under the terms of the GNU Affero General\n * Public License (GNU AGPL) as published by the Free Software Foundation,\n * either version 3 of the License, or (at your option) any later version.\n * For Enterprise/Commerical licenses, contact <info@juspay.in>.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n * be liable for all damages without limitation, which is caused by the\n * ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n * damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n * The end user has NO right to claim any indemnification based on its use\n * of Licensed Software. See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n */\n\n /*\n\tThis takes a function and puts it in a hashmap called __PROXY_FN and returns the key (a string). \n\tKey is contructed using a global variables. \n\tHashmap is also a global variable. \n\tPoint To Note : Since iframes, we have different DOM Documents. So, these global variables are global to Presto-UI's document. \n */ \nmodule.exports.map = (fn) => {\n\t// console.debug(\"presto-ui callback-mapper document location\",document.location); \n\tif(typeof window.__FN_INDEX !== 'undefined' && window.__FN_INDEX !== null) {\n\t\tvar proxyFnName = 'F' + window.__FN_INDEX;\n\t\tif (window.__payload && window.__payload.service){\n\t\t\tproxyFnName = window.__payload.service + \"_\" + proxyFnName;\n\t\t}\n\t\twindow.__PROXY_FN[proxyFnName] = fn;\n\t\twindow.__FN_INDEX++;\n\t\t// console.log(\"Presto-UI Callback Mapper proxyFnName is\",proxyFnName); \n\t\treturn proxyFnName;\n\t} else {\n\t\tthrow new Error(\"Please initialise window.__FN_INDEX = 0 in index.js of your project.\");\n\t}\n}\n","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nmodule.exports = {\n\tcallbackMapper : require(\"./callbackMapper\")\n}\n","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nconst helpers = {\n\tcommon : require(\"./common\")\n};\n\n\nif (window.__OS == \"ANDROID\") {\n\thelpers.android = require(\"./android\")\n}\nelse if (window.__OS == \"WEB\") {\n\thelpers.web = require(\"./web\");\n}\nelse {\n\thelpers.ios = require(\"./ios\");\n}\n\n\nmodule.exports = helpers;","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nmodule.exports = {\n\tparseParams : require(\"./parseParams\"),\n}\n","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\n\n/*\n\n\nTHIS FILE IS REDUNDANT NOW, WEB NO LONGER CALLS ANY FUNCTION OF THIS FILE\n\n\n*/ \n\n\nArray.prototype.rotate = (function () {\n  // save references to array functions to make lookup faster\n  var push = Array.prototype.push,\n    splice = Array.prototype.splice;\n\n  return function (count) {\n    var len = this.length >>> 0, // convert to uint\n      count = count >> 0; // convert to int\n\n    // convert count to value in range [0, len)\n    count = ((count % len) + len) % len;\n\n    // use splice.call() instead of this.splice() to make function generic\n    push.apply(this, splice.call(this, 0, count));\n    return this;\n  };\n})();\n\nfunction flattenObject(ob) {\n  var toReturn = {};\n  for (var i in ob) {\n    if (!ob.hasOwnProperty(i)) continue;\n    if ((typeof ob[i]) == 'object') {\n      var flatObject = flattenObject(ob[i]);\n      for (var x in flatObject) {\n        if (!flatObject.hasOwnProperty(x)) continue;\n        if (typeof flatObject[x] !== \"undefined\")\n          toReturn[x] = flatObject[x];\n      }\n    } else {\n      toReturn[i] = ob[i];\n    }\n  }\n\n  return toReturn;\n}\n\nfunction parseColors(color) {\n  if (color.length < 8)\n    return color;\n\n  if (color.indexOf(\"rgba\") !== -1 || color.indexOf(\"rgb\") !== -1)\n    return color;\n\n  var alpha = parseInt(color.substring(1, 3), 16);\n  alpha = (alpha / 255).toFixed(2);\n\n  var hexColor = color.substring(3, 9);\n  var rgbaColor = \"rgba(\" + convertHexToRgb(hexColor) + \",\" + alpha + \")\";\n\n  return rgbaColor;\n}\n\nfunction lookAndReplaceProp(str,match, val){\n  var output = match + \"(\" + val + \"px)\";\n  if (!str) return output; \n  var start = str.indexOf(match); \n  if (start >= 0){\n    var end = str.substr(start).indexOf(\")\"); \n    if (end >= 0) {\n      var found = str.substr(start,end+1); \n      return str.replace(found,output); \n    }\n    else {\n      return str+output; \n    }\n  } \n  else return str+output; \n}\n\n\nfunction parseLayoutProps(type, config, key) {\n  if (typeof config[key] == \"undefined\" || config[key] == null) {\n    delete config[key];\n    return;\n  }\n\n  if (!config.style) {\n    var t = \"\"\n    var ele_id = document.getElementById(config.id)\n    if (ele_id) {\n      if (ele_id.style)\n        t = (ele_id.style.transform) ? ele_id.style.transform  : \"\" \n    }\n    config.style = {};\n    config.style.transform = t; \n    config.animation = {};\n    config.animation.transform = \"\";\n  }\n\n  if (!config.attributes) \n    config.attributes = {};\n\n  if (!config.style.className)\n    config.style.className = \"\";\n\n  if ((key == \"onClick\" || key == \"onClickEvent\")) {\n    if(!isMobile && !config.cursorType){\n      config.style.cursor = \"pointer\";\n    }\n  }\n  if(key == \"cursorType\") {\n    config.style.cursor = config.cursorType;\n  }\n  if (key == \"textSize\")\n    config.style.fontSize = config.textSize + 'px';\n  if (key == 'fontSize')\n    config.style.fontSize = config.fontSize + 'px';\n  \n  if (key == 'url')\n    config.attributes.src = config.url\n    \n  /*if (key == \"imageUrl\"){\n    let imageUrl = config.imageUrl;\n    \n    if(config.rawData) {\n      // Do nothing\n    } else {\n      let temp = imageUrl.split('.');\n      let ext = '';\n      if(temp && temp.length > 0)\n        ext = temp[temp.length - 1];\n      \n      let exts = [\"jpeg\", \"jpg\", \"png\", \"bmp\", \"svg\", \"gif\"];\n      ext = ext.toLowerCase();\n\n      if(!exts.includes(ext)) {\n        imageUrl += '.png';\n      }\n    }\n\n    config.attributes.src = imageUrl;\n  }*/\n\n  if (key == \"backgroundColor\") {\n    config.style.backgroundColor = parseColors(config.backgroundColor);\n  }\n\n  if (key == \"background\") {\n    config.style.background = config.background;\n  }\n  if (key == \"backgroundDrawable\") {\n    config.style[\"background-image\"] = \"url('\"+config.backgroundDrawable+\"')\";\n  }\n\n  if (key == \"color\") {\n    config.style.color = parseColors(config.color);\n  }\n\n  if(key == \"position\") {\n    config.style.position = config.position;\n  }\n\n  if(key == \"bottomFixed\") {\n    config.style.bottom = config.bottomFixed;\n  }\n  if(key == \"topFixed\") {\n    config.style.top = config.topFixed;\n  }\n  if(key == \"leftFixed\") {\n    config.style.left = config.leftFixed;\n  }\n  if(key == \"rightFixed\") {\n    config.style.right = config.rightFixed;\n  }\n\n  if(key == \"zIndex\") {\n    config.style[\"z-index\"] = config.zIndex;\n  }\n\n  if(key == \"autofocus\"){\n    var isIPhone = (navigator.userAgent.indexOf(\"iPhone\") !== -1)\n    if(config.autofocus && !isIPhone){\n      config.attributes[\"autofocus\"] = \"autofocus\";  \n    }\n  }\n  if(key==\"focus\") {\n    if (config.focus && config.id){\n      var doc = document.getElementById(config.id);\n      if (doc){\n        doc.focus();\n      }\n\n    }\n  }\n\n  if (key == \"cornerRadius\") {\n    config.style.borderRadius = config.cornerRadius + \"px\";\n  }\n\n  if (key == \"cornerRadii\") {\n    const [radius, ...corners] = props.cornerRadii.split(',');\n    config.style.borderRadius = corners.map(bool => `${bool * radius}px`).join(' ') + \";\";\n  }\n\n  if (key == \"alpha\") {\n    config.style.opacity = config[key];\n  }\n\n  if (key == \"a_alpha\") {\n    config.animation.opacity = config[key];\n  }\n\n  if (key == \"fontFamily\") {\n    config.style.fontFamily = config.fontFamily;\n  }\n\n  if (key == 'typeface') {\n    switch(config.typeface){\n      case 'normal':\n        config.style.fontWeight = 400;\n      break;\n      case 'bold':\n        config.style.fontWeight = 700;\n      break;\n      case 'italic':\n        config.style.fontStyle = 'italic';\n      break;\n      case 'bold_italic':\n        config.style.fontWeight = 700;\n        config.style.fontStyle = 'italic';\n      break;\n      case 'underline':\n        config.style.textDecoration = 'underline';\n      break;\n    }\n  }\n\n  if (key == \"fontStyle\") {\n    let match = config.fontStyle.match(/[/-]/);\n    let fontName = match ? config.fontStyle.slice(0, match.index) : config.fontStyle;\n    config.style.fontFamily = fontName;\n\n    if (!match)\n      return;\n\n    let type = config.fontStyle.slice(match.index + 1);\n    type = type.replace(/[-/]/g, '');\n    type  = type.toLowerCase();\n\n    if (type.indexOf('italic') != -1)\n      config.style.fontStyle = 'italic';\n\n    let fontWeight = 0;\n\n    if (type.indexOf('extralight') != -1)\n      fontWeight = 200;\n    else if (type.indexOf('light') != -1)\n      fontWeight = 300;\n    else if (type.indexOf('regular') != -1 || type.indexOf('book') != -1)\n      fontWeight = 400;\n    else if (type.indexOf('semibold') != -1 || type.indexOf('medium') != -1)\n      fontWeight = 500;\n    else if (type.indexOf('bold') != -1 || type.indexOf('heavy') != -1)\n      fontWeight = 700;\n    else if (type.indexOf('black') != -1)\n      fontWeight = 900;\n\n    if(fontWeight > 0)\n      config.style.fontWeight = fontWeight;\n  }\n\n  if (key == 'visibility') {\n    let visibility = config.visibility;\n    if (visibility == 'invisible')\n      config.style.visibility = \"hidden\";\n    else if (visibility == 'gone')\n      config.style.display = \"none\";\n    else {\n      config.style.visibility = '';\n    }\n  } \n\n  if (key == 'expand') {\n    let visibility = config.expand + '';\n    if (visibility == 'true'){\n      config.style.visibility = '';\n    }\n    else\n      config.style.display = \"none\";\n  }\n\n  if (key == \"stroke\") {\n    let values = config.stroke.split(\",\");\n\n    if(values.length == 2)\n      config.style.border = values[0] + \"px solid \" + values[1];\n    else if(values.length == 3){\n\n      strokeMap = {\"b\": \"borderBottom\", \"t\" : \"borderTop\", \"r\" : \"borderRight\", \"l\" : \"borderLeft\"};\n      \n      for (var i of values[2]){\n          if (strokeMap[i] !== undefined)\n            config.style[strokeMap[i]] = values[0] + \"px solid \" + values[1];\n      }\n\n    }\n    \n  }\n\n  if (key == \"strokeTop\") {\n    let values = config.strokeTop.split(\",\");\n    \n    if(values.length == 2)\n      config.style.borderTop = values[0] + \"px solid \" + values[1];\n    else if(values.length == 3)\n      config.style.borderTop = values[0] + \"px \" + values[1] + \" \" + values[2];\n  }\n\n  if (key == \"strokeRight\") {\n    let values = config.strokeRight.split(\",\");\n    \n    if(values.length == 2)\n      config.style.borderRight = values[0] + \"px solid \" + values[1];\n    else if(values.length == 3)\n      config.style.borderRight = values[0] + \"px \" + values[1] + \" \" + values[2];\n  }\n\n  if (key == \"strokeBottom\") {\n    let values = config.strokeBottom.split(\",\");\n    \n    if(values.length == 2)\n      config.style.borderBottom = values[0] + \"px solid \" + values[1];\n    else if(values.length == 3)\n      config.style.borderBottom = values[0] + \"px \" + values[1] + \" \" + values[2];\n  }\n\n  if (key == \"strokeLeft\") {\n    let values = config.strokeLeft.split(\",\");\n    \n    if(values.length == 2)\n      config.style.borderLeft = values[0] + \"px solid \" + values[1];\n    else if(values.length == 3)\n      config.style.borderLeft = values[0] + \"px \" + values[1] + \" \" + values[2];\n  }\n\n  if (key == \"translationY\") {\n    config.style.transform = lookAndReplaceProp(config.style.transform,\"translateY\",config[key]);\n  }\n\n  if (key == \"a_translationY\") {\n    config.animation.transform += \"translateY(\" + config[key] + \"px) \";\n  }\n\n  if (key == \"translationX\") {\n    config.style.transform = lookAndReplaceProp(config.style.transform,\"translateX\",config[key]);\n  }\n\n  if (key == \"a_translationX\") {\n    config.animation.transform += \"translateX(\" + config[key] + \"px) \";\n  }\n\n  if (key == \"scaleX\") {\n    config.style.transform += \"scaleX(\" + config[key] + \") \";\n  }\n\n  if (key == \"a_scaleX\") {\n    config.animation.transform += \"scaleX(\" + config[key] + \") \";\n  }\n\n  if (key == \"scaleY\") {\n    config.style.transform += \"scaleY(\" + config[key] + \") \";\n  }\n\n  if (key == \"a_scaleY\") {\n    config.animation.transform += \"scaleY(\" + config[key] + \") \";\n  }\n\n  if (key == \"rotation\") {\n    config.style.transform += \"rotate(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"a_rotation\") {\n    config.animation.transform += \"rotate(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"rotationX\") {\n    config.style.transform += \"rotateX(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"a_rotationX\") {\n    config.animation.transform += \"rotateX(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"rotationY\") {\n    config.style.transform += \"rotateY(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"a_rotationY\") {\n    config.animation.transform += \"rotateY(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"translationZ\") {\n    var v = config[key];\n    config.style[\"-webkit-box-shadow\"] = \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n    config.style[\"-moz-box-shadow\"]= \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n    config.style[\"box-shadow\"]=  \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n    \n  }\n\n  if (key == \"a_duration\" && !isNaN(config[key])) {\n    const suffix = config.transitionTimingFunction ? (\" \" + config.transitionTimingFunction) : \"\";\n    config.animation.transition = config[key] + 'ms all' + suffix;\n  }\n  \n  if (type == \"textView\" && key == \"gravity\" && config.gravity) {\n    config.style.textAlign = config.gravity;\n    if (config.gravity == \"center_vertical\") {\n      config.style[\"align-items\"] = \"center\";\n      config.style.display = \"flex\";\n    } else if (config.gravity == \"center_horizontal\") {\n      config.style.display = \"flex\";\n      config.style[\"justify-content\"] = \"center\";\n    } else if (config.gravity == \"center\") {\n      config.style.display = \"flex\";\n      config.style[\"align-items\"] = \"center\";\n      config.style[\"justify-content\"] = \"center\";\n    }\n    else if (config.gravity == \"center\"){\n      config.style.display = \"flex\";\n      config.style[\"align-items\"] = \"center\";\n      config.style[\"justify-content\"] = \"center\";\n    }\n  }\n  if (type == \"linearLayout\" && key == \"gravity\" && config.gravity){\n    if (config.margin && config.gravity==\"center_vertical\"){\n      var margin=config.margin.split(\",\");\n      if (config.width == \"match_parent\"){\n         config.style.width=\"calc(100% - \"+(parseInt(margin[0])+parseInt(margin[2])).toString()+\"px )\";\n      }\n    }\n  }\n\n  if (key == \"hint\"){\n    config.attributes.placeholder = config.hint;\n  }\n\n  if (key == \"contentEditable\" && config.contentEditable){\n    config.attributes.contenteditable = true;\n  }\n\n  if (key == \"id\") {\n    config.attributes.id = config.id;\n  }\n\n\n  if (key == \"gradient\") {\n    var gradientObj =JSON.parse(config.gradient);\n    if (gradientObj.type == \"linear\") {\n      var angle = gradientObj.angle;\n      var values = gradientObj.values;\n      var colors = values.join(\", \");\n      config.style[\"background-image\"] = \"linear-gradient(\"+angle+\"deg, \"+colors+\")\"\n    }\n     else {\n      var values = gradientObj.values;\n      var colors = values.join(\", \");\n      config.style[\"background-image\"] = \"radial-gradient(\"+colors+\")\"\n     }\n  }\n\n\n  if (key == \"inputType\" && window.__isMOBILE && !window.__isFIREFOX) {\n    var inputType = \"text\";\n    if (config.inputType == \"numericPassword\" || config.inputType == \"password\") {\n      if(config.inputTypeI == 4 && isMobile || navigator.userAgent.search(\"Firefox\") === -1 ){\n        inputType = \"tel\";\n        config.style[\"-webkit-text-security\"] = \"disc\";\n        config.style[\"-moz-text-security\"] = \"disc\";\n        config.style[\"text-security\"] = \"disc\";\n      } else {\n        inputType = \"password\"\n        config.attributes.autocomplete = \"new-password\"\n      }\n    } else if (config.inputType == \"disabled\") {\n        config.attributes.disabled = 'disabled'\n    } else if (config.inputType == \"numeric\") {\n        inputType = \"number\"\n    }\n    if (config.separator) {\n      if(config.inputType == \"numeric\"){\n        inputType = \"tel\"  \n      } else {\n        inputType = \"text\"\n      }\n    }\n\n    config.attributes.type = inputType\n  }\n\n  if (key == \"rotateImage\") {\n    if(config.rotateImage){\n      config.style[\"-webkit-animation\"] = \"load3 4s infinite linear\";\n      config.style[\"animation-duration\"] = \"4s\";\n      config.style[\"animation-timing-function\"] = \"linear\";\n      config.style[\"animation-delay\"] = \"0s\";\n      config.style[\"animation-iteration-count\"] = \"infinite\";\n      config.style[\"animation-direction\"] = \"normal\";\n      config.style[\"animation-fill-mode\"] = \"none\";\n      config.style[\"animation-play-state\"] = \"running\";\n      config.style[\"animation-name\"] = \"rotation\";\n\n    }\n  }\n\n  if (key == \"pattern\") {\n    config.attributes[\"data-pattern\"] = config.pattern;\n    var data = config.pattern.split(',');\n    var length = parseInt(data.pop());\n    if(length>10) {length = 10;}\n    config.attributes[\"size\"] =length;\n\n  }\n  // if(key == \"inputTypeI\"){\n  //   if(config.inputTypeI == 4){\n  //     config.attributes[\"inputmode\"] = \"numeric\";\n  //   }\n    \n  // }\n\n  if (key == \"separator\") {\n    config.attributes[\"separator\"] = config.separator;\n  }\n  if (key == \"separatorRepeat\") {\n    config.attributes[\"separatorRepeat\"] = config.separatorRepeat;\n  }\n\n  if (key == \"myAttr\") {\n    config.attributes[\"myAttr\"] = config.myAttr;\n  }\n  if (key == \"blurBackground\" && config.blurBackground){\n    config.style[\"backdrop-filter\"] = \"blur(3px)\";\n  }\n  if (key == \"shadow\") {\n    var shadowValues = config.shadow.split(config.shadowSeparator || ',');\n    var shadowBlur = rWS(cS(shadowValues[2]));\n    var shadowSpread = rWS(cS(shadowValues[3]));\n    var shadowOpacity = rWS(cS(shadowValues[5]));\n    var shadowOffset = {\n        x: rWS(cS(shadowValues[0])),\n        y: rWS(cS(shadowValues[1]))\n      };\n\n    var shadowColor = convertColorToRgba(shadowValues[4]);\n    var shadowType = config.shadowType ? `${config.shadowType} ` : ''\n\n    config[\"style\"][\"box-shadow\"] = shadowType + parseInt(shadowOffset.x) + \"px \" + parseInt(shadowOffset.y) + \"px \" + parseInt(shadowBlur) + \"px \" + parseInt(shadowSpread) + \"px rgba(\" + shadowColor.r + \", \" +  shadowColor.g + \", \" +  shadowColor.b + \", \" +  shadowColor.a + \")\" ;\n  }\n\n  if (key == \"lineHeight\")\n    config.style.lineHeight = config.lineHeight;\n\n  if (key == \"objectFit\")\n    config.style.objectFit = config.objectFit;\n\n  if (key == \"clickable\") {\n    config.style.pointerEvents = config.clickable ? \"auto\" : \"none\";\n  }\n  if (key == \"display\") {\n    config.style.display = config.display\n  }\n}\n\nfunction convertColorToRgba(color) {\n  color = rWS(cS(color));\n\n  var values;\n  var alpha = \"1.00\";\n\n  if (color.length >= 8) {\n    alpha = parseInt(color.substring(1, 3), 16);\n    alpha = (alpha / 255).toFixed(2);\n    color = color.substring(3, 9);\n  } else {\n    color = color.substring(1, color.length);\n  }\n\n  color = convertHexToRgb(rWS(color));\n  values = color.split(',');\n\n  return {\n    r: parseInt(rWS(values[0])),\n    g: parseInt(rWS(values[1])),\n    b: parseInt(rWS(values[2])),\n    a: parseFloat(alpha)\n  };\n}\n\nfunction convertHexToRgb(hex) {\n  var r = parseInt(hex.substring(0, 2), 16);\n  var g = parseInt(hex.substring(2, 4), 16);\n  var b = parseInt(hex.substring(4, 6), 16);\n\n  return r + \",\" + g + \",\" + b;\n}\n\nfunction cS(value) {\n  return value ? value + '' : \"\";\n}\n\nfunction rWS(value) {\n  return value.replace(/ /g, '');\n}\n\nfunction setDefaults(type, config) {\n  if (type == \"linearLayout\") {\n    config.orientation = config.orientation;\n  }\n}\nfunction this_inlineAnimation(config) {\n  var con=modifyTranslation(config);\n  var element = document.getElementById(con.name);\n}\nfunction modifyTranslation(config){\n  var x = config.x || \"0\";\n  var y = config.y || \"0\";\n  var animationArray = JSON.parse(config.inlineAnimation);\n  var animationArray = animationArray.map(function(a){\n    if(a.hasOwnProperty(\"fromX\")){\n      a.fromX = parseInt(a.fromX) + parseInt(x) + '';\n      if(!a.hasOwnProperty(\"toX\")){\n        a.toX = 0 + parseInt(x) + '';\n      }\n    }\n    if(a.hasOwnProperty(\"toX\")){\n      a.toX = parseInt(a.toX) + parseInt(x) + '';\n    }\n    if(a.hasOwnProperty(\"fromY\")){\n      a.fromY = parseInt(a.fromY) + parseInt(y) + '';\n      if(!a.hasOwnProperty(\"toY\")){\n        a.toY = 0 + parseInt(y) + '';\n      }\n    }\n    if(a.hasOwnProperty(\"toY\")){\n      a.toY = parseInt(a.toY) + parseInt(y) + '';\n    }\n    return a;\n  })\n  return (animationArray);\n}\nmodule.exports = function (type, config, getSetType) {\n  // var ok = flattenObject(c);\n  // console.log(\"object after flatten\",ok); \n  // var config = ok\n  setDefaults(type, config);\n\n  // console.log(\"object after flatten\",config); \n\n\n  var keys = Object.keys(config);\n\n  for (var i = 0; i < keys.length; i++) {\n    if ((config.style && config.style.display === 'none') && keys[i] === 'gravity')  {\n      continue;\n    }\n    parseLayoutProps(type, config, keys[i]);\n  }\n\n  \n  config.transition = [\n    String(config.a_duration || 0) +\"ms\",\n    \"all\",\n    config.transitionTimingFunction\n  ]\n    .filter(Boolean)\n    .join(\" \");\n\n  if (config.style.transform == \"\") {\n    delete config.style.transform;\n  }\n  if (config.hasOwnProperty(\"inlineAnimation\")) {\n    this_inlineAnimation(config);\n  }\n\n  return config;\n}","/*\n * Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n * JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n *\n * This file is part of JUSPAY Platform.\n *\n * JUSPAY Platform is free software: you can redistribute it and/or modify\n * it for only educational purposes under the terms of the GNU Affero General\n * Public License (GNU AGPL) as published by the Free Software Foundation,\n * either version 3 of the License, or (at your option) any later version.\n * For Enterprise/Commerical licenses, contact <info@juspay.in>.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n * be liable for all damages without limitation, which is caused by the\n * ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n * damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n * The end user has NO right to claim any indemnification based on its use\n * of Licensed Software. See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n */\n\n/*\n Used to initialize defaults for window funcions and variables.\n*/\nconst { merge } = require('./helper');\nwindow.PrestoUI = require(\"./PrestoUIInterface\");\n\nconst getCurrTime = () => (new Date()).getTime()\nif(window.__OS == \"ANDROID\"){\n    var getScreenDetails = function() {\n    try {\n        let details = JSON.parse(Android.getScreenDimensions());\n        return {\n            screen_width: details.width + \"\",\n            screen_height: details.height + \"\"\n        };\n    } catch (err) {\n        console.error(\n            \"error in gettting screen dimensions, setting default values\", err);\n            return {\n                screen_width: \"1080\",\n                screen_height: \"1920\"\n            };\n        }\n    };\n    window.__DEVICE_DETAILS = getScreenDetails();\n}\n\nif (window.__OS == \"WEB\") {\n    // In case of iFrame based integration, this will cause CORS exception.\n    try {\n        window.Android = window.parent.Android?window.parent.Android:require('./WEB/AndroidInterface')\n    } catch (e){\n        window.Android = require('./WEB/AndroidInterface')\n        console.log(\"Failed to load window.parent.Android\");\n    }\n\n    window.JBridge = window.JBridge ? window.JBridge:window.parent.JBridge;\n} else if (window.__OS == \"IOS\") {\n    window.Android = require(\"./IOS/AndroidInterface\")\n    window.JBridge = merge(window.JBridge, {})\n}\n\nif (window.__DEVICE_DETAILS && window.__DEVICE_DETAILS.hasOwnProperty(\"screen_width\")) {\n    window.__WIDTH = window.__DEVICE_DETAILS.screen_width;\n} else {\n    window.__WIDTH = \"1080\";\n}\n\nif (window.__DEVICE_DETAILS && window.__DEVICE_DETAILS.hasOwnProperty(\"screen_height\")) {\n    window.__HEIGHT = window.__DEVICE_DETAILS.screen_height;\n} else {\n    window.__HEIGHT = \"1920\";\n}\n\nconst guid = Math.random().toString(36).substr(2, 9)\n\n//Intializing defaults\nif (window.__OS == \"WEB\") {\n    /* Components */\n    window.__COM_EVENT = false\n    window.__COM_RENDERED = {\n        SWITCH_GLOBAL: false,\n        DRP: {},\n        DSB: {},\n        DB: {},\n        NAVBAR: {}\n    }\n\n    window.__COM_CLASS_GROUP = {\n        WRAPPER: 'PDC_com_wrapper',\n        NAVBAR: 'PDC_com_navbar',\n        NAVBAR_ITEM: 'PDC_com_navbar_item',\n        NAVBAR_ITEM_WITH_SUB: 'PDC_com_navbar_has_sub',\n        NAVBAR_SUB: 'PDC_com_navbar_sub',\n        NAVBAR_SUB_RIGHT: 'PDC_com_navbar_sub_right',\n        NAVBAR_SUB_ITEM: 'PDC_com_navbar_subitem',\n        DRP: 'PDC_com_drp',\n        DRP_BODY: 'PDC_com_drp_body',\n        DB: 'PDC_com_db',\n        DB_FULL_BODY: 'PDC_com_db_full_body',\n        DB_BODY: 'PDC_com_db_body',\n        DB_OPTIONS: 'PDC_com_db_options',\n        DB_OPTION: 'PDC_com_db_option',\n        DSB: 'PDC_com_dsb',\n        DSB_FULL_BODY: 'PDC_com_dsb_full_body',\n        DSB_BODY: 'PDC_com_dsb_body',\n        DSB_OPTIONS: 'PDC_com_dsb_options',\n        DSB_OPTION: 'PDC_com_dsb_option',\n        DSB_SEARCH_WRAP: 'PDC_com_dsb_search_wrap',\n        DSB_SEARCH: 'PDC_com_dsb_search',\n        SWITCH: 'PDC_com_switch',\n        SWITCH_BODY: 'PDC_com_switch_body',\n        SWITCH_SLIDER: 'PDC_com_switch_slider',\n        BT: 'PDC_com_bt',\n        BT_DISABLED: 'PDC_com_bt_disabled'\n    }\n    window.__COM_COLOR_GROUP = {\n        BG: '#ffffff',\n        ACTIVE_BG: '#EEF1F8',\n        ACTIVE_COLOR: 'rgb(53, 64, 82)',\n        INACTIVE_COLOR: 'rgba(53, 64, 82, 0.5)',\n        BORDER_COLOR: '#A3AFC2',\n        ACTIVE_BORDER_COLOR: '#707886',\n        SEARCH_COLOR: '#dddddd',\n        INACTIVE_SWITCH: '#B7DBBC',\n        ACTIVE_SWITCH: '#36AF47',\n        BT_BORDER_COLOR: '#1585D8',\n        BT_BG_COLOR: '#1991EB',\n        BT_COLOR: '#ffffff'\n    }\n    window.__COM_ACTIVE = {\n        DSB: '',\n        NAVBAR: '',\n        DB: ''\n    }\n    /* Components End */\n\n    /* Modal */\n    window.__STYLE_ID = 'style_' + guid\n    window.__RENDERED_KEYFRAMES = []\n    window.__MODAL_PROPS = {}\n    window.__CONTENTMODAL_CLASS = 'PDC_modal'\n    window.__OPENMODAL_CLASS = 'PDC_modal-open'\n    window.__BACKDROPMODAL_CLASS = 'PDC_modal-backdrop'\n    window.__DISABLEDBACKDROP_CLASS = 'PDC_modal-backdrop-disabled'\n    window.__SHOWNMODAL_CLASS = 'PDC_modal-shown'\n    window.__FADEMODAL_CLASS = 'PDC_modal-fade'\n    window.__SLIDEMODAL_CLASS = 'PDC_modal-slide'\n    /* Modal End */\n\n    window.onclick = (event) => {\n        if (event.target &&\n            event.target.classList.contains(window.__BACKDROPMODAL_CLASS) &&\n            !event.target.classList.contains(window.__DISABLEDBACKDROP_CLASS)\n        ) {\n            document.body.classList.remove(window.__OPENMODAL_CLASS);\n            event.target.classList.remove(window.__SHOWNMODAL_CLASS);\n\n            let id = event.target.id;\n            id = id.replace(window.__BACKDROPMODAL_CLASS + '_', '');\n\n            let view = __VIEWS[id];\n            if (view && view.props.onDismiss && typeof view.props.onDismiss ==\n                \"function\") {\n                view.props.onDismiss();\n            }\n        }\n    }\n\n    const duiShowScreen = (callback, state) => {\n        let popupMenu = document.getElementsByClassName(\"popupMenu\");\n        for (let i = 0; i < popupMenu.length; i++) {\n            popupMenu[i].style.display = \"none\";\n        }\n    };\n    window.__duiShowScreen = duiShowScreen;\n\n} else if (window.__OS == \"IOS\") {\n    window.__COLOR_INDEX = window.__COLOR_INDEX || 1;\n    window.__FONT_INDEX = window.__FONT_INDEX || 1;\n    window.__RECT_INDEX = window.RECT_INDEX || 1;\n    window.__VIEW_INDEX = window.__VIEW_INDEX || 1;\n    window.__IMAGE_INDEX = window.__IMAGE_INDEX || 1;\n    window.__POINT_INDEX = window.__POINT_INDEX || 1;\n    window.__LAYER_INDEX = window.__LAYER_INDEX || 1;\n    window.__SIZE_INDEX = window.__SIZE_INDEX || 1;\n} else {\n    //This would be case for android\n    window.__FN_MAP = {};\n    window.__ALL_ONCLICKS = [];\n}\n\nwindow.__ID = 1;\nwindow.__NODE_ID = 1;\nwindow.__SCREEN_INDEX = -1;\n// Adding temp fix - Will be moved to mystique-web\ntry {\n    window.__PROXY_FN = window.parent.__PROXY_FN?window.parent.__PROXY_FN:{};\n} catch (error) {\n    window.__PROXY_FN = {};\n}\nwindow.__FN_INDEX = 0;\nwindow.__ROOTSCREEN = null;\nwindow.__CACHED_SCREENS = {};\nwindow.__SCREEN_COUNT = 0;\nwindow.__CURR_SCREEN = null;\nwindow.__PREV_SCREEN = null;\nwindow.__ANIMATE_DIR = null;\nwindow.__SCREEN_STACK = [];\nwindow.__LAST_FN_CALLED = null;\nwindow.__THROTTELED_ACTIONS = [];\nwindow.__isMOBILE = window.innerWidth < 550 // this line takes up 80ms out of 360ms\nwindow.__isFIREFOX = navigator.userAgent.toLowerCase().indexOf('firefox') > -1 || typeof InstallTrigger !== 'undefined';\n// Adding temp fix - Will be moved to mystique-web\ntry {\n    window.__VIEWS = window.parent.__VIEWS?window.parent.__VIEWS:{};\n} catch (error) {\n    window.__VIEWS = {};\n}\nwindow.__VIEW_DIMENSIONS = {};\nwindow.__OBSERVERS = {};\nwindow.ZIndex = 0;\n\nwindow.callUICallback = function () {\n    let args = (arguments.length === 1 ? [arguments[0]] : Array.apply(null,\n        arguments));\n    var fName = args[0]\n    var functionArgs = args.slice(1)\n    var currTime;\n    var timeDiff;\n\n    if (window.__ALL_ONCLICKS && window.__ALL_ONCLICKS.indexOf(fName) != -1 && args[2] == \"feedback\" && JBridge && JBridge.setClickFeedback) {\n        return JBridge.setClickFeedback(args[1]);\n    }\n\n    if (window.__THROTTELED_ACTIONS && window.__THROTTELED_ACTIONS.indexOf(fName) == -1) {\n        window.__PROXY_FN[fName].apply(null, functionArgs);\n    } else if (window.__LAST_FN_CALLED && (fName == window.__LAST_FN_CALLED.fName)) {\n        currTime = getCurrTime();\n        timeDiff = currTime - window.__LAST_FN_CALLED.timeStamp;\n\n        if (timeDiff >= 300) {\n            window.__PROXY_FN[fName].apply(null, functionArgs);\n            window.__LAST_FN_CALLED.timeStamp = currTime;\n        } else {\n            console.warn(\"function throtteled\", fName);\n            console.warn(\"time diff\", timeDiff);\n        }\n    } else {\n        window.__PROXY_FN[fName].apply(null, functionArgs);\n        window.__LAST_FN_CALLED = {\n            timeStamp: (new Date()).getTime(),\n            fName: fName\n        }\n    }\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./index.js\");\n",""],"names":["module","exports","init","require","doms","handler","helpers","baseView","animations","callbackMapper","getOS","prestoMerge","merge","prestoClone","clone","prestoDom","webParseParams","iOSParseParams","parseParams","helper","window","__OS","web","ios","android","domAll","elem","__ref","createPrestoElement","props","id","__id","parseInt","type","focus","children","i","length","push","onResize","__resizeEvent","parentType","elemType","getDomToRender","res","JSON","stringify","cmdForAndroid","config","set","obj","cmd","runInUI","replace","console","error","_id","root","getRunInUICmd","prop","applyProp","element","attribute","value0","value1","Android","updateProperties","replaceView","removeProp","rep","viewGroups","indexOf","parentNode","__ui_id_sequence","getNewID","__PRESTO_ID","moveChild","child","parent","index","moveView","removeChild","removeView","addChild","warn","addViewToParent","addAttribute","removeAttribute","updateAttribute","insertDom","dom","cb","N","rootId","__ROOTSCREEN","idSet","callback","executePostProcess","__dui_screen","tag","err","JBridge","setShadow","shadowObject","updateProperty","addProperty","inflateView","computeChildDimens","List","postComputeLayoutDimens","preComputeLayoutDimens","postCompute","isChrome50","handleMatchParentChrome50","callbackInvoker","diffArray","addToContainerList","getContainer","getParentView","getScreenDimensions","namespace","width","offsetWidth","height","offsetHeight","getUIElement","ele","document","getElementById","findSiblingView","parentView","isOrientatationChanged","view","__VIEWS","itemView","listData","log","itemDatas","parse","parentId","parentElement","stopChild","siblingView","computeList","chrome50matchList","h","w","renderStyle","isListItem","unshift","Render","oldView","elements","invoke","getUpdatedChildren","splice","Error","viewElem","forEach","pv","pe","siblingElement","undefined","insertBefore","childNodes","nextSiblingElement","nextSibling","appendChild","hasAnimationProps","focusedElement","c","clearViewExternals","remove","parentElem","idx","childrenElem","childId","childElem","JOS_PRESTO_ID","getWindow","getDocument","setChildAttributes","holder","itemData","key","onClickFunction","onClick","hasOwnProperty","setList","holderViews","holderId","getItemView","oldItems","newItems","diffIndexes","limit","keys","Object","mergeHolderViews","finalHolder","createListView","data","changeItemView","cloneTemplate","childView","itemClick","onItemClick","getChildItemViewByIndex","utils","mapPropToStyle","ele_style","addProps","addFontProp","addTransformProp","addStrokeProp","addGradientProp","addRotateProp","addShadowProp","addTypeSpecificProp","addSetInputTypeProp","initializeShow","style","innerWidth","cursorType","textSize","fontSize","parseColors","backgroundColor","background","shouldShimmer","shimmerColor","backgroundDrawable","color","position","bottomFixed","topFixed","leftFixed","rightFixed","zIndex","cornerRadius","cornerRadii","split","radius","corners","map","bool","join","alpha","fontFamily","blurBackground","lineHeight","objectFit","clickable","display","ellipsize","typeface","fontStyle","match","fontName","slice","toLowerCase","fontWeight","transform","translationX","translationY","scaleX","scaleY","rotation","rotationX","rotationY","values","stroke","strokeMap","strokeTop","strokeRight","strokeBottom","strokeLeft","gradientObj","gradient","angle","colors","addTransitionValue","transition_val","String","a_duration","transitionTimingFunction","filter","Boolean","addSize","state","parentProps","elem_style","treatMatchParentAsWrapWidth","margin","toString","practicalWidth","isNaN","percentWidth","treatMatchParentAsWrapHeight","practicalHeight","percentHeight","minWidth","percentMinWidth","minHeight","percentMinHeight","maxWidth","percentMaxWidth","maxHeight","percentMaxHeight","addBorder","padding","a","addVisibility","visibility","addExpandability","anim_duration","calculateHeight","expandDuration","expand","addOverFlow","overFlowVisible","setGravityStylesForRow","gravity_row_style","gravity","setGravityStylesForColumn","gravity_col_style","addLayout","scrollBarX","scrollBarY","fixedWrap","orient","orientation","addImage","imageUrl","rawData","temp","ext","exts","includes","setAttribute","findArticle","article","nodeName","createElement","getArticle","isHtmlContent","innerHTML","textFromHtml","innerText","text","wordBreak","getTextStyle","letterSpacing","createTextElement","text_style","addTextProperties","value","addClassNameProperties","className","trim","classList","add","removeClassList","addFunctions","eventType","substring","elemCB","addEventListener","inputValue","e","stopPropagation","addAnimationAttributes","animation_transition","getAnimeTransition","animation_transform","getAnimeTransform","animation_opacity","getAnimeOpacity","afterTransition","opacity","setTimeout","rotateImage","shadowValues","shadow","shadowSeparator","shadowBlur","rWS","cS","shadowSpread","shadowOpacity","shadowOffset","x","y","shadowColor","convertColorToRgba","shadowType","r","g","b","inputType","inputTypeI","navigator","userAgent","search","elem_style_value","suffix","setElemAttributes","url","doc","hint","pattern","pop","separator","separatorRepeat","addPseudoClasses","styleElem","__STYLE_ID","getElementsByTagName","css","createTextNode","mapAttributes","initiateElement","tagName","isIPhone","autofocus","preponeSpace","separatorInputKeyDownHandlerNew","separatorInputKeyDownHandler","events","keyCode","target","oldEventListener","removeEventListener","popup","menuItems","menuBar","cssText","body","clickCb","menuDiv","textContent","InlineAnimationMapper","self","MAPPINGS","val","parseFloat","toFixed","CSSMarkupWriter","name","code","keyframes","keyframe","addCSSStyle","styleSheet","KEYFRAME_INDEX","manualFocus","debug","setAnimationStyles","hasAnimation","inlineAnimation","animationObjects","keyFrameShorthands","AnimationCSSMarkupWriter","onAnimationEnd","animation","animationObject","keyframeName","keyFrameFromMarkup","keyFrameToMarkup","entries","keyFrameCSS","__RENDERED_KEYFRAMES","keyFrameAnimShorthand","addHoverProps","hoverProps","onHover","replaceAll","hoverPath","setComputedStyles","computed_styles","activeDimen","weight","activeWeight","absolute","fromTop","fromBottom","fromLeft","fromRight","ev","inputId","input","oldValidValue","dataPattern","getAttribute","regexPattern","RegExp","selectionStart","selectionEnd","test","preventDefault","formattedString","factor","cursorPosition","regexString","newValue","finalData","setAttributes","firstRender","observer","__OBSERVERS","MutationObserver","item","afterRender","disconnect","observe","attributes","feedback","inflateTimings","lastUpdatedAt","setToolTip","tooltipText","tooltipGravity","tooltipElem","size","tooltipTextSize","createNewElement","subElem","element_style","border","checked","label","inputView","l","label_style","overflow","placeholder","isSeen","maxShimmerWidth","tagShimmerElementsForRender","elName","addToParentElement","setLayout","scrollLeft","scrollTop","getElementByView","newInflated","handleWrapContent","setAfterRenderFunctions","stopObserver","renderList","time","oldChild","newChildView","newChild","replaceChild","timeEnd","listItem","testID","postComputeLayoutDimens2","computedHeight","computedWidth","postComputeList","getValueFromPixel","pixel","list","currentStyle","getComputedStyle","marginTop","marginBottom","largestHeight","largestWidth","newDimen","elm","flexDirection","node","Math","max","hexColor","rgbaColor","convertHexToRgb","hex","fragments","fragmentTypes","mainRootView","clientHeight","clientWidth","container","s4","floor","random","content","containerType","BaseView","VIEW","AnimationTypes","SLIDE","slideHandler","SLIDE_VERTICAL","slideDownHandler","SIMPLE","simpleHandler","DEFAULT_ANIMATION","fromId","toId","direction","translationZ","ZIndex","cmdContainer","__HEIGHT","a_translationY","addCmd","__WIDTH","a_translationX","getAnimation","fromViewID","toViewId","animator","types","prototype","concat","Array","__SETFN","bind","_ref","render","selector","displayName","foundChildren","findRecurse","layout","__ID","arr","toast","handleSpecialChars","duration","cmdForWeb","jsx","fn","proxyFnName","__FN_INDEX","__PROXY_FN","oldContainerId","removeChildren","viewCtxObj","hasMatchParentChild","childs","dimen","childProp","hasWeightChild","computeRelativeLayout","viewCtx","pl","pr","pt","pb","alignParentLeft","alignParentRight","alignParentBottom","computeLinearlayout","isHorizontal","passiveDimen","hasWeight","hasMatchParent","first","run","flatten","reduce","prev","cur","more","some","isArray","__VIEW_DIMENSIONS","handle","ui","cacheDimen","shouldMove","cachedDimen","changed","o","m","WeakMap","n","get","getPrototypeOf","constructor","Function","Number","Promise","Symbol","WeakSet","v","ArrayBuffer","DataView","buffer","byteOffset","byteLength","Map","Set","from","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","Date","assign","il","arguments","invokeUICallback","args","apply","fName","functionArgs","currTime","timeDiff","__ALL_ONCLICKS","setClickFeedback","__THROTTELED_ACTIONS","proxyFnKey","charAt","__LAST_FN_CALLED","getCurrTime","timeStamp","getTime","__payload","service","common","rotate","count","len","call","flattenObject","ob","toReturn","flatObject","lookAndReplaceProp","str","output","start","end","substr","found","parseLayoutProps","t","ele_id","isMobile","cursor","src","bottom","top","left","right","borderRadius","textDecoration","borderTop","borderRight","borderBottom","borderLeft","transition","textAlign","contentEditable","contenteditable","__isMOBILE","__isFIREFOX","autocomplete","disabled","myAttr","pointerEvents","setDefaults","this_inlineAnimation","con","modifyTranslation","animationArray","fromX","toX","fromY","toY","getSetType","PrestoUI","getScreenDetails","details","screen_width","screen_height","__DEVICE_DETAILS","guid","__COM_EVENT","__COM_RENDERED","SWITCH_GLOBAL","DRP","DSB","DB","NAVBAR","__COM_CLASS_GROUP","WRAPPER","NAVBAR_ITEM","NAVBAR_ITEM_WITH_SUB","NAVBAR_SUB","NAVBAR_SUB_RIGHT","NAVBAR_SUB_ITEM","DRP_BODY","DB_FULL_BODY","DB_BODY","DB_OPTIONS","DB_OPTION","DSB_FULL_BODY","DSB_BODY","DSB_OPTIONS","DSB_OPTION","DSB_SEARCH_WRAP","DSB_SEARCH","SWITCH","SWITCH_BODY","SWITCH_SLIDER","BT","BT_DISABLED","__COM_COLOR_GROUP","BG","ACTIVE_BG","ACTIVE_COLOR","INACTIVE_COLOR","BORDER_COLOR","ACTIVE_BORDER_COLOR","SEARCH_COLOR","INACTIVE_SWITCH","ACTIVE_SWITCH","BT_BORDER_COLOR","BT_BG_COLOR","BT_COLOR","__COM_ACTIVE","__MODAL_PROPS","__CONTENTMODAL_CLASS","__OPENMODAL_CLASS","__BACKDROPMODAL_CLASS","__DISABLEDBACKDROP_CLASS","__SHOWNMODAL_CLASS","__FADEMODAL_CLASS","__SLIDEMODAL_CLASS","onclick","event","contains","onDismiss","duiShowScreen","popupMenu","getElementsByClassName","__duiShowScreen","__COLOR_INDEX","__FONT_INDEX","__RECT_INDEX","RECT_INDEX","__VIEW_INDEX","__IMAGE_INDEX","__POINT_INDEX","__LAYER_INDEX","__SIZE_INDEX","__FN_MAP","__NODE_ID","__SCREEN_INDEX","__CACHED_SCREENS","__SCREEN_COUNT","__CURR_SCREEN","__PREV_SCREEN","__ANIMATE_DIR","__SCREEN_STACK","InstallTrigger","callUICallback"],"sourceRoot":""}