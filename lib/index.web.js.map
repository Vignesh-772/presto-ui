{"version":3,"sources":["webpack://presto-ui/./index.js","webpack://presto-ui/./src/PrestoUIInterface.js","webpack://presto-ui/./src/WEB/AndroidInterface.js","webpack://presto-ui/./src/WEB/ListPresto.js","webpack://presto-ui/./src/WEB/MapAttributes.js","webpack://presto-ui/./src/WEB/Render.js","webpack://presto-ui/./src/WEB/Utils.js","webpack://presto-ui/./src/animations.js","webpack://presto-ui/./src/baseView.js","webpack://presto-ui/./src/compute.js","webpack://presto-ui/./src/doms/index.js","webpack://presto-ui/./src/doms/web.js","webpack://presto-ui/./src/handler.js","webpack://presto-ui/./src/helper.js","webpack://presto-ui/./src/helpers/common/callbackInvoker.js","webpack://presto-ui/./src/helpers/common/callbackMapper.js","webpack://presto-ui/./src/helpers/common/index.js","webpack://presto-ui/./src/helpers/index.js","webpack://presto-ui/./src/helpers/web/index.js","webpack://presto-ui/./src/helpers/web/parseParams.js","webpack://presto-ui/./src/init.js","webpack://presto-ui/webpack/bootstrap","webpack://presto-ui/webpack/startup"],"names":["module","exports","init","require","doms","handler","helpers","baseView","animations","callbackMapper","getOS","prestoMerge","prestoClone","webParseParams","prestoDom","helper","domAll","elem","__ref","createPrestoElement","props","id","__id","parseInt","type","clone","focus","children","i","length","push","__OS","onResize","window","__resizeEvent","parentType","applyProp","element","attribute","set","prop","value0","value1","Android","runInUI","replaceView","removeProp","rep","indexOf","root","__ui_id_sequence","getNewID","__PRESTO_ID","addAttribute","web","parseParams","getDomToRender","getRunInUICmd","moveChild","child","parent","index","moveView","removeChild","removeView","addChild","console","warn","addViewToParent","removeAttribute","updateProperty","addProperty","insertDom","dom","cb","parentNode","N","rootId","__ROOTSCREEN","idSet","callback","__dui_screen","tag","err","JBridge","setShadow","shadowObject","JSON","stringify","executePostProcess","inflateView","computeChildDimens","List","preComputeLayoutDimens","postComputeLayoutDimens","postCompute","callbackInvoker","diffArray","addToContainerList","getContainer","getParentView","view","replace","namespace","parentElement","document","getElementById","parentView","__VIEWS","siblingView","splice","computeList","pv","pe","unshift","siblingElement","undefined","insertBefore","childNodes","nextSiblingElement","nextSibling","appendChild","focusedElement","c","debug","invoke","getScreenDimensions","width","offsetWidth","height","offsetHeight","getUIElement","cmd","itemView","listData","log","itemDatas","parse","merge","parentId","stopChild","findSiblingView","renderStyle","isListItem","Render","oldView","error","Error","getUpdatedChildren","forEach","viewElem","clearViewExternals","remove","idx","parentElem","childrenElem","childId","childElem","JOS_PRESTO_ID","getWindow","getDocument","availableHolders","setChildAttributes","holder","itemData","onClick","setList","holderViews","holderId","getItemView","changeItemView","oldItems","newItems","diffIndexes","keys","Object","key","createListView","data","finalHolder","mergeHolderViews","cloneTemplate","childView","getChildItemViewByIndex","utils","initializeShow","style","hasOwnProperty","createTextElement","config","text_style","text","letterSpacing","getTextStyle","article","nodeName","toLowerCase","createElement","findArticle","isHtmlContent","innerHTML","textFromHtml","innerText","wordBreak","display","getArticle","getAnimeTransform","elem_style_value","getAnimeOpacity","getAnimeTransition","isNaN","suffix","transitionTimingFunction","mapPropToStyle","ele_style","innerWidth","cursorType","textSize","fontSize","parseColors","backgroundColor","background","backgroundDrawable","color","position","bottomFixed","topFixed","leftFixed","rightFixed","zIndex","cornerRadius","alpha","fontFamily","blurBackground","lineHeight","objectFit","clickable","ellipsize","addProps","typeface","fontStyle","match","slice","fontWeight","addFontProp","transform","translationX","translationY","scaleX","scaleY","rotation","rotationX","rotationY","addTransformProp","values","stroke","split","strokeTop","strokeRight","strokeBottom","strokeLeft","addStrokeProp","gradientObj","gradient","angle","join","addGradientProp","rotateImage","addRotateProp","shadowValues","shadow","shadowSeparator","shadowBlur","rWS","cS","shadowSpread","shadowOffset","x","y","shadowColor","convertColorToRgba","shadowType","r","g","b","a","addShadowProp","visibility","gravity","margin","toString","addTypeSpecificProp","ele","inputType","inputTypeI","setAttribute","addSetInputTypeProp","setElemAttributes","url","navigator","userAgent","doc","hint","pattern","pop","separator","separatorRepeat","addAnimationAttributes","elem_style","animation_transition","animation_transform","animation_opacity","afterTransition","opacity","setTimeout","addTransitionValue","String","a_duration","filter","Boolean","addSize","state","treatMatchParentAsWrapWidth","practicalWidth","percentWidth","treatMatchParentAsWrapHeight","practicalHeight","percentHeight","minWidth","percentMinWidth","minHeight","percentMinHeight","maxWidth","percentMaxWidth","maxHeight","percentMaxHeight","addBorder","padding","map","addVisibility","addExpandability","expand","addOverFlow","overFlowVisible","addLayout","scrollBarX","fixedWrap","orient","orientation","gravity_row_style","setGravityStylesForRow","gravity_col_style","setGravityStylesForColumn","scrollBarY","addImage","imageUrl","rawData","temp","ext","includes","addTextProperties","value","addClassNameProperties","className","trim","classList","add","obj","removeClassList","addFunctions","eventType","substring","elemCB","addEventListener","e","stopPropagation","mapAttributes","separatorInputKeyDownHandlerNew","ev","inputId","target","input","oldValidValue","dataPattern","getAttribute","regexPattern","RegExp","selectionStart","selectionEnd","test","preventDefault","formattedString","cursorPosition","separatorInputKeyDownHandler","regexString","newValue","finalData","setAttributes","firstRender","tagName","isIPhone","autofocus","preponeSpace","events","keyCode","initiateElement","inflateTimings","lastUpdatedAt","addToParentElement","subElem","getElementByView","newInflated","element_style","handleWrapContent","border","checked","label","inputView","l","label_style","overflow","placeholder","elName","tooltipText","tooltipGravity","tooltipElem","size","tooltipTextSize","setToolTip","createNewElement","scrollLeft","scrollTop","setLayout","computed_styles","activeDimen","weight","activeWeight","absolute","fromTop","fromBottom","fromLeft","fromRight","setComputedStyles","animation_style","hasAnimation","keyframeName","styleElem","__STYLE_ID","inlineAnimation","css","fromX","fromY","fromAlpha","fromScale","fromScaleX","fromScaleY","fromRotation","fromRotationX","fromRotationY","toX","toY","toAlpha","toScale","toScaleX","toScaleY","toRotation","toRotationX","toRotationY","styleSheet","cssText","createTextNode","getElementsByTagName","duration","parseFloat","toFixed","repeatCount","interpolator","__RENDERED_KEYFRAMES","setAnimationStyles","setAfterRenderFunctions","stopObserver","afterRender","__OBSERVERS","MutationObserver","item","observer","disconnect","observe","attributes","feedback","renderList","time","oldChild","newChildView","newChild","replaceChild","listItem","postComputeLayoutDimens2","computedHeight","computedWidth","postComputeList","getValueFromPixel","pixel","newDimen","largestHeight","largestWidth","list","currentStyle","getComputedStyle","marginTop","marginBottom","convertHexToRgb","hex","fragments","fragmentTypes","mainRootView","clientHeight","clientWidth","container","s4","Math","floor","random","content","containerType","VIEW","AnimationTypes","SLIDE","name","fromId","toId","direction","cmdContainer","__WIDTH","a_translationX","translationZ","ZIndex","addCmd","SLIDE_VERTICAL","__HEIGHT","a_translationY","SIMPLE","DEFAULT_ANIMATION","types","getAnimation","fromViewID","toViewId","animator","prototype","this","concat","Array","BaseView","__SETFN","bind","_ref","render","selector","displayName","foundChildren","findRecurse","layout","__ID","arr","toast","handleSpecialChars","cmdForWeb","jsx","fn","proxyFnName","__FN_INDEX","__PROXY_FN","oldContainerId","removeChildren","viewCtxObj","w","h","computeLinearlayout","parentProps","hasWeight","childs","hasWeightChild","hasMatchParent","dimen","childProp","hasMatchParentChild","first","alignParentLeft","alignParentRight","alignParentBottom","computeRelativeLayout","flatten","reduce","prev","cur","more","some","isArray","__VIEW_DIMENSIONS","handle","ui","shouldMove","cachedDimen","changed","cacheDimen","il","arguments","o","m","WeakMap","n","get","getPrototypeOf","constructor","Function","Number","Promise","Symbol","WeakSet","v","ArrayBuffer","DataView","buffer","byteOffset","byteLength","Map","Set","from","entries","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","Date","assign","currTime","timeDiff","args","apply","fName","functionArgs","__ALL_ONCLICKS","setClickFeedback","__THROTTELED_ACTIONS","__LAST_FN_CALLED","getCurrTime","timeStamp","getTime","__payload","service","common","lookAndReplaceProp","str","val","output","start","end","substr","found","parseLayoutProps","t","ele_id","animation","isMobile","cursor","src","bottom","top","left","right","borderRadius","textDecoration","fontName","borderBottom","borderLeft","borderRight","borderTop","transition","textAlign","contentEditable","contenteditable","colors","__isMOBILE","__isFIREFOX","autocomplete","disabled","myAttr","pointerEvents","rotate","count","len","call","getSetType","setDefaults","con","modifyTranslation","this_inlineAnimation","PrestoUI","__DEVICE_DETAILS","screen_width","screen_height","guid","__COM_EVENT","__COM_RENDERED","SWITCH_GLOBAL","DRP","DSB","DB","NAVBAR","__COM_CLASS_GROUP","WRAPPER","NAVBAR_ITEM","NAVBAR_ITEM_WITH_SUB","NAVBAR_SUB","NAVBAR_SUB_RIGHT","NAVBAR_SUB_ITEM","DRP_BODY","DB_FULL_BODY","DB_BODY","DB_OPTIONS","DB_OPTION","DSB_FULL_BODY","DSB_BODY","DSB_OPTIONS","DSB_OPTION","DSB_SEARCH_WRAP","DSB_SEARCH","SWITCH","SWITCH_BODY","SWITCH_SLIDER","BT","BT_DISABLED","__COM_COLOR_GROUP","BG","ACTIVE_BG","ACTIVE_COLOR","INACTIVE_COLOR","BORDER_COLOR","ACTIVE_BORDER_COLOR","SEARCH_COLOR","INACTIVE_SWITCH","ACTIVE_SWITCH","BT_BORDER_COLOR","BT_BG_COLOR","BT_COLOR","__COM_ACTIVE","__MODAL_PROPS","__CONTENTMODAL_CLASS","__OPENMODAL_CLASS","__BACKDROPMODAL_CLASS","__DISABLEDBACKDROP_CLASS","__SHOWNMODAL_CLASS","__FADEMODAL_CLASS","__SLIDEMODAL_CLASS","onclick","event","contains","body","onDismiss","__duiShowScreen","popupMenu","getElementsByClassName","__NODE_ID","__SCREEN_INDEX","__CACHED_SCREENS","__SCREEN_COUNT","__CURR_SCREEN","__PREV_SCREEN","__ANIMATE_DIR","__SCREEN_STACK","InstallTrigger","callUICallback","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"mappings":"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","file":"index.web.js","sourcesContent":["/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\nmodule.exports = {\n\tinit: require(\"./src/init\"), \n\tdoms : require(\"./src/doms\"),\n\thandler : require(\"./src/handler\"),\n\thelpers : require(\"./src/helpers\"),\n\tbaseView : require(\"./src/baseView\"),\n\tanimations: require('./src/animations'),\n\tcallbackMapper: require('./src/helpers/common/callbackMapper'),\n\tgetOS: require('./src/helper').getOS,\n\tprestoMerge: require('./src/helper').merge,\n\tprestoClone: require('./src/helper').clone\n};\n","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nvar prestoDom = require(\"./doms\");\nvar helpers = require(\"./helpers\")\nvar webParseParams;\nvar iOSParseParams;\nvar parseParams;\nconst helper = require('./helper');\n\nif (window.__OS === \"WEB\") {\n  webParseParams = helpers.web.parseParams;\n} else if (window.__OS === \"IOS\") {\n  iOSParseParams = helpers.ios.parseParams;\n} else if (window.__OS === \"ANDROID\") {\n  parseParams = helpers.android.parseParams;\n}\n\nfunction domAll(elem) {\n  if (!elem.__ref) {\n    elem.__ref = createPrestoElement();\n  }\n\n  if (elem.props.id) {\n    elem.__ref.__id = parseInt(elem.props.id, 10) || elem.__ref.__id;\n  }\n\n  var type = helper.clone(elem.type,null);\n  var props = helper.clone(elem.props,null);\n\n  if (props.focus == false &&  window.__OS === \"ANDROID\") {\n    delete props.focus;\n  }\n\n  var children = [];\n\n  for (var i = 0; i < elem.children.length; i++) {\n    children.push(domAll(elem.children[i]));\n  }\n\n\n  if (__OS == \"WEB\" && props.onResize) {\n    window.__resizeEvent = props.onResize;\n  }\n\n  props.id = elem.__ref.__id;\n  if(elem.parentType && window.__OS == \"ANDROID\")\n    return prestoDom({elemType: type, parentType: elem.parentType}, props, children);\n\n  return prestoDom(type, props, children);\n}\n\nfunction getDomToRender(elem) {\n  var res = domAll(elem);\n  if (window.__OS == \"ANDROID\") {\n    return JSON.stringify(res);\n  } else {\n    return res;\n  }\n}\n\n\n// Not exported\nfunction cmdForAndroid(config, set, type) {\n  if (set) {\n    if (config.id) {\n      var obj = parseParams(type, config, \"set\");\n      var cmd = obj.runInUI.replace(\"this->setId\", \"set_view=ctx->findViewById\").replace(/this->/g, \"get_view->\");\n      cmd = cmd.replace(/PARAM_CTR_HOLDER[^;]*/g, \"get_view->getLayoutParams;\");\n      obj.runInUI = cmd;\n      return obj;\n    } else {\n      console.error(\"ID null, this is not supposed to happen. Debug this or/and raise a issue in bitbucket.\");\n    }\n    return {};\n  }\n\n  var _id = config.id;\n  var cmd = \"set_view=ctx->findViewById:i_\" + _id + \";\";\n  // var runInUI;\n  delete config.id;\n  config.root = \"true\";\n  var obj = parseParams(type, config, \"get\");\n  obj.runInUI = cmd + obj.runInUI + ';';\n  obj.id = _id;\n  return obj;\n}\n\nfunction getRunInUICmd(prop) {\n  var cmd;\n  if (window.__OS == \"ANDROID\") {\n    cmd = cmdForAndroid(prop, true, \"linearLayout\").runInUI;\n  } else if (window.__OS == \"IOS\"){\n    cmd = prop;\n  } else {\n    cmd = webParseParams(\"linearLayout\", prop, \"set\");\n  }\n  return cmd;\n}\n\n\n\n// Not exported\nfunction applyProp(element, attribute, set) {\n  var prop = {\n    id: element.__ref.__id\n  }\n  prop[attribute.value0] = attribute.value1;\n\n  if (attribute.value0 == 'focus' && attribute.value1 == false &&  window.__OS == \"ANDROID\") {\n    return;\n  }\n\n  if (window.__OS == \"ANDROID\") {\n    var cmd = cmdForAndroid(prop, set, element.type);\n    if (Android.updateProperties) {\n      Android.updateProperties(JSON.stringify(cmd));\n    } else {\n      Android.runInUI(cmd.runInUI, null);\n    }\n  } else if (window.__OS == \"IOS\"){\n    Android.runInUI(prop);\n  } else {\n    Android.runInUI(webParseParams(\"linearLayout\", prop, \"set\"));\n  }\n  // Android.runInUI(parseParams(\"linearLayout\", prop, \"set\"));\n}\n\nfunction replaceView(element, attribute, removeProp) {\n  // console.log(\"REPLACE VIEW\", element.__ref.__id, element.props);\n  var props = helper.clone(element.props,null);\n  props.id = element.__ref.__id;\n  var rep;\n  var viewGroups = [\"linearLayout\", \"relativeLayout\", \"scrollView\", \"frameLayout\", \"horizontalScrollView\"];\n\n  if (viewGroups.indexOf(element.type) != -1){\n    props.root = true;\n    rep = prestoDom(element.type, props, []);\n  } else if (window.__OS == \"ANDROID\") {\n    rep = prestoDom({elemType: element.type, parentType: element.parentNode.type}, props, []);\n  } else {\n    rep = prestoDom(element.type, props, []);\n  }\n  if(window.__OS == \"ANDROID\"){\n    Android.replaceView(JSON.stringify(rep), element.__ref.__id);\n  } else {\n    Android.replaceView(rep, element.__ref.__id);\n  }\n}\n\n\nfunction createPrestoElement() {\n    if(typeof(window.__ui_id_sequence) != \"undefined\" && window.__ui_id_sequence != null) {\n        return { __id : ++window.__ui_id_sequence };\n    } else {\n        window.__ui_id_sequence = typeof Android.getNewID == \"function\" ? parseInt(Android.getNewID()) * 1000000 : window.__PRESTO_ID ;\n        return { __id : ++window.__ui_id_sequence };\n    }\n};\n\n\nfunction moveChild(child, parent, index) {\n  Android.moveView(child.__ref.__id, index);\n}\n\n\n\nfunction removeChild(child, parent, index) {\n  // console.log(\"Remove child :\", child.type);\n  Android.removeView(child.__ref.__id + \"\");\n}\n\nfunction addChild(child, parent, index) {\n  if(child.type == null) {\n    console.warn(\"child null\");\n  }\n  // console.log(\"Add child :\", child.__ref.__id, child.type);\n  var viewGroups = [\"linearLayout\", \"relativeLayout\", \"scrollView\", \"frameLayout\", \"horizontalScrollView\"];\n  if (window.__OS == \"ANDROID\") {\n    if (viewGroups.indexOf(child.type) != -1){\n      child.props.root = true;\n    } else {\n      child.parentType = parent.type;\n    }\n    Android.addViewToParent(parent.__ref.__id + \"\", JSON.stringify(domAll(child)), index, null, null);\n  }\n  else\n    Android.addViewToParent(parent.__ref.__id, domAll(child), index, null, null);\n}\n\nfunction addAttribute(element, attribute) {\n  // console.log(\"add attr :\", attribute);\n  element.props[attribute.value0] = attribute.value1;\n  applyProp(element, attribute, true);\n}\n\nfunction removeAttribute(element, attribute) {\n  // console.log(\"remove attr :\", attribute);\n  replaceView(element, attribute, true);\n}\n\nfunction updateAttribute(element, attribute) {\n  // console.log(\"update attr :\", attribute);\n  element.props[attribute.value0] = attribute.value1;\n\n  applyProp(element, attribute, false);\n}\n\n\nfunction insertDom(root, dom, cb) {\n  root.children.push(dom);\n  dom.parentNode = root;\n  dom.__ref = createPrestoElement();\n  window.N = root;\n\n  var rootId = window.__ROOTSCREEN.idSet.root;\n\n  dom.props.root = true;\n\n  var length = window.__ROOTSCREEN.idSet.child.push(dom.__ref.__id);\n\n  var callback = window.callbackMapper(executePostProcess(cb));\n  if (window.__OS == \"ANDROID\") {\n    Android.addViewToParent(rootId + \"\", JSON.stringify(domAll(dom)), length - 1, callback, null);\n  }\n  else {\n    Android.addViewToParent(rootId, domAll(dom), length - 1, callback, null);\n  }\n\n  return dom.__ref.__id;\n\n}\n\n\nfunction executePostProcess(cb) {\n  return function() {\n    cb();\n\n    if(window.__dui_screen && window[\"afterRender\"]) {\n      for (var tag in window[\"afterRender\"][window.__dui_screen]) {\n        try {\n          window[\"afterRender\"][window.__dui_screen][tag]()();\n          window[\"afterRender\"][window.__dui_screen][\"executed\"] = true;\n        }\n        catch (err) {\n          console.warn(err);\n        }\n      }\n    }\n\n    if (JBridge && JBridge.setShadow) {\n      for (var tag in window.shadowObject) {\n        JBridge.setShadow(window.shadowObject[tag][\"level\"],\n            JSON.stringify(window.shadowObject[tag][\"viewId\"]),\n            JSON.stringify(window.shadowObject[tag][\"backgroundColor\"]),\n            JSON.stringify(window.shadowObject[tag][\"blurValue\"]),\n            JSON.stringify(window.shadowObject[tag][\"shadowColor\"]),\n            JSON.stringify(window.shadowObject[tag][\"dx\"]),\n            JSON.stringify(window.shadowObject[tag][\"dy\"]),\n            JSON.stringify(window.shadowObject[tag][\"spread\"]),\n            JSON.stringify(window.shadowObject[tag][\"factor\"])\n        );\n      }\n    } \n  }\n}\n\nmodule.exports = {\n  domAll: domAll,\n  getDomToRender: getDomToRender,\n  getRunInUICmd: getRunInUICmd,\n  replaceView: replaceView,\n  createPrestoElement: createPrestoElement,\n  moveChild: moveChild,\n  removeChild: removeChild,\n  addChild: addChild,\n  addAttribute: addAttribute,\n  removeAttribute: removeAttribute,\n  updateProperty: updateAttribute,\n  addProperty: addAttribute,\n  insertDom: insertDom\n};\n\n","/*\n * Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n * JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n *\n * This file is part of JUSPAY Platform.\n *\n * JUSPAY Platform is free software: you can redistribute it and/or modify\n * it for only educational purposes under the terms of the GNU Affero General\n * Public License (GNU AGPL) as published by the Free Software Foundation,\n * either version 3 of the License, or (at your option) any later version.\n * For Enterprise/Commerical licenses, contact <info@juspay.in>.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n * be liable for all damages without limitation, which is caused by the\n * ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n * damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n * The end user has NO right to claim any indemnification based on its use\n * of Licensed Software. See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n */\n\nvar {\n  inflateView,\n  computeChildDimens,\n  List,\n  postComputeLayoutDimens,\n  preComputeLayoutDimens,\n  postCompute\n} = require(\"./Render\");\nvar helper = require('../helper');\nvar callbackInvoker = require(\"../helpers/common/callbackInvoker\");\nconst { diffArray } = require(\"./ListPresto\");\n\nvar {addToContainerList, getContainer, getParentView} = require('./Utils')\n\nfunction getScreenDimensions(namespace) {\n  let element = getContainer(namespace);\n  return JSON.stringify({\n    width: element.offsetWidth,\n    height: element.offsetHeight\n  });\n}\n\n// Due to jos, PrestoDOM's document is different from the DOM Document which actaully contains the nodes.\n// This utility function allows PrestoDOM to acquire an actual DOM object.\nfunction getUIElement(id, namespace){\n  var ele = document.getElementById(id);\n  return ele;\n}\n\nfunction findSiblingView(parentView, id) {\n  for (let i = 0; i < parentView.children.length; i++) {\n    if(parentView.children[i].props.id == id){\n      if(i != 0)\n        return parentView.children[i-1]\n      else\n        return   parentView\n    }\n  }\n  return null;\n}\n\nfunction isOrientatationChanged(props){\n  if(props['orientation'])\n    return false;\n  return true;\n}\n\nfunction runInUI(cmd, namespace) {\n  if (typeof cmd == \"string\")\n    return\n    let id = cmd.id\n    if(id){\n      let elem = document.getElementById(id)\n\n      if(elem){\n        let view = window.__VIEWS[id]\n        if(cmd.itemView){\n          return;\n        }\n        if(!cmd.listData && view.listData)\n          return;\n\n        if(cmd.listData){\n          //diffing arrrays to find the difference between old data and new data\n          //console.time('diffArray')\n          console.log(\"diff\")\n          view.props.diffArray=List.diffArray(view.props.itemDatas,JSON.parse(cmd.listData));\n          //console.dir(view.props.diffArray)\n          //console.timeEnd('diffArray')\n\n          //no difference in data\n          if(view.props.diffArray==[]){\n            return;\n          }\n        }\n        view.props = helper.merge(view.props, cmd)\n\n        let parentId = null\n        let parentElement = null\n        let parentView = null\n\n        let stopChild = !isOrientatationChanged(cmd);\n        parentId = elem.parentNode.id\n\n        if(parentId){\n          parentView = window.__VIEWS[parentId]\n          parentElement = document.getElementById(parentId)\n\n          if(parentElement && parentView){\n            let siblingView = findSiblingView(parentView,id);\n            computeChildDimens(parentView);\n            let computeList = [];\n            // if(view.type == \"relativeLayout\")\n            //   computeList.push(view.props.id);\n            inflateView({view, parentElement, siblingView, renderStyle: true,stopChild,isListItem:true, computeList});\n            let parent = view.parent;\n            while(parent && parent.type==\"relativeLayout\"){\n              computeList.unshift(view.parent.props.id)\n              parent=parent.parent;\n            }\n            postCompute(computeList);\n          }\n        }\n      }\n    }\n    \n  //recompute()\n  //Render.runInUI(cmd)\n}\n\nfunction Render(view, cb, namespace) {\n  let parentElement = getContainer(namespace);\n  // console.debug(\"presto content element found?? \",parentElement);\n  let parentView = getParentView(namespace, view);\n  \n  if(parentView.oldView) {\n    addViewToParent(parentElement.id, view, parentView.children.indexOf(view), cb, false)\n  } else {\n    computeChildDimens(parentView);\n    let computeList = [];\n    const elem = inflateView({view, parentElement,computeList});\n    postCompute(computeList);\n    const elements= document.getElementById('content');\n    if (cb) callbackInvoker.invoke(cb);\n  }\n}\n\nfunction getUpdatedChildren(parent, view, index) {\n  var children = parent.children;\n  children.splice(children.indexOf(view), 1);\n  children.splice(index, 0, view);\n  return children;\n}\n\nfunction moveView(id, index) {\n  if (!window.__VIEWS[id]) {\n    return console.error(new Error(\"MoveView: Invalid view ID: \" + id));\n  }\n  var view = window.__VIEWS[id];\n  var viewElem = document.getElementById(id);\n  var parentId = viewElem.parentNode.id;\n  var parent = window.__VIEWS[parentId];\n  var children = getUpdatedChildren(parent,view,index);\n\n  computeChildDimens(parent)\n  children.forEach(child => {\n    let computeList = [];\n    console.log(\"moving\")\n    inflateView({view:child, parentElement : parent, computeList})\n    postCompute(computeList);\n  })\n}\n\n\n// Android.addViewToParent(rootId, dom_all, length (window.__ROOTSCREEN.idSet.child) - 1 , callback, null); -- call to this function\nfunction addViewToParent(id, view, index, cb, replace, namespace) {\n  // console.log(\"addViewToParent document location is\",document.location);\n  let parentElement = document.getElementById(id)\n  let parentView = window.__VIEWS[id]\n  view.parent = parentView;\n  let siblingView = null\n\n  if(!parentElement || !parentView)\n    return\n\n  parentView.children.splice(index, 0, view)\n\n  if(index == 0)\n    siblingView = parentView\n  else\n    siblingView = parentView.children[index-1]\n\n  preComputeLayoutDimens(parentView)\n  let computeList = []\n  var elem = inflateView({view,  siblingView, namespace, computeList}) // pass parent element as null, so that the element created doesn't immediately get attached to the DOM\n  var pv = parentView\n  var pe = parentElement\n  while(pv && pv.type == \"relativeLayout\") {\n    // postComputeLayoutDimens(pv, pe);\n    computeList.unshift(pv.props.id);\n    pv = pv.parent\n    pe = pe.parentElement\n  }\n  // attach the elem to live dom once the elem has been constructed (parentElem is the liveDOM)\n  if (parentElement) {\n    let siblingElement = siblingView ? document.getElementById(siblingView.props.id) : null;\n\n    if (siblingElement && siblingElement != undefined) {\n        if (parentElement == siblingElement) { // Prepend\n            parentElement.insertBefore(elem, parentElement.childNodes[0]);\n          }\n        else { // Insert in specified position\n            let nextSiblingElement = siblingElement.nextSibling;\n            parentElement.insertBefore(elem, nextSiblingElement);\n          }\n      }\n    else {\n        parentElement.appendChild(elem);\n    }\n  }\n\n  if (window.focusedElement !== undefined){\n    var c = document.getElementById(window.focusedElement);\n    window.focusedElement = undefined;\n    if (c) {\n      console.debug(\"now focusing\");\n      c.focus();\n    }\n  }\n  postCompute(computeList);\n  if (cb) callbackInvoker.invoke(cb);\n}\n\nfunction removeView(id, namespace) {\n  let viewElem = document.getElementById(id);\n  if(!viewElem){\n    helper.clearViewExternals(view)\n    return\n  }\n\n  let parentId = viewElem.parentNode.id\n  if(!parentId){\n    helper.clearViewExternals(view)\n    viewElem.remove()\n    return\n  }\n\n  let parentElem = document.getElementById(parentId);\n  if(!parentElem){\n    helper.clearViewExternals(view)\n    viewElem.remove()\n    return\n  }\n\n  let view = window.__VIEWS[id]\n\n  if(!view || !view.type)\n    return\n\n  let parent = null\n  let idx\n\n  parent = window.__VIEWS[parentId]\n  if (parent) {\n    idx = parent.children.indexOf(view)\n    parent.children.splice(idx, 1)\n    helper.clearViewExternals(view)\n  }\n  viewElem.remove()\n}\n\nfunction replaceView(view, id, namespace) {\n  let elem = document.getElementById(id)\n  if(!elem)\n    return\n\n  let parentId = elem.parentNode.id\n  let parentElem = document.getElementById(parentId)\n  let parentView = window.__VIEWS[parentId]\n\n  let oldView = null\n  let siblingView = null\n\n  for (let i = 0; i < parentView.children.length; i++) {\n    if(parentView.children[i].props.id == id){\n      oldView = parentView.children[i]\n\n      if(i != 0)\n        siblingView = parentView.children[i-1]\n      else\n        siblingView = parentView\n      break;\n    }\n  }\n\n  if(!oldView)\n    return\n\n  /* Get Children */\n  let childrenElem = []\n  let children = oldView.children\n\n  if(elem && children){\n    for(let i = 0; i < children.length; i++){\n      let childId = children[i].props.id\n      let childElem = document.getElementById(childId)\n\n      if(childElem)\n        childrenElem.push(childElem)\n    }\n  }\n  /* Get Children End */\n\n  oldView.props = view.props\n  parentElem.removeChild(elem)\n  let computeList = []\n  inflateView({view:oldView, parentElement: parentElem, siblingView, stopChild : true, computeList});\n  postCompute(computeList);\n  window.__VIEWS[id] = oldView\n\n  /* Append Children */\n  elem = document.getElementById(id)\n\n  if(elem && childrenElem.length > 0){\n    for(let i = 0; i < childrenElem.length; i++){\n      elem.appendChild(childrenElem[i])\n    }\n  }\n  /* Append Children End */\n}\n\n// function recompute() {\n//   const rootnode = document.getElementById('content');\n//   const child = rootnode.firstElementChild;\n//   const rootview = window.__VIEWS[child.id];\n//   Render(rootview, null);\n// }\n\nfunction getNewID() {\n  window.JOS_PRESTO_ID = window.JOS_PRESTO_ID || 1;\n  return window.JOS_PRESTO_ID++;\n}\n\nfunction getWindow() {\n  return window;\n}\n\nfunction getDocument() {\n  return document;\n}\n\nmodule.exports = {\n  addToContainerList : addToContainerList,\n  \n  getScreenDimensions: getScreenDimensions,\n\n  getUIElement : getUIElement,\n\n  runInUI: runInUI,\n\n  Render: Render,\n\n  addViewToParent: addViewToParent,\n  \n  moveView: moveView,\n\n  removeView: removeView,\n\n  replaceView: replaceView,\n\n  getNewID: getNewID,\n\n  getWindow: getWindow,\n\n  getDocument: getDocument\n};","\n\n//view.data= itemView && holderViews\n//itemView=template\n//holderViews= array of props that will be changed from the template\n\nconst {invoke} = require(\"../helpers/common/callbackInvoker\")\n\nlet availableHolders = ['text','imageUrl', 'packageIcon', 'background', 'color', 'visibility', 'textSize', 'fontStyle', 'alpha','onClick'];\n\n\n//sets the holder attributes\nlet setChildAttributes = function(view,holder,itemData,index){\n    \n\n    for(let i=0;i<availableHolders.length;i++){\n        \n        let prop = availableHolders[i];\n\n        if(holder[prop] )\n        {\n            if(prop =='onClick'){\n                let onClickFunction =()=> invoke(holder[prop],index); \n                view.props.onClick = onClickFunction;\n            }\n            else if(itemData[holder[prop]])\n                view.props[prop] = itemData[holder[prop]]\n            \n        }\n    }\n}\nlet setList = function(view,holderViews,itemData,index){\n    if(holderViews[view.props.holderId]){\n        setChildAttributes(view,holderViews[view.props.holderId], itemData,index);\n    }\n    for(let i=0;i<view.children.length;i++){\n        setList(view.children[i], holderViews, itemData,index);\n    }\n    return view;\n    \n}\n\n//gets the mapped view\nlet getItemView = function(view,holderViews,itemData,index){\n\n    if(holderViews[view.props.holderId]  ){\n        setChildAttributes(view,holderViews[view.props.holderId], itemData,index);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              \n    }\n    if(view.children)\n    for(let i=0;i<view.children.length;i++){\n        setList(view.children[i], holderViews, itemData, index);\n    }\n    return view;\n    \n}\n\n\n\n//returns \"filter\" if arrays are of different length\n//returns the indexes which have different elements in it\nfunction diffArray(oldItems,newItems){\n    if(oldItems.length!=newItems.length)\n        return \"filter\";\n    let diffIndexes=[];\n    let limit = 10\n    limit = newItems.length>10?10:newItems.length;\n    for(let i =0;i<newItems.length;i++)\n    {\n        let keys = Object.keys(newItems[i]);\n        if(keys)\n        for(let key of keys)\n        {\n            if(newItems[i][key] != oldItems[i][key]){\n                diffIndexes.push(i);\n                break;\n            }\n        }\n    }\n    return diffIndexes;\n}\n\n\n\n  \nfunction mergeHolderViews(holderViews){\n    let finalHolder = {};\n    for(let i=0;i<holderViews.length;i++){\n        if(finalHolder[holderViews[i].id] == undefined){\n            finalHolder[holderViews[i].id] = {};\n        }\n        for(let key in holderViews[i]){\n            finalHolder[holderViews[i].id][key] = holderViews[i][key];\n        }\n    }\n    return finalHolder;\n}\n\n\n\n//generates the list items views\nfunction createListView(view){\n    view.props.data.holderViews = mergeHolderViews(view.props.data.holderViews);\n    view.children=[]\n    changeItemView(view.props.data.itemView);\n    for(let i=0;i<view.props.itemDatas.length;i++){\n        let cloneTemplate = JSON.parse(JSON.stringify(view.props.data.itemView));\n        let childView = getItemView(cloneTemplate,view.props.data.holderViews,view.props.itemDatas[i],i)\n        view.children.push(childView);\n    }\n}\n\nlet itemClick = function(onItemClick){\n    return function(){\n        return function(){\n            onItemClick(i);\n        }\n    }\n}\n\n//Get the child element for a particular index\nlet getChildItemViewByIndex = function(view,i){\n    let cloneTemplate = JSON.parse(JSON.stringify(view.props.data.itemView));\n    // if(view.props.hasOwnProperty('onItemClick')){\n    //     let onItemClick = view.props.onItemClick;\n    //     cloneTemplate.props.onClick =itemClick(onItemClick)(i);\n    // }\n    let res= getItemView(cloneTemplate,view.props.data.holderViews,view.props.itemDatas[i],i)\n    return res;\n}\n\n\n//reformat the template\nfunction changeItemView(view)\n{\n    view.props.holderId = view.props.id;\n    view.props.id = undefined;\n    if(view.children)\n        for( let child of view.children)\n            changeItemView(child);\n}\n\n\nmodule.exports={diffArray,createListView,getItemView,getChildItemViewByIndex};\n\n//newinflated -> isNewInflated\n//add spaces\n//add summary","let utils = require(\"./Utils\");\n\nfunction mapPropToStyle(element,props,type){\n    let ele_style = \"\";\n    ele_style += addProps(props);\n    ele_style += addFontProp(props);\n    ele_style += addTransformProp(props);\n    ele_style += addStrokeProp(props);\n    ele_style += addGradientProp(props);\n    ele_style += addRotateProp(props);\n    ele_style += addShadowProp(props);\n    ele_style += addTypeSpecificProp(type,props);\n\n    // TODO: mapPropToStyle should not do these side effect, when merging Render.js and MapAttributes.js, seperate out these functions from here.\n    ele_style += addSetInputTypeProp(element,props); // also sets an attribute on mutable element\n    // setElemAttributes(element,props);\n\n    return ele_style;\n}\n\nlet initializeShow = function (elem, props, type) {\n    var style = \"\";\n    if (type == 'linearLayout') {\n        if (props.hasOwnProperty('width') && props.width == 'wrap_content') {\n            style += \"display: inline-flex;\";\n            style += \"width: max-content;\";\n            // elem.style.display = 'inline-flex';\n            // elem.style.width = 'max-content';\n        } else {\n            style += \"display: flex;\";\n            //elem.style.display = \"flex\";\n        }\n    } else {\n        if (props.hasOwnProperty('width') && props.width == 'wrap_content') {\n            style += \"display:inline-bloack;\";\n            style += \"width:max-content;\";\n            // elem.style.display = 'inline-block';\n            // elem.style.width = 'max-content';\n        } else {\n            // style += \"display:'';\";\n        //    elem.style.display = '';\n        }\n    }\n    return style;\n}\n\n// Author's Note: Haskel's pattern matching would've made this code prettier. - Convert Presto to Purs?\n// fontStyle take precedence over fontFamily\nfunction addProps(props){\n\n    let ele_style = \"\";\n\n    if ((props.hasOwnProperty(\"onClick\") || props.hasOwnProperty(\"onClickEvent\"))) {\n        if(window.innerWidth > 550 && !props.cursorType) {ele_style += \"cursor:pointer;\";}\n    }\n\n    if (props.hasOwnProperty(\"cursorType\")) { ele_style += \"cursor: \" + props.cursorType + \";\"; }\n\n    if (props.hasOwnProperty(\"textSize\"))   { ele_style += \"font-size: \" + props.textSize + \"px;\"; }\n\n    if (props.hasOwnProperty(\"fontSize\"))   { ele_style += \"font-size: \" + props.fontSize + \"px;\"; }\n\n    if (props.hasOwnProperty(\"backgroundColor\")) { ele_style += \"background-color: \" + utils.parseColors(props.backgroundColor) + \";\"};\n\n    if (props.hasOwnProperty(\"background\")) { ele_style += \"background: \" + utils.parseColors(props.background) + \";\"};\n    \n\n    if (props.hasOwnProperty(\"backgroundDrawable\")) { ele_style += \"background-image: \" + \"url('\"+props.backgroundDrawable+\"')\" + \";\"};\n\n    if (props.hasOwnProperty(\"color\")) { ele_style += \"color: \" + utils.parseColors(props.color) + \";\"};\n\n    if (props.hasOwnProperty(\"position\")) {ele_style += \"position: \" + props.position + \";\"};\n\n    if (props.hasOwnProperty(\"bottomFixed\")) {ele_style += \"bottom: \" + props.bottomFixed + \";\"};\n\n    if (props.hasOwnProperty(\"topFixed\")) {ele_style += \"top: \" + props.topFixed + \";\"};\n\n    if (props.hasOwnProperty(\"leftFixed\")) {ele_style += \"left: \" + props.leftFixed + \";\"};\n\n    if (props.hasOwnProperty(\"rightFixed\")) {ele_style += \"right: \" + props.rightFixed + \";\"};\n\n    if (props.hasOwnProperty(\"zIndex\")) {ele_style += \"z-index:\" + props.zIndex + \";\"};\n\n    if (props.hasOwnProperty(\"cornerRadius\")) {ele_style += \"border-radius:\" + props.cornerRadius + \"px;\"};\n\n    if (props.hasOwnProperty(\"alpha\")) {ele_style += \"opacity:\" + props.alpha + \";\"};\n\n    if (props.hasOwnProperty(\"fontFamily\")) {ele_style += \"font-family:\" + props.fontFamily + \";\"};\n\n    if (props.hasOwnProperty(\"blurBackground\") && props.blurBackground) {ele_style += \"backdrop-filter: blur(3px)\";}\n\n    if (props.hasOwnProperty(\"lineHeight\")) {ele_style += \"line-height: \" + props.lineHeight + \";\";}\n\n    if (props.hasOwnProperty(\"objectFit\")) {ele_style += \"object-fit: \" + props.objectFit + \";\";}\n\n    if (props.hasOwnProperty(\"clickable\")) {ele_style += \"pointer-events: \" + (props.clickable ? \"auto\" : \"none\") + \";\";}\n\n    if (props.hasOwnProperty(\"display\")) { ele_style += \"display:\" + props.display + \";\"; }\n\n    if (props.ellipsize) { ele_style += \"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\";}\n\n    return ele_style;\n\n}\n\n// These values are hardcoded likely since same prestoDOM property is being used for Android, iOS and Web\nfunction addFontProp(props){\n\n    let ele_style = \"\";\n\n\n    if (props.typeface) {\n        switch(props.typeface){\n            case 'normal':\n            ele_style += \"font-weight: 400;\";\n            break;\n            case 'bold':\n            ele_style += \"font-weight: 700;\";\n            break;\n            case 'italic':\n            ele_style += \"font-style: italic;\";\n            break;\n            case 'bold_italic':\n            ele_style += \"font-weight: 700;\";\n            ele_style += \"font-style: italic;\";\n            break;\n            case 'underline':\n            ele_style += \"text-decoration: underline;\";\n            break;\n        }\n    }\n\n    if (props.fontStyle) {\n\n        let match = props.fontStyle.match(/[/-]/);\n        let fontName = match ? props.fontStyle.slice(0, match.index) : props.fontStyle;\n\n        ele_style += \"font-family:\" + fontName + \";\";\n\n        if (match) {\n            let type = props.fontStyle.slice(match.index + 1);\n            type = type.replace(/[-/]/g, '');\n            type  = type.toLowerCase();\n\n            if (type.indexOf('italic') != -1)\n                ele_style += \"font-style: italic;\";\n\n            let fontWeight = 0;\n\n            if (type.indexOf('extralight') != -1)\n                fontWeight = 200;\n            else if (type.indexOf('light') != -1)\n                fontWeight = 300;\n            else if (type.indexOf('regular') != -1 || type.indexOf('book') != -1)\n                fontWeight = 400;\n            else if (type.indexOf('semibold') != -1 || type.indexOf('medium') != -1)\n                fontWeight = 500;\n            else if (type.indexOf('bold') != -1 || type.indexOf('heavy') != -1)\n                fontWeight = 700;\n            else if (type.indexOf('black') != -1)\n                fontWeight = 900;\n\n            if(fontWeight > 0)\n                ele_style += \"font-weight:\"+ fontWeight +\";\";\n        }\n    }\n\n\n    return ele_style;\n}\n\n\nfunction addTransformProp(props){\n    let ele_style = \"\";\n    let transform = \"\";\n    if (props.translationX) {transform += \"translateX(\" + props.translationX + \"px) \"};\n\n    if (props.translationY) {transform += \"translateY(\" + props.translationY + \"px) \"};\n\n    if (props.scaleX) {transform += \"scaleX(\" + props.scaleX + \") \"};\n\n    if (props.scaleY) {transform += \"scaleY(\" + props.scaleY + \") \"};\n\n    if (props.rotation) {transform += \"rotate(\" + props.rotation + \") \"};\n\n    if (props.rotationX) {transform += \"rotateX(\" + props.rotationX + \") \"};\n\n    if (props.rotationY) {transform += \"rotateY(\" + props.rotationY + \") \"};\n\n    // if (key == \"translationZ\") {\n    //     var v = config[key];\n    //     config.style[\"-webkit-box-shadow\"] = \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n    //     config.style[\"-moz-box-shadow\"]= \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n    //     config.style[\"box-shadow\"]=  \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n\n    //   }\n    if (transform.length > 0) {ele_style += \"transform : \" + transform + \";\"};\n    return ele_style;\n}\n\n\nfunction addStrokeProp(props){\n\n    var ele_style = \"\";\n\n    if (props.hasOwnProperty(\"stroke\")) {\n\n        let values = props.stroke.split(\",\");\n\n        if(values.length == 2) { ele_style += \"border: \" + values[0] + \"px solid \" + values[1] + \";\";}\n        else if(values.length == 3){\n\n            if (values[2] == \"rbl\"){\n                ele_style += \"border-bottom: \" + values[0] + \"px solid \" + values[1] + \";\";\n                ele_style += \"border-left: \" + values[0] + \"px solid \" + values[1] + \";\";\n                ele_style += \"border-right: \" + values[0] + \"px solid \" + values[1] + \";\";\n            }\n            else if (values[2] == \"b\"){\n                ele_style += \"border-bottom: \" + values[0] + \"px solid \" + values[1] + \";\";\n            }\n            else if (values[2] == \"r\"){\n                ele_style += \"border-right: \" + values[0] + \"px solid \" + values[1] + \";\";\n            }\n            else if (values[2] == \"rb\"){\n                ele_style += \"border-bottom: \" + values[0] + \"px solid \" + values[1] + \";\";\n                ele_style += \"border-right: \" + values[0] + \"px solid \" + values[1] + \";\";\n            }\n            else\n                ele_style += \"border: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n            }\n    }\n\n    if (props.hasOwnProperty(\"strokeTop\")) {\n        let values = props.strokeTop.split(\",\");\n        if(values.length == 2)\n            ele_style += \"border-top: \" + values[0] + \"px solid \" + values[1] + \";\";\n        else if(values.length == 3)\n            ele_style += \"border-top: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n    }\n\n    if (props.hasOwnProperty(\"strokeRight\")) {\n        let values = props.strokeRight.split(\",\");\n        if(values.length == 2)\n            ele_style += \"border-right: \" + values[0] + \"px solid \" + values[1] + \";\";\n        else if(values.length == 3)\n            ele_style += \"border-right: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n    }\n\n    if (props.hasOwnProperty(\"strokeBottom\")) {\n        let values = props.strokeBottom.split(\",\");\n        if(values.length == 2)\n            ele_style += \"border-bottom: \" + values[0] + \"px solid \" + values[1] + \";\";\n        else if(values.length == 3)\n            ele_style += \"border-bottom: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n    }\n\n    if (props.hasOwnProperty(\"strokeRight\")) {\n        let values = props.strokeRight.split(\",\");\n        if(values.length == 2)\n            ele_style += \"border-right: \" + values[0] + \"px solid \" + values[1] + \";\";\n        else if(values.length == 3)\n            ele_style += \"border-right: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n    }\n\n    if (props.hasOwnProperty(\"strokeLeft\")) {\n        let values = props.strokeLeft.split(\",\");\n        if(values.length == 2)\n            ele_style += \"border-left: \" + values[0] + \"px solid \" + values[1] + \";\";\n        else if(values.length == 3)\n            ele_style += \"border-left: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n    }\n\n    return ele_style;\n}\n\nfunction addGradientProp(props){\n\n    var ele_style = \"\";\n\n    if (props.hasOwnProperty(\"gradient\")) {\n        var gradientObj =JSON.parse(props.gradient);\n        if (gradientObj.type == \"linear\") {\n          var angle = gradientObj.angle;\n          var values = gradientObj.values;\n          var colors = values.join(\", \");\n          ele_style += \"background-image: \" + \"linear-gradient(\"+angle+\"deg, \"+colors+\");\";\n        }\n        else {\n          var values = gradientObj.values;\n          var colors = values.join(\", \");\n          ele_style += \"background-image: \" + \"radial-gradient(\"+colors+\");\";\n        }\n    }\n\n    return ele_style;\n}\n\nfunction addTransitionValue(props) {\n    //let elem_transition = props.transition == undefined ? \"0ms all\" : props.transition // It will always be undefined lol\n    var transition_val = [String(props.a_duration || 0) +\"ms\",\"all\",props.transitionTimingFunction].filter(Boolean).join(\" \");\n    return \"transition:\" + transition_val + \";\";\n\n\n}\nfunction addSize(view = {}){\n\n    var props = view.props\n    var parentView = view.parent || {}\n    parentView.state = parentView.state || {}\n    view.state = view.state || {}\n    var parentProps = parentView.props || {}\n    // Add elem as an argument if you are gonna uncomment it\n    // elem.style.width = 'auto';\n    // elem.style.height = 'auto';\n    let elem_style = \"width : auto; \";\n    elem_style += \"height: auto; \";\n\n\n    if (props.hasOwnProperty('width')) {\n        if (props.width == 'match_parent' && !parentView.state.treatMatchParentAsWrapWidth) {\n            // treat parent wrap content as wrap_content instead of match_parent\n            if(props.hasOwnProperty('margin')){\n                var margin=props.margin.split(\",\");\n                elem_style += \"width:\" + \"calc(100% - \"+(parseInt(margin[0])+parseInt(margin[2])).toString()+\"px );\";\n            }\n            else elem_style += \"width : 100%; \";\n            //elem.style.width = '100%';\n        } else if (props.width == 'match_parent' && parentView.state.treatMatchParentAsWrapWidth) { \n            view.state.practicalWidth = 'wrap_content'\n        } else if (props.width == 'wrap_content') {\n            view.state.practicalWidth = 'wrap_content';\n        } else if (!isNaN(props.width)) {\n            if (props.hasOwnProperty('percentWidth') && props.percentWidth)\n                elem_style += \"width: \" + props.width + \"%;\";\n                // elem.style.width = props.width + '%';\n            else\n            elem_style += \"width: \" + props.width + \"px;\";\n            //elem.style.width = props.width + 'px';\n        }\n    }\n    if (props.hasOwnProperty('height')) {\n        if (props.height == 'match_parent' && !parentView.state.treatMatchParentAsWrapHeight) {\n            elem_style += \"height: 100%;\";\n            // elem.style.height = '100%';\n        } else if (props.height == 'match_parent' && parentView.state.treatMatchParentAsWrapHeight) { \n            view.state.practicalHeight = 'wrap_content'\n            elem_style += \"height: auto;\";\n            //elem.style.height = \"auto\";\n            // You see below\n        } else if (props.height == 'wrap_content') {\n            view.state.practicalHeight = 'wrap_content'\n        } else if (!isNaN(props.height)) {\n            if (props.hasOwnProperty('percentHeight') && props.percentHeight)\n                elem_style += \"height: \" + props.height + \"%;\";\n//                elem.style.height = props.height + '%';\n            else\n                elem_style += \"height: \" + props.height + \"px;\";\n//            elem.style.height = props.height + 'px';\n        }\n    }\n\n    if (props.hasOwnProperty('minWidth') && !isNaN(props.minWidth)) {\n        if (props.percentMinWidth)\n            elem_style += \"min-width: \" + props.minWidth + \"%;\";\n//            elem.style.minWidth = props.minWidth + '%';\n        else\n            elem_style += \"min-width: \" + props.minWidth + \"px;\";\n\n        //    elem.style.minWidth = props.minWidth + 'px';\n    }\n\n    if (props.hasOwnProperty('minHeight') && !isNaN(props.minHeight)) {\n        if (props.percentMinHeight)\n            elem_style += \"min-height: \" + props.minHeight + \"%;\";\n            // elem.style.minHeight = props.minHeight + '%';\n        else\n            elem_style += \"min-height: \" + props.minHeight + \"px;\";\n            // elem.style.minHeight = props.minHeight + 'px';\n    }\n\n    if (props.hasOwnProperty('maxWidth') && !isNaN(props.maxWidth)) {\n        if (props.percentMaxWidth)\n            elem_style += \"max-width: \" + props.maxWidth + \"%;\";\n//            elem.style.maxWidth = props.maxWidth + '%';\n        else\n            elem_style += \"max-width: \" + props.maxWidth + \"px;\";\n        //            elem.style.maxWidth = props.maxWidth + 'px';\n    }\n\n    if (props.hasOwnProperty('maxHeight') && !isNaN(props.maxHeight)) {\n        if (props.percentMaxHeight)\n            elem_style += \"max-height: \" + props.maxHeight + \"%;\";\n       // elem.style.maxHeight = props.maxHeight + '%';\n        else\n            elem_style += \"max-height: \" + props.maxHeight + \"px;\";\n            //elem.style.maxHeight = props.maxHeight + 'px';\n    }\n    return elem_style;\n}\n\nfunction addBorder(props) {\n    let elem_style = \"\";\n    if (props.hasOwnProperty('padding')) {\n        let padding = props.padding.split(',').map(a => a * 1);\n        elem_style += \"padding: \" + padding[1] + \"px \" + padding[2] + \"px \" + padding[3] + \"px \" + padding[0] + \"px;\";\n//        elem.style['padding'] = padding[1] + 'px ' + padding[2] + 'px ' + padding[3] + 'px ' + padding[0] + 'px';\n    }\n\n    if (props.hasOwnProperty('margin')) {\n        let margin = props.margin.split(',').map(a => a * 1);\n        elem_style += \"margin: \" + margin[1] + \"px \" + margin[2] + \"px \" + margin[3] + \"px \" + margin[0] + \"px;\";\n//        elem.style['margin'] = margin[1] + 'px ' + margin[2] + 'px ' + margin[3] + 'px ' + margin[0] + 'px';\n    }\n    return elem_style;\n}\n\nfunction addVisibility(elem, props, type) {\n    let elem_style = \"\";\n    if (props.hasOwnProperty('visibility')) {\n        let visibility = props.visibility;\n        if (visibility == 'invisible')\n            elem_style += \"visibility: hidden;\";\n            //elem.style.visibility = \"hidden\";\n        else if (visibility == 'gone')\n            elem_style += \"display: none;\";\n            //elem.style.display = \"none\";\n        else {\n            // elem_style += \"visibility: '';\";\n            //elem.style.visibility = '';\n            elem_style += initializeShow(elem, props, type);\n        }\n    } else {\n        elem_style += initializeShow(elem, props, type);\n    }\n    return elem_style;\n}\n\nfunction addExpandability(elem, props, type) {\n    let elem_style = \"\";\n    if (props.hasOwnProperty('expand')) {\n        let visibility = props.expand + '';\n        if (visibility == 'true'){\n            // elem_style += \"visibility: '';\";\n            // elem.style.visibility = '';\n            elem_style += initializeShow(elem, props, type);\n        }\n        else\n            elem_style += \"display: none;\";\n            //    elem.style.display = \"none\";\n    }\n    return elem_style;\n}\nfunction addOverFlow(props) {\n    let elem_style =\"\";\n    if (props.hasOwnProperty('overFlowVisible')) {\n        if (props.overFlowVisible) {\n            elem_style += \"overflow: visible;\";\n            // elem.style.overflow = \"visible\"\n        }\n    }\n    return elem_style;\n}\nfunction setGravityStylesForRow(elem, props) {\n\n    var gravity_row_style = \"\";\n\n    if (!props.hasOwnProperty('gravity') || !props.gravity) {\n        props.gravity = '';\n        //return;\n    }\n\n    switch (props.gravity) {\n        case 'center_vertical':\n            gravity_row_style += \"align-items: center;\";\n            gravity_row_style += \"justify-content: flex-start;\";\n\n            // elem.gravity_row_style['align-items'] = 'center';\n            // elem.gravity_row_style['justify-content'] = 'flex-start';\n            break;\n        case 'center_horizontal':\n            gravity_row_style += \"align-items: flex-start;\";\n            gravity_row_style += \"justify-content: center;\";\n            // elem.gravity_row_style['align-items'] = 'flex-start';\n            // elem.gravity_row_style['justify-content'] = 'center';\n            break;\n        case 'center':\n            gravity_row_style += \"align-items: center;\";\n            gravity_row_style += \"justify-content: center;\";\n            // elem.gravity_row_style['align-items'] = \"center\";\n            // elem.gravity_row_style['justify-content'] = \"center\";\n            break;\n        case 'left':\n        case 'start':\n            gravity_row_style += \"align-items: flex-start;\";\n            gravity_row_style += \"justify-content: flex-start;\";\n            // elem.gravity_row_style['align-items'] = 'flex-start';\n            // elem.gravity_row_style['justify-content'] = 'flex-start';\n            break;\n        case 'right':\n        case 'end':\n            gravity_row_style += \"align-items: flex-start;\";\n            gravity_row_style += \"justify-content: flex-end;\";\n            // elem.gravity_row_style['align-items'] = 'flex-start';\n            // elem.gravity_row_style['justify-content'] = 'flex-end';\n            break;\n        case 'stretch':\n            gravity_row_style += \"align-items: stretch;\";\n            gravity_row_style += \"justify-content: flex-start;\";\n            // elem.gravity_row_style['align-items'] = 'stretch';\n            // elem.gravity_row_style['justify-content'] = 'flex-start';\n            break;\n        default:\n            gravity_row_style += \"align-items: flex-start;\";\n            gravity_row_style += \"justify-content: flex-start;\";\n            // elem.gravity_row_style['align-items'] = 'flex-start';\n            // elem.gravity_row_style['justify-content'] = 'flex-start';\n            break;\n    }\n\n    return gravity_row_style;\n}\nfunction setGravityStylesForColumn(elem, props) {\n\n    var gravity_col_style = \"\";\n    if (!props.hasOwnProperty('gravity') || !props.gravity) {\n        props.gravity = '';\n        //return;\n    }\n\n    switch (props.gravity) {\n        case 'center_vertical':\n            gravity_col_style += \"align-items: flex-start;\";\n            gravity_col_style += \"justify-content: center;\";\n            // elem.style['align-items'] = 'flex-start';\n            // elem.style['justify-content'] = 'center';\n            break;\n        case 'center_horizontal':\n            gravity_col_style += \"align-items: center;\";\n            gravity_col_style += \"justify-content: flex-start;\";\n            // elem.style['align-items'] = 'center';\n            // elem.style['justify-content'] = 'flex-start';\n            break;\n        case 'center':\n            gravity_col_style += \"align-items: center;\";\n            gravity_col_style += \"justify-content: center;\";\n            // elem.style[\"align-items\"] = \"center\";\n            // elem.style[\"justify-content\"] = \"center\";\n            break;\n        case 'left':\n        case 'start':\n            gravity_col_style += \"align-items: flex-start;\";\n            gravity_col_style += \"justify-content: flex-start;\";\n            // elem.style['justify-content'] = 'flex-start';\n            // elem.style['align-items'] = 'flex-start';\n            break;\n        case 'right':\n        case 'end':\n            gravity_col_style += \"align-items: flex-end;\";\n            gravity_col_style += \"justify-content: flex-start;\";\n            // elem.style['align-items'] = 'flex-end';\n            // elem.style['justify-content'] = 'flex-start';\n            break;\n        case 'stretch':\n            gravity_col_style += \"align-items: stretch;\";\n            gravity_col_style += \"justify-content: flex-start;\";\n            // elem.style['align-items'] = 'stretch';\n            // elem.style['justify-content'] = 'flex-start';\n            break;\n        default:\n            gravity_col_style += \"align-items: flex-start;\";\n            gravity_col_style += \"justify-content: flex-start;\";\n            // elem.style['align-items'] = 'flex-start';\n            // elem.style['justify-content'] = 'flex-start';\n            break;\n    }\n    return gravity_col_style;\n}\n\nfunction addLayout(elem, type, props) {\n\n    let scrollBarX = props.hasOwnProperty('scrollBarX')?props.scrollBarX:true;\n    let scrollBarY = props.hasOwnProperty('scrollBarY')?props.scrollBarX:true;\n    let elem_style = \"\";\n    switch(type){\n        case 'linearLayout':\n            elem_style += \"box-sizing: border-box;\";\n            //elem.style[\"box-sizing\"] = \"border-box\";\n\n            if (props.hasOwnProperty('fixedWrap') && !props.fixedWrap) {\n                elem_style += \"flex-wrap: nowrap;\";\n                //elem.style[\"flex-wrap\"] = \"nowrap\";\n            } else {\n                // elem_style += \"flex-wrap: wrap;\";\n                //elem.style[\"flex-wrap\"] = \"wrap\";\n            }\n\n\n            let orient = props.orientation == \"vertical\" ? \"column\" : \"row\";\n            elem_style += \"flex-direction: \" + orient + \";\";\n            // elem.style[\"flex-direction\"] =\n\n            if (orient == 'row')\n                elem_style += setGravityStylesForRow(elem, props);\n            else\n                elem_style += setGravityStylesForColumn(elem, props);\n\n            // if (elem.style[\"flex-direction\"] == 'row')\n            //     setGravityStylesForRow(elem, props);\n            // else\n            //     setGravityStylesForColumn(elem, props);\n\n            if (props.hasOwnProperty('scrollBarX')) {\n                if (props.scrollBarX)\n                    elem_style += \"overflow-x: auto;\";\n//                  elem.style.overflowX = 'auto'\n                else\n                    elem_style += \"overflow-x: hidden;\";\n//              elem.style.overflowX = 'hidden'\n            }\n\n            if (props.hasOwnProperty('scrollBarY')) {\n                if (props.scrollBarY)\n                    elem_style += \"overflow-y: auto;\";\n                    // elem.style.overflowY = 'auto'\n                else\n                    elem_style += \"overflow-y: hidden;\";\n                    // elem.style.overflowY = 'hidden'\n            }\n            break;\n        case \"horizontaScrollView\":\n            elem_style += \"overflow-x: auto;\";\n            elem_style += \"overflow-y: hidden;\";\n            // elem.style.overflowX = \"auto\";\n            // elem.style.overflowY = \"hidden\";\n\n            // if (!scrollBarX)\n            //     elem_style += \"overflow-x: hidden;\";\n            break;\n        case 'listView':\n            elem_style += \"overflow-x: hidden;\";\n            elem_style += \"overflow-y: auto;\";\n\n            // elem.style.overflowY = \"auto\";\n            // elem.style.overflowX = \"hidden\";\n\n            // if (!scrollBarY)\n            //     elem_style += \"overflow-y: hidden;\";\n                // elem.style.overflowY = 'hidden';\n            break;\n        case 'scrollView':\n            elem_style += \"overflow-x: auto;\";\n            elem_style += \"overflow-y: auto;\";\n\n            // elem.style.overflowX = 'auto';\n            // elem.style.overflowY = 'auto';\n\n            // if (!scrollBarX)\n            //     elem_style += \"overflow-x: hidden;\";\n            // if (!scrollBarY)\n            //     elem_style += \"overflow-y: hidden;\";\n            break;\n        case 'relativeLayout':\n            elem_style += \"position: relative;\";\n            // elem.style.position = 'relative';\n\n            if (props.hasOwnProperty('scrollBarX')) {\n                if (props.scrollBarX)\n                    elem_style += \"overflow-x: auto;\";\n                    // elem.style.overflowX = 'auto'\n                else\n                    elem_style += \"overflow-x: hidden;\";\n                    // elem.style.overflowX = 'hidden'\n                }\n\n                if (props.hasOwnProperty('scrollBarY')) {\n                    if (props.scrollBarY)\n                        elem_style += \"overflow-y: auto;\";\n                        //  elem.style.overflowY = 'auto'\n                    else\n                        elem_style += \"overflow-y: hidden;\";\n                //          elem.style.overflowY = 'hidden'\n        }\n    }\n\n    return elem_style;\n}\n\nfunction addImage(type,props,elem) {\n    if (type == 'imageView') {\n        if (props.imageUrl) {\n            let imageUrl = props.imageUrl\n\n            if (props.rawData) {\n                // Do Nothing\n            } else {\n                let temp = imageUrl.split('.')\n                let ext = ''\n                if (temp && temp.length > 0)\n                    ext = temp[temp.length - 1]\n\n                let exts = [\"jpeg\", \"jpg\", \"png\", \"bmp\", \"svg\", \"gif\"]\n                ext = ext.toLowerCase()\n\n                if(!imageUrl.includes(\"data:image/\") && !exts.includes(ext)) {\n                    imageUrl += '.png'\n                }\n            }\n\n            elem.setAttribute('src', imageUrl)\n        }\n    }\n}\nfunction findArticle(children){\n    let article = null;\n    if (children.length) {\n        for (let i = 0; i < children.length; i++) {\n            if (children[i].nodeName.toLowerCase() == 'article') {\n                article = children[i]\n                break\n            }\n        }\n    }\n    return article? article:document.createElement('article');\n}\nfunction getArticle(children, config) {\n    let article = findArticle(children);\n\n    if (config.isHtmlContent)\n        article.innerHTML = config.textFromHtml\n    else\n        article.innerText = config.text\n    article.style.wordBreak = \"break-word\"\n    article.style.display = \"inline\"\n    return article;\n\n}\nfunction getTextStyle(config){\n    let text = \"white-space:initial;\";\n    return config.letterSpacing ? text + \"letter-spacing:\"+config.letterSpacing+\";\" : text;\n}\nfunction createTextElement(elem, config) {\n\n    let text_style = getTextStyle(config);\n    let article = getArticle(elem.childNodes, config);\n    elem.appendChild(article)\n    return text_style;\n}\nfunction addTextProperties(props, elem, type) {\n    let elem_style = \"\"\n    if (props.hasOwnProperty(\"text\")){\n        if (type == \"editText\")\n            elem.value = props.text\n        else\n            elem_style += createTextElement(elem, props)\n    }\n\n    if (props.hasOwnProperty(\"textFromHtml\")) {\n        props.isHtmlContent = true;\n        if (type == \"editText\")\n            elem.value = props.textFromHtml\n        else\n            elem_style += createTextElement(elem, props)\n    }\n    delete props.text;\n    return elem_style;\n}\nfunction addClassNameProperties(props, elem) {\n    if (props.hasOwnProperty(\"className\")) {\n        if ((props.className || \"\").trim() !== \"\") {\n            props.className.split(\" \").map(className => {\n                elem.classList.add(className);\n            })\n        }\n    }\n\n    if (props.hasOwnProperty(\"classList\")) {\n        JSON.parse(props.classList).forEach(function (obj) {\n            elem.classList.add(obj);\n        });\n    }\n\n    if (props.hasOwnProperty(\"removeClassList\")){\n        JSON.parse(props.removeClassList).forEach(function (obj) {\n            elem.classList.remove(obj);\n        });\n    }\n}\nfunction addFunctions(props, elem) {\n    let elem_style =\"\";\n    for (let key in props) {\n        if (props[key] && typeof props[key] == \"function\") {\n            var eventType = key.substring(2, key.length).toLowerCase();\n            var elemCB = props[key];\n            elem_style += \"user-select: none;\";\n            //elem.style.userSelect = 'none';\n            if (eventType == \"change\") {\n                eventType = \"input\";\n            }\n\n            elem.addEventListener('blur', function () {\n                var inputValue = elem.value;\n                if (inputValue == \"\") {\n                    elem.classList.remove(\"filled\");\n                    elem.parentNode.classList.remove('focused');\n                } else {\n                    elem.classList.add('filled');\n                }\n            });\n\n            elem['onfocus'] = function (e) {\n                elem.parentNode.classList.add('focused');\n                if (eventType == \"focus\") {\n                    e.stopPropagation();\n                    elemCB(e);\n                }\n            };\n        }\n    }\n    return elem_style;\n}\nfunction addAnimationAttributes(props) {\n    let elem_style =\"\";\n    var animation_transition = getAnimeTransition(props);\n\n    var animation_transform = getAnimeTransform(props);\n\n    var animation_opacity = getAnimeOpacity(props);\n\n    if (animation_transition.length > 0 && (animation_transform.length + animation_opacity.length > 0)) { // this will need to be renamed actually to VDOM output's\n        const afterTransition = () => {\n            elem_style += animation_transition;\n            if (animation_transform.length > 0) elem_style += animation_transform;\n            if (animation_opacity.length > 0) { elem_style += animation_opacity;}\n        };\n\n        if (props.style.transform || props.style.opacity) {\n            setTimeout(afterTransition, 100); // Why is a time out here?\n        } else {\n            afterTransition();\n        }\n    }\n    return elem_style;\n}\n\nfunction addTypeSpecificProp(type,props){\n\n    let ele_style = \"\";\n\n    if (props.hasOwnProperty('visibility')){\n        if (props.visibility == \"gone\") return ele_style;\n    }\n\n    if (props.hasOwnProperty('display')){\n        if (props.display == \"none\") return ele_style;\n    }\n\n\n    if (type == \"textView\" && props.hasOwnProperty(\"gravity\")) {\n        ele_style += \"text-align:\"+props.gravity+\";\";\n\n        if (props.gravity == \"center_vertical\") {\n            ele_style += \"align-items:center;\";\n            ele_style += \"display:flex;\";\n        }\n        else if (props.gravity == \"center_horizontal\") {\n            ele_style += \"justify-content:center;\";\n            ele_style += \"display:flex;\";\n        }\n        else if (props.gravity == \"center\") {\n            ele_style += \"justify-content:center;\";\n            ele_style += \"align-items:center;\";\n            ele_style += \"display:flex;\";\n        }\n    }\n\n    if (type == \"linearLayout\" && props.hasOwnProperty(\"gravity\")){\n        if (props.margin && props.gravity==\"center_vertical\"){\n\n            var margin=props.margin.split(\",\");\n            if (props.width == \"match_parent\"){\n                let width = \"calc(100% - \"+(parseInt(margin[0])+parseInt(margin[2])).toString()+\"px )\";\n                ele_style += \"width:\" + width + \";\";\n            }\n        }\n    }\n\n    return ele_style;\n}\n\n\n\n\nfunction addRotateProp(props){\n\n    var ele_style = \"\";\n\n    if (props.hasOwnProperty(\"rotateImage\")){\n        if(props.rotateImage){\n          ele_style += \"-webkit-animation:load3 4s infinite linear;\";\n          ele_style += \"animation-duration:4s;\";\n          ele_style += \"animation-timing-function:linear;\";\n          ele_style += \"animation-delay:0s;\";\n          ele_style += \"animation-iteration-count:infinite;\";\n          ele_style += \"animation-direction:normal;\";\n          ele_style += \"animation-fill-mode:none;\";\n          ele_style += \"animation-play-state:running;\";\n          ele_style += \"animation-name:rotation;\";\n        }\n    }\n\n    return ele_style;\n}\n\nfunction addShadowProp(props){\n\n    var ele_style = \"\";\n\n    if (props.hasOwnProperty(\"shadow\")) {\n        var shadowValues = props.shadow.split(props.shadowSeparator || ',');\n        var shadowBlur = utils.rWS(utils.cS(shadowValues[2]));\n        var shadowSpread = utils.rWS(utils.cS(shadowValues[3]));\n        var shadowOpacity = utils.rWS(utils.cS(shadowValues[5]));\n        var shadowOffset = {\n            x: utils.rWS(utils.cS(shadowValues[0])),\n            y: utils.rWS(utils.cS(shadowValues[1]))\n          };\n\n        var shadowColor = utils.convertColorToRgba(shadowValues[4]);\n        var shadowType = props.shadowType ? `${props.shadowType} ` : ''\n\n        ele_style += \"box-shadow:\" + shadowType + parseInt(shadowOffset.x) + \"px \" + parseInt(shadowOffset.y) + \"px \" + parseInt(shadowBlur) + \"px \" + parseInt(shadowSpread) + \"px rgba(\" + shadowColor.r + \", \" +  shadowColor.g + \", \" +  shadowColor.b + \", \" +  shadowColor.a + \");\" ;\n    }\n\n    return ele_style;\n}\n\n\nfunction addSetInputTypeProp(ele,props){\n\n    var ele_style = \"\";\n\n    if (props.hasOwnProperty(\"inputType\")) {\n\n        var inputType = \"text\";\n\n        if (props.inputType == \"numericPassword\" || props.inputType == \"password\") {\n          if(props.inputTypeI == 4 && window.innerWidth < 550){ // This feels like a very specific use-case? Investigate\n            inputType = \"tel\";\n            ele_style += \"-webkit-text-security:disc;\";\n            ele_style += \"-moz-text-security:disc;\";\n            ele_style += \"text-security:disc;\";\n          }\n          else {\n            ele.setAttribute(\"autocomplete\",\"new-password\");\n            inputType = \"password\";\n          }\n        }\n\n        else if (props.inputType == \"disabled\") {\n            ele.setAttribute(\"disabled\",\"disabled\");\n        }\n\n        else if (props.inputType == \"numeric\") {\n            inputType = \"number\"\n        }\n\n        else if(props.inputType === \"telephone\") {\n            inputType = \"tel\";\n        }\n\n        if (props.hasOwnProperty(\"separator\")) {\n          if(props.inputType == \"numeric\"){\n            inputType = \"tel\"\n          } else {\n            inputType = \"text\"\n          }\n        }\n\n        ele.setAttribute(\"type\",inputType);\n    }\n\n    return ele_style;\n}\n\n\nfunction getAnimeTransform(props){\n\n    var elem_style_value = \"\";\n\n    if (props.hasOwnProperty(\"a_translationY\")) {\n        elem_style_value += \"translateY(\" + props[\"a_translationY\"] + \"px) \";\n    }\n\n    if (props.hasOwnProperty(\"a_translationX\")) {\n        elem_style_value += \"translateX(\" + props[\"a_translationX\"] + \"px) \";\n    }\n\n    if (props.hasOwnProperty(\"a_scaleX\")) {\n        elem_style_value += \"scaleX(\" + props[\"a_scaleX\"] + \") \";\n    }\n\n    if (props.hasOwnProperty(\"a_scaleY\")) {\n        elem_style_value += \"scaleY(\" + props[\"a_scaleY\"] + \") \";\n    }\n\n    if (props.hasOwnProperty(\"a_rotation\")) {\n        elem_style_value += \"rotate(\" + props[\"a_rotation\"] + \"deg) \";\n    }\n\n    if (props.hasOwnProperty(\"a_rotationX\")) {\n        elem_style_value += \"rotateX(\" + props[\"a_rotationX\"] + \"deg) \";\n    }\n\n    if (props.hasOwnProperty(\"a_rotationY\")) {\n        elem_style_value += \"rotateY(\" + props[\"a_rotationY\"] + \"deg) \";\n    }\n\n\n\n    if (elem_style_value.length > 0)\n        return \" transform: \"+ elem_style_value +\";\";\n    else\n        return \"\";\n\n}\n\n\nfunction getAnimeOpacity(props){\n    if (props.hasOwnProperty(\"a_alpha\")){\n        return \"opacity: \" + props[\"a_alpha\"] + \"; \";\n    }\n    else\n        return \"\";\n}\n\nfunction getAnimeTransition(props){\n\n    if (props.hasOwnProperty(\"a_duration\") && !isNaN(props[\"a_duration\"])) {\n        const suffix = props.transitionTimingFunction ? (\" \" + props.transitionTimingFunction) : \"\";\n        return \"transition: \" + props[\"a_duration\"] + 'ms all' + suffix + \";\";\n    }\n    else return \"\";\n\n}\n\n// add attributes to the mutable element\nfunction setElemAttributes(element,props){\n\n    if (props.hasOwnProperty(\"url\")) { element.setAttribute('src',props.url) }\n\n    if (props.hasOwnProperty(\"autofocus\") && (navigator.userAgent.indexOf(\"iPhone\") == -1)) { element.setAttribute('autofocus','autofocus') }; // device should not be an iphone\n\n\n    if(props.hasOwnProperty(\"focus\")) {\n            if (props.focus && props.id){\n                var doc = document.getElementById(props.id);\n                if (doc){\n                doc.focus();\n                }\n        }\n    }\n\n\n    if (props.hasOwnProperty('contentEditable')) {element.setAttribute('contentEditable','true')};\n\n    if (props.hasOwnProperty('hint')) {element.setAttribute('hint',props.hint)};\n\n    if (props.hasOwnProperty(\"pattern\")) {\n        element.setAttribute(\"data-pattern\",props.pattern);\n        var data = props.pattern.split(',');\n        var length = parseInt(data.pop());\n        if(length>10) { length = 10;    }\n        element.setAttribute(\"size\",length);\n    }\n\n    if (props.hasOwnProperty(\"separator\")) {\n        element.setAttribute(\"separator\",props.separator);\n    }\n\n    if (props.hasOwnProperty(\"separatorRepeat\")) {\n        element.setAttribute(\"separatorRepeat\",props.separatorRepeat);\n    }\n\n    return element;\n\n    // if (props.hasOwnProperty(\"myAttr\")) {\n    //     element.setAttribute(config.myAttr,config.myAttr);\n    // }\n\n}\n\n\n\n\n\nmodule.exports = {\n    mapPropToStyle,\n    getAnimeTransform,\n    getAnimeOpacity,\n    getAnimeTransition,\n    setElemAttributes,\n    addAnimationAttributes,\n    addTransitionValue,\n    addSize,\n    addBorder,\n    addVisibility,\n    addExpandability,\n    addOverFlow,\n    addLayout,\n    addImage,\n    addTextProperties,\n    addClassNameProperties,\n    addFunctions\n}\n\n\n\n\n\n","/*\n * Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n * JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n *\n * This file is part of JUSPAY Platform.\n *\n * JUSPAY Platform is free software: you can redistribute it and/or modify\n * it for only educational purposes under the terms of the GNU Affero General\n * Public License (GNU AGPL) as published by the Free Software Foundation,\n * either version 3 of the License, or (at your option) any later version.\n * For Enterprise/Commerical licenses, contact <info@juspay.in>.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n * be liable for all damages without limitation, which is caused by the\n * ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n * damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n * The end user has NO right to claim any indemnification based on its use\n * of Licensed Software. See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n */\n\nlet {\n    computeChildDimens\n} = require(\"../compute\")\nlet mapAttributes = require(\"./MapAttributes\");\nconst List = require(\"./ListPresto\");\n\nfunction initiateElement(type, props, elem){\n    if (type == \"editText\" && elem.tagName.toLowerCase() == \"input\") {\n\n        var isIPhone = (navigator.userAgent.indexOf(\"iPhone\") !== -1)\n        if (elem.autofocus && !isIPhone) {\n            elem.focus()\n        }\n        if(window.preponeSpace){\n            elem.addEventListener('input', separatorInputKeyDownHandlerNew);\n        } else {\n            elem.addEventListener('input', separatorInputKeyDownHandler);\n        }\n    }\n\n    let events = ['onClick', 'onEnterPressedEvent', 'onChange', 'onMouseDown', 'onMouseUp', 'onMouseEnter', 'onMouseOver', 'onMouseMove', 'onMouseOut', 'onMouseLeave', 'onFocus', 'onPaste']\n\n    for (let i = 0; i < events.length; i++) {\n        let key = events[i]\n        let eventType = key.substring(2, key.length).toLowerCase()\n        if (props.hasOwnProperty(key) && typeof props[key] == \"function\") {\n            const callback = props[key]\n            if (key == \"onEnterPressedEvent\") {\n                elem.addEventListener('keyup', (e) => {\n                    e.stopPropagation()\n\n                    if (e.keyCode == 13) {\n                        callback(e)\n                    }\n                })\n            }\n            if (eventType == \"change\") {\n                elem.addEventListener('input', (e) => {\n                    callback(e.target.value)\n                })\n            } else if (eventType == \"focus\"){\n                elem.addEventListener('focus', (e) => {\n                    callback(\"true\")\n                })\n                elem.addEventListener('blur', (e) => {\n                    callback(\"false\")\n                })\n            } else {\n                elem.addEventListener(eventType, (e) => {\n                    e.stopPropagation();\n                    callback(e)\n                })\n            }\n        }\n    }\n}\n\n// not being used in hyper-widget web\nfunction popup(elem, props) {\n    let menuItems = props[\"popupMenu\"].split(',');\n    let menuBar = document.createElement(\"div\");\n    menuBar.setAttribute(\"class\", \"popupMenu\");\n    menuBar.style.cssText =\n        \"display: none; position: absolute; right: 20px; top:20px; z-index: 5;\" +\n        \"box-shadow: 0px 5px 10px #888888;\";\n    document.body.appendChild(menuBar)\n    let clickCb = \"onMenuItemClick\";\n    for (let i = 0; i < menuItems.length; i++) {\n        let menuDiv = document.createElement(\"div\");\n        menuDiv.setAttribute(\"class\", \"menuItem\");\n        menuDiv.textContent = menuItems[i];\n        menuBar.appendChild(menuDiv);\n        let index = i;\n        if (props[clickCb] &&\n            typeof props[clickCb] == \"function\") {\n            menuDiv.addEventListener(\"click\", () => {\n                props[clickCb](index);\n            });\n        }\n    }\n    elem.addEventListener(\"click\", function () {\n        if (menuBar.style.display == \"none\")\n            menuBar.style.display = \"\";\n        else\n            menuBar.style.display = \"none\";\n    });\n}\n\nfunction setAnimationStyles(elem, props) {\n\n    var animation_style = \"\";\n    if (!props.hasOwnProperty('hasAnimation') || !props.hasAnimation) {\n      return animation_style;\n    }\n    const keyframeName = \"keyframe_\" + props.id;\n    let styleElem = document.getElementById(window.__STYLE_ID)\n  \n  \n    let data = null\n  \n    if (props.inlineAnimation) {\n        console.log(\"INLINE\")\n      data = JSON.parse(props.inlineAnimation)\n      if (data && data.length > 0) {\n        data = data[0]\n      }\n    }\n  \n    if (!data) {\n      return animation_style;\n    }\n  \n    let css = \"\"\n    css += \"@keyframes \" + keyframeName + \"{\"\n      css += \"from {\"\n        if (data.hasOwnProperty('fromX')) {\n          css += \"margin-left: \" + data.fromX + \"%;\"\n        }\n  \n        if (data.hasOwnProperty('fromY')) {\n          css += \"margin-top: \" + data.fromY + \"%;\"\n        }\n  \n        if (data.hasOwnProperty('fromAlpha')) {\n          css += \"opacity: \" + data.fromAlpha + \";\"\n        }\n  \n        if (data.hasOwnProperty('fromScale')) {\n          css += \"transform: scale(\" + data.fromScale + \");\"\n        } else if (data.hasOwnProperty('fromScaleX') && data.hasOwnProperty('fromScaleY')) {\n          css += \"transform: scale(\" + data.fromScaleX + \", \" + data.fromScaleY + \");\"\n        } else if(data.hasOwnProperty('fromScaleX')) {\n          css += \"transform: scaleX(\" + data.fromScaleX + \");\"\n        } else if(data.hasOwnProperty('fromScaleY')) {\n          css += \"transform: scaleY(\" + data.fromScaleY + \");\"\n        }\n  \n        if (data.hasOwnProperty('fromRotation')) {\n          css += \"transform: rotate(\" + data.fromRotation + \");\"\n        } else {\n          if(data.hasOwnProperty('fromRotationX')) {\n            css += \"transform: rotateX(\" + data.fromRotationX + \");\"\n          } else if(data.hasOwnProperty('fromRotationY')) {\n            css += \"transform: rotateY(\" + data.fromRotationY + \");\"\n          }\n        }\n      css += \"} \"\n      css += \"to {\"\n        if (data.hasOwnProperty('toX')) {\n          css += \"margin-left: \" + data.toX + \"%;\"\n        }\n  \n        if (data.hasOwnProperty('toY')) {\n          css += \"margin-top: \" + data.toY + \"%;\"\n        }\n  \n        if (data.hasOwnProperty('toAlpha')) {\n          css += \"opacity: \" + data.toAlpha + \";\"\n        }\n  \n        if (data.hasOwnProperty('toScale')) {\n          css += \"transform: scale(\" + data.toScale + \");\"\n        } else if (data.hasOwnProperty('toScaleX') && data.hasOwnProperty('toScaleY')) {\n          css += \"transform: scale(\" + data.toScaleX + \", \" + data.toScaleY + \");\"\n        } else if(data.hasOwnProperty('toScaleX')) {\n          css += \"transform: scaleX(\" + data.toScaleX + \");\"\n        } else if(data.hasOwnProperty('toScaleY')) {\n          css += \"transform: scaleY(\" + data.toScaleY + \");\"\n        }\n  \n        if (data.hasOwnProperty('toRotation')) {\n          css += \"transform: rotate(\" + data.toRotation + \");\"\n        } else {\n          if(data.hasOwnProperty('toRotationX')) {\n            css += \"transform: rotateX(\" + data.toRotationX + \");\"\n          } else if(data.hasOwnProperty('toRotationY')) {\n            css += \"transform: rotateY(\" + data.toRotationY + \");\"\n          }\n        }\n      css += \"} \"\n    css += \"}\"\n    // console.log(\"css \", css);\n    if(styleElem && styleElem.styleSheet){\n      styleElem.styleSheet.cssText += css;\n    }else{\n      styleElem = document.createElement('style');\n      styleElem.appendChild(document.createTextNode(css));\n      document.getElementsByTagName(\"head\")[0].appendChild(styleElem);\n    }\n  \n    animation_style += \"animation-name:\"+keyframeName+\";\";\n  \n    // elem.style.animationName = keyframeName\n    //elem.style.animationDuration = \"1s\"\n    if (data.hasOwnProperty('duration') && !isNaN(data.duration)) {\n      const duration = parseFloat(parseFloat(data.duration) / 1000).toFixed(2)\n      animation_style += \"animation-duration:\"+duration+\"s;\";\n      //elem.style.animationDuration = duration + \"s\"\n    } else {\n      animation_style += \"animation-duration: 1s;\";\n    }\n    animation_style += 'transform-origin:0%;';\n    if (data.hasOwnProperty('repeatCount')) {\n      if (data.repeatCount == \"-1\" || data.repeatCount == -1) {\n        animation_style += \"animation-iteration-count:infinite;\";\n        // elem.style.animationIterationCount = \"infinite\"\n      } else {\n        animation_style += \"animation-iteration-count:\"+(data.repeatCount + 1)+\";\";\n        // elem.style.animationIterationCount = data.repeatCount\n      }\n    }\n  \n    if (data.hasOwnProperty(\"interpolator\")) {\n      animation_style += \"animation-timing-function:\"+\"cubic-bezier(\" + data.interpolator + \")\"+\";\";\n    //   elem.style.animationTimingFunction = \"cubic-bezier(\" + data.interpolator + \")\";\n    }\n  \n    window.__RENDERED_KEYFRAMES.push(keyframeName)\n    console.log(\"animation style \", animation_style)\n    return animation_style;\n  }\n\nfunction setComputedStyles(elem, props) {\n    let computed_styles = \"\";\n    /* Computed Styles */\n    // LinearLayout Styles\n    if (props.hasOwnProperty('activeDimen') && props.hasOwnProperty('activeWeight')) {\n        let activeDimen = props.activeDimen;\n        let weight = props.activeWeight;\n\n        if (weight > 0) {\n            computed_styles += \"flex:\" + weight + \";\";\n            //elem.style.flex = weight;\n\n            if (activeDimen == 'w') {\n                //elem.style.width = 'auto';\n            } else {\n                // computed_styles += \"height:auto;\";\n               // elem.style.height = 'auto';\n            }\n        } else {\n            computed_styles += \"flex:none;\";\n            //elem.style.flex = 'none';\n        }\n    }\n    else {\n        computed_styles += \"flex:none;\";\n    //        elem.style.flex = 'none';\n    }\n\n    // RelativeLayout Styles\n    if (props.hasOwnProperty('absolute') && props.absolute) {\n        if(props.hasOwnProperty(\"position\")){\n            computed_styles += \"position:\"+ props.hasOwnProperty(\"position\") +\";\";\n        } else {\n            computed_styles += \"position:absolute;\";\n        }\n        //elem.style.position = 'absolute';\n\n        if (props.hasOwnProperty(\"fromTop\")) {\n            if (isNaN(props.fromTop))\n                computed_styles += \"top: \" + props.fromTop + \";\";\n                // elem.style.top = props.fromTop;\n            else\n                computed_styles += \"top: \" + props.fromTop + \"px;\";\n                // elem.style.top = props.fromTop + 'px';\n        }\n\n        if (props.hasOwnProperty(\"fromBottom\")) {\n            if (isNaN(props.fromBottom))\n                computed_styles += \"bottom: \" + props.fromBottom + \";\";\n                //elem.style.bottom = props.fromBottom;\n            else\n                computed_styles += \"bottom: \" + props.fromBottom + \"px;\";\n                //elem.style.bottom = props.fromBottom + 'px';\n        }\n\n        if (props.hasOwnProperty(\"fromLeft\")) {\n            if (isNaN(props.fromLeft))\n                computed_styles += \"left: \" + props.fromLeft + \";\";\n                // elem.style.left = props.fromLeft;\n            else\n                computed_styles += \"left: \" + props.fromLeft + \"px;\";\n                // elem.style.left = props.fromLeft + 'px';\n        }\n\n        if (props.hasOwnProperty(\"fromRight\")) {\n            if (isNaN(props.fromRight))\n                computed_styles += \"right: \" + props.fromRight + \";\";\n                // elem.style.right = props.fromRight;\n            else\n                computed_styles += \"right: \" + props.fromRight + \"px;\";\n            // elem.style.right = props.fromRight + 'px';\n        }\n    }\n    /* Computed Styles End */\n    return computed_styles;\n}\n\n// what does this do?\nfunction separatorInputKeyDownHandlerNew(ev){\n    ev.stopPropagation();\n    try {\n        var inputId = ev.target.id;\n        var inputType = ev.inputType;\n        var input = document.getElementById(inputId);\n        var oldValidValue = \"\";\n        if(input.oldValidValue){\n            oldValidValue = input.oldValidValue;\n        }\n        if(input.value.length===0){\n            input.oldValidValue = input.value;\n            return;\n        }\n        var dataPattern = input.getAttribute(\"data-pattern\");\n        if (dataPattern){\n          var data = dataPattern.split(',');\n          var length = parseInt(data.pop());\n          var regexPattern = new RegExp(data.join(''));\n          var selectionStart = input.selectionStart;\n          var selectionEnd = input.selectionEnd;\n          var separator = input.getAttribute(\"separator\");\n          var separatorRepeat = parseInt(input.getAttribute(\"separatorRepeat\"));\n          var value = input.value.replace(/[^a-zA-Z0-9@.-]/g, \"\");\n          //If existing value itself greater than equal to max length\n          if (length) {\n            input.setAttribute(\"maxlength\", length);\n          }\n          // If code doesn't matches regex pattern\n          if (!regexPattern.test(value)) {\n            input.value = oldValidValue;\n            input.selectionStart = selectionStart- (selectionEnd-selectionStart)-1;\n            input.selectionEnd = selectionEnd- (selectionEnd - selectionStart)-1;\n            return;\n          }\n          //Insert separator\n          if(separator && separatorRepeat){\n            ev.preventDefault();\n            var formattedString = \"\";\n            for(var i =0;i<value.length;i++){\n              var element = value[i];\n              formattedString += element;\n              var factor = 0;\n              if (formattedString.length && formattedString.replace(/[^a-zA-Z0-9@.-]/g, \"\").length % (separatorRepeat + factor) == 0) {\n                  formattedString += separator;\n              }\n            }\n            if (formattedString[length] == separator) {\n              formattedString = formattedString.substring(0, formattedString.length - 1);\n            }\n            input.value = formattedString;\n            if(inputType == \"deleteContentBackward\"){\n              let cursorPosition = selectionStart;\n              if ((cursorPosition % (separatorRepeat + 1) ) === 0) {\n                  if(input.oldValidValue.length < formattedString.length){\n                      cursorPosition += 1\n                  } else {\n                      cursorPosition -= 1\n                  }\n              }\n              if(cursorPosition<0){\n                  cursorPosition = 0;\n              }\n              input.oldValidValue = formattedString;\n              input.focus();\n              input.selectionStart = cursorPosition;\n              input.selectionEnd = cursorPosition;\n            }\n          }\n          input.oldValidValue = input.value;\n        }\n    } catch(err){\n        console.error(err);\n    }\n}\n// what does this do?\nfunction separatorInputKeyDownHandler(ev){\n    ev.stopPropagation();\n    try{\n        var inputId = ev.target.id;\n        var input = document.getElementById(inputId)\n        var oldValidValue = \"\";\n        if(input.oldValidValue){\n            oldValidValue = input.oldValidValue;\n        }\n        if(input.value.length===0){\n            input.oldValidValue = input.value;\n            return;\n        }\n        var dataPattern = input.getAttribute(\"data-pattern\");\n        if (dataPattern) {\n            var data = dataPattern.split(',');\n            var length = parseInt(data.pop());\n            var regexString = data.join('');\n            var selectionStart = input.selectionStart;\n            var selectionEnd = input.selectionEnd;\n            const newValue = input.value;\n            if (length) {\n                if (oldValidValue.length < input.value.length && oldValidValue.length + 1 > length) {\n                    input.value = oldValidValue;\n                    ev.preventDefault();\n                    input.selectionStart = selectionStart- (selectionEnd-selectionStart)-1;\n                    input.selectionEnd = selectionEnd- (selectionEnd - selectionStart)-1;\n                    return;\n                }\n            }\n            var finalData = newValue.replace(/[^a-zA-Z0-9@.-]/g, \"\");\n            if (regexString) {\n                var regexPattern = new RegExp(regexString);\n                if (!regexPattern.test(finalData)) {\n                    ev.preventDefault();\n                    input.value = oldValidValue;\n                    input.selectionStart = selectionStart- (selectionEnd-selectionStart)-1;\n                    input.selectionEnd = selectionEnd- (selectionEnd - selectionStart)-1;\n                    return;\n                }\n            }\n            var separator = input.getAttribute(\"separator\");\n            var separatorRepeat = parseInt(input.getAttribute(\"separatorRepeat\"));\n            if (separator && separatorRepeat) {\n                ev.preventDefault();\n                var formattedString = \"\";\n                for (let index = 0; index < finalData.length; index++) {\n                    var element = finalData[index];\n                    formattedString += element;\n                    var factor = 0;\n                    if (formattedString.length && formattedString.replace(/[^a-zA-Z0-9@.-]/g, \"\").length % (separatorRepeat + factor) == 0) {\n                        formattedString += separator;\n                    }\n                }\n                if (formattedString[formattedString.length - 1] == separator) {\n                    formattedString = formattedString.substring(0, formattedString.length - 1);\n                }\n                input.value = formattedString;\n                let cursorPosition = selectionStart;\n                if ((cursorPosition % (separatorRepeat + 1) ) === 0) {\n                    if(input.oldValidValue.length < formattedString.length){\n                        cursorPosition += 1\n                    } else {\n                        cursorPosition -= 1\n                    }\n                }\n                if(cursorPosition<0){\n                    cursorPosition = 0;\n                }\n                input.oldValidValue = formattedString;\n                input.focus();\n                input.selectionStart = cursorPosition;\n                input.selectionEnd = cursorPosition;\n                // console.log(\"formattedString----\", formattedString);\n            } else {\n                input.oldValidValue = finalData;\n            }\n        }\n    } catch(err){\n        console.error(err);\n    }\n}\n\nfunction setAttributes(view, elem, firstRender) {\n    var type = view.type\n    var props = view.props\n    let elem_style = \"\";\n    elem.setAttribute(\"id\",props.id);\n    // elem_style += \"id:\"+props.id+\";\";\n\n    if (type == \"relativeLayout\") {\n        elem_style+=\"overflow:hidden;\"\n    }\n    if (elem.classList && elem.classList.length > 0)\n        elem.classList.add(type)\n    else\n        elem.className = type\n\n    elem_style += mapAttributes.addTransitionValue(props);\n\n\n    // elem.style.transition = props.transition;\n    /* New Style */\n    /* Render from global styles */\n\n    elem_style+=mapAttributes.addSize(view);\n\n    // The order here matters, as for elements with same precedence, the element on the right side of the array will be considered\n    elem_style+=mapAttributes.addBorder(props);\n    elem_style+=mapAttributes.addVisibility(elem, props, type);\n    elem_style += mapAttributes.addExpandability(elem, props, type);\n\n    /* Render global styles end */\n\n    elem_style+=mapAttributes.addOverFlow(props);\n    elem_style+=mapAttributes.addLayout(elem, type, props);\n\n    mapAttributes.addImage(type,props,elem);\n    mapAttributes.addTextProperties(props, elem, type);\n    mapAttributes.addClassNameProperties(props,elem);\n\n    elem_style += mapAttributes.mapPropToStyle(elem,props,type);\n    elem = mapAttributes.setElemAttributes(elem,props);\n    elem_style+=mapAttributes.addFunctions(props, elem);\n    elem_style+=mapAttributes.addAnimationAttributes(props);\n\n    if (firstRender) { // Events are added when the element is created for the first time\n        initiateElement(type, props, elem)\n    }\n\n    return elem_style;\n}\n\n\n// mutation observers are slow, what is this and why can't global events solve this problem?\n/* Observer for afterRender */\nlet observer = (elem) => {\n    let id = elem.id;\n    if (!id || __OBSERVERS[id])\n        return;\n\n    __OBSERVERS[id] = new MutationObserver(function (item, observer) {\n        if (item && item[0].target) {\n            let target = item[0].target;\n            let id = target.id;\n            if (id) {\n                let view = __VIEWS[id];\n\n                if (view && view.props.hasOwnProperty('afterRender') && typeof view.props.afterRender == \"function\") {\n                    view.props.afterRender()\n                }\n            }\n        }\n\n        observer.disconnect();\n    });\n\n    (__OBSERVERS[id]).observe(elem, {\n        attributes: true\n    });\n}\n\n/* Do some actions after rendered */ // just use global events no?\nlet cb = (elem, view) => {\n    if (view.props.feedback && typeof view.props.feedback == \"function\") {\n        view.props.feedback()\n    }\n}\n\nwindow.inflateTimings = {\n    lastUpdatedAt: null\n}\n\n// Creates the DOM element if it has not been already inflated\n// View: Object similar to ReactDOM struct, {type, props, children}\n// parentElement: DOM Object\nlet setToolTip = function(view, elem) {\n    if (\n        view.type != 'linearLayout' &&\n        view.type != 'relativeLayout' &&\n        view.type != 'horizontalScrollView' &&\n        view.type != 'scrollView' &&\n        view.type != 'listView'\n    ) {\n        if (view.props.hasOwnProperty('tooltipText')) {\n            let tooltipText = view.props.tooltipText.trim()\n\n            if (tooltipText) {\n                let tooltipGravity = view.props.tooltipGravity ? view.props.tooltipGravity : 'top'\n\n                elem.classList.add('hasTooltip')\n\n                let tooltipElem = document.createElement('div')\n                tooltipElem.innerHTML = '<pre>' + tooltipText + '</pre>'\n                tooltipElem.classList.add('tooltipText')\n                tooltipElem.classList.add('tooltipGravity_' + tooltipGravity)\n\n                let size = 15\n                if (view.props.hasOwnProperty('tooltipTextSize') && !isNaN(view.props.tooltipTextSize)) {\n                    size = view.props.tooltipTextSize\n                }\n\n                tooltipElem.style.fontSize = size + 'px'\n\n                elem.appendChild(tooltipElem)\n            }\n        }\n    }\n}\nlet createNewElement = function(view, parentElement, siblingView){\n    let elem = null;\n    let subElem = null;\n    let element_style =\"\";\n    //console.log(view.type);\n    switch(view.type) {\n        case \"webView\":\n            elem = document.createElement('iframe')\n\n            elem.style.border = 'none';\n            break;\n        case \"imageView\":\n            elem = document.createElement(\"img\");\n            element_style = \"\";\n            element_style += \"margin:0;\";\n            element_style += \"padding:0;\";\n            element_style += \"display:block;\";\n            element_style += \"max-width:100%;\";\n            element_style += \"max-height:100%;\";\n            element_style += \"box-sizing:border-box;\";\n            // elem[\"style\"][\"margin\"] = \"0\";\n            // elem[\"style\"][\"padding\"] = \"0\";\n            // elem[\"style\"][\"display\"] = \"block\";\n            // elem[\"style\"][\"max-width\"] = \"100%\";\n            // elem[\"style\"][\"max-height\"] = \"100%\";\n            // elem[\"style\"][\"box-sizing\"] = \"border-box\";\n            elem.setAttribute(\"alt\", \"\");\n            break;\n        case \"checkBox\":\n            elem = document.createElement(\"input\");\n            elem.setAttribute('type', 'checkbox');\n            if (view.props.hasOwnProperty('checked') && view.props.checked == true) {\n                elem.checked = true\n            } else {\n                elem.checked = false\n            }\n\n            if (view.props.hasOwnProperty('label') && view.props.label != '' && parentElement) {\n                subElem = document.createElement('label');\n                subElem.setAttribute('for', view.props.id);\n                subElem.innerHTML = view.props.label;\n                subElem.style.padding = \"0 0 0 5px\";\n                subElem.classList.add('input-label');\n\n                delete view.props.label;\n            }\n            break;\n        case \"editText\":\n            element_style = \"\";\n            if (view.props.hasOwnProperty('inputType') && view.props.inputType == 'multiText') {\n                elem = document.createElement(\"textarea\");\n                element_style += \"border:none;\";\n                element_style += \"resize:none;\";\n                element_style += \"outline:none;\";\n                //console.log('creating a component')\n\n                // elem.style.border = 'none';\n                // elem.style.resize = 'none';\n                // elem.style.outline = 'none';\n            } else {\n                elem = document.createElement(\"input\");\n            }\n\n            elem.value = view.props.text || \"\";\n\n            if (view.props.letterSpacing) {\n                element_style += \"letter-spacing : \" + view.props.letterSpacing + \";\";\n                // elem[\"style\"][\"letter-spacing\"] = view.props.letterSpacing;\n            }\n\n            if (view.props.label) {\n\n                // var inputViewStyle = \"\";\n                var inputView = elem;\n\n                element_style += \"width:100%;\";\n                // inputView.style.width = '100%';\n                element_style += setAttributes(view, inputView, true);\n\n                inputView.setAttribute(\"id\", view.props.id + \"_input\");\n\n\n                var l = document.createElement(\"label\");\n\n                var label_style = \"\";\n                l.setAttribute(\"for\", view.props.id + \"_input\");\n\n                l.innerHTML = view.props.label;\n                l.classList.add('input-label');\n\n                label_style += \"position:absolute;\";\n                label_style += \"color:#999;\";\n                label_style += \"background-color:#fff;\";\n                label_style += \"padding: 0 5px;\";\n                label_style += \"z-index: 10;\";\n                label_style += \"transition: transform 150ms ease-out, font-size 150ms ease-out;\";\n\n                // l[\"style\"][\"position\"] = \"absolute\";\n                // l[\"style\"][\"color\"] = \"#999\";\n                // l[\"style\"][\"background-color\"] = \"#fff\";\n                // l[\"style\"][\"padding\"] = \"0 5px\";\n                // l[\"style\"][\"z-index\"] = 10;\n                // l[\"style\"][\"transition\"] = \"transform 150ms ease-out, font-size 150ms ease-out\";\n\n                if (view.props.letterSpacing) {\n                    label_style += \"letter-spacing: \" + view.props.letterSpacing + \";\";\n                    // l[\"style\"][\"letter-spacing\"] = view.props.letterSpacing;\n                }\n\n                l.setAttribute(\"style\",label_style);\n                inputView.setAttribute(\"style\",element_style);\n\n                elem = document.createElement(\"div\");\n                element_style = \"\";\n                elem.classList.add('input-group');\n                elem.appendChild(l);\n                elem.appendChild(inputView);\n\n                view.props.style.position = \"relative\";\n                view.props.style.overflow\n                element_style += setAttributes(view, elem, true);\n                delete view.props.label;\n            } else if (view.props.hint) {\n                elem.placeholder = view.props.hint || \"\";\n            }\n            break;\n        default:\n            elem = document.createElement(view.elName || \"div\"); // create the element here\n            element_style = \"\";\n\n    }\n    setToolTip(view,elem);\n\n\n    addToParentElement(parentElement, siblingView, elem, subElem);\n\n    // appened attributes, nodes & style to the elemenent\n    element_style += setAttributes(view, elem, true);\n\n    /*if(view.props.hasOwnProperty('afterRender') && typeof view.props.afterRender == \"function\"){\n      if(!stopObserver){\n        // We should run observer for the element\n        observer(elem);\n        elem.setAttribute('has_render', true);\n      }\n    }*/\n    return {elem,subElem,element_style};\n}\nlet addToParentElement = function(parentElement, siblingView, elem, subElem) {\n\n    if (parentElement) {\n        let siblingElement = siblingView ? document.getElementById(siblingView.props.id) : null;\n\n        if (siblingElement && siblingElement != undefined) {\n            if (parentElement == siblingElement) { // Prepend\n                if (subElem) {\n                    parentElement.insertBefore(subElem, parentElement.childNodes[0]);\n                }\n                parentElement.insertBefore(elem, parentElement.childNodes[0]);\n            } else { // Insert in specified position\n                let nextSiblingElement = siblingElement.nextSibling;\n\n                parentElement.insertBefore(elem, nextSiblingElement);\n                if (subElem) {\n                    parentElement.insertBefore(subElem, nextSiblingElement);\n                }\n            }\n        } else {\n            parentElement.appendChild(elem);\n            if (subElem) {\n                parentElement.appendChild(subElem);\n            }\n        }\n    }\n}\nlet setLayout = function(view, elem) {\n    switch(view.type) {\n    case 'horizontalScrollView':\n        if (view.props.hasOwnProperty('scrollLeft') && !isNaN(view.props.scrollLeft))\n            elem.scrollLeft = view.props.scrollLeft;\n        break;\n    case 'listView':\n        if (view.props.hasOwnProperty('scrollTop') && !isNaN(view.props.scrollTop))\n            elem.scrollTop = view.props.scrollTop;\n        break;\n    case 'scrollView':\n        if (view.props.hasOwnProperty('scrollLeft') && !isNaN(view.props.scrollLeft))\n            elem.scrollLeft = view.props.scrollLeft;\n\n        if (view.props.hasOwnProperty('scrollTop') && !isNaN(view.props.scrollTop))\n            elem.scrollTop = view.props.scrollTop;\n    }\n}\nlet getElementByView = function(view, parentElement, siblingView, stopChild, renderStyle) {\n    if(!view.props.id){\n        view.props.id = window.JOS_PRESTO_ID++;\n        //window.__VIEWS[view.props.id] =  view;\n    }\n    let elem = document.getElementById(view.props.id);\n    let subElem = null; //  this is being used only for lablel property\n    let newInflated = false;\n    let element_style =\"\";\n\n    if (view.props.x == \"NaN\" || view.props.y == \"NaN\") {\n        view = handleWrapContent(view, parentElement)\n    }\n\n    if (!elem) {\n        let element = createNewElement(view, parentElement, siblingView);\n        newInflated = true;\n        elem = element.elem;\n        subElem = element.subElem;\n        element_style+=element.element_style;\n        if(view.props.hasOwnProperty(\"focus\") && view.props.focus)\n            window.focusedElement = view.props.id;\n\n    } else if (renderStyle) {\n        element_style += setAttributes(view, elem, true);\n    }\n    setLayout(elem,view);\n    if(!stopChild) computeChildDimens(view);\n    element_style += setComputedStyles(elem, view.props);\n    element_style += setAnimationStyles(elem, view.props);\n    elem.setAttribute(\"style\",element_style); // finally attach all the styles to the element\n    return {elem,newInflated};\n}\nlet setAfterRenderFunctions = function (newInflated, view, elem, stopObserver) {\n\n    if (newInflated) {\n        if(view.hasOwnProperty)\n        if (view.props.hasOwnProperty('afterRender') && typeof view.props.afterRender == \"function\") { // mutation observers are expensive\n            if (!stopObserver) {\n                // We should run observer for the element\n                observer(elem);\n                elem.setAttribute('has_render', true);\n            }\n        }\n        // if(view.data){\n\n        //     for(let i=0;i<view.children.length;i++){\n        //         let child = document.getElementById(view.children[i].props.id);\n        //         child.addEventListener('onClick',()=>view.onItemClick(i));}\n        // }\n        cb(elem, view);\n    }\n}\n\nlet renderList = (view,elem)=>{\n    //console.dir(view.props.diffArray)\n        if(view.props.diffArray== \"filter\"){\n            // console.log(\"filtering\")\n            // console.time('filtering')\n            view.children=[];\n            elem.innerHTML = '';\n            for(let i=0;i<view.props.itemDatas.length;i++)\n            {\n                view.children.push(List.getChildItemViewByIndex(view,i));\n\n            }\n            computeChildDimens(view);\n            for(let i=0;i<view.props.itemDatas.length;i++){\n                elem.appendChild(inflateView({view:view.children[i]}))}\n            //console.timeEnd('filtering')\n        }\n        //replacing only the diff elements\n        else if(view.props.diffArray){\n            //console.time('patch')\n            for(let i of view.props.diffArray)\n            {\n                //console.log(\"CHANGING VIEW OF \"+i)\n                console.time(\"patchingElement\")\n                let oldView = view.children[i];\n                let oldChild = document.getElementById(oldView.props.id);\n                if(oldChild){\n\n                    let newChildView = List.getChildItemViewByIndex(view,i);\n                    newChildView.onClick = oldView.onClick;\n                    view.children[i] = newChildView\n                    computeChildDimens(view)\n\n                    let newChild = inflateView({view:newChildView});\n                    // newChild.addEventListener('click',newChildView.props.onClick)\n                    // newChild.style.cursor='pointer'\n                    // console.dir(newChild)\n                    elem.replaceChild(newChild,oldChild);\n\n                }\n                //console.timeEnd('patchingElement')\n        }\n        }\n        view.props.diffArray = undefined;\n}\nlet inflateView = function ({view, parentElement, siblingView, stopChild, renderStyle, computeList} ={}) {\n    view.state = view.state || {};\n    if(view.props.listData){\n        view.props.itemDatas = JSON.parse(view.props.listData);\n        if(!view.props.data){\n            view.props.data = JSON.parse(view.props.listItem)\n        }\n    }\n\n    let {elem,newInflated} = getElementByView(view, parentElement, siblingView, stopChild, renderStyle);\n\n    //patching list\n    if(view.props.listData && renderStyle ){\n        renderList(view, elem);\n    } else if (!stopChild ) {\n        //firstRender List\n        if (view.props.itemDatas) {\n            List.createListView(view);\n            computeChildDimens(view);\n\n        }\n       if (view.hasOwnProperty('children') && view.children.length > 0) {\n           preComputeLayoutDimens(view);\n           postComputeLayoutDimens2(view, computeList)\n            for (let i = 0; i < view.children.length; i++) {\n                if (view.children[i]) {\n                    view.children[i].parent = view;\n                    if (i != 0) {\n                        inflateView({view:view.children[i], parentElement:elem, siblingView:view.children[i - 1], stopChild:renderStyle, renderStyle, computeList});\n                    } else {\n                        inflateView({view:view.children[i], parentElement:elem, siblingView:view, stopChild:renderStyle, renderStyle, computeList});\n                    }\n                }\n            }\n           \n        }\n        view.state = view.state || {};\n        view.state.computedHeight = isNaN(parseInt(view.props.height)) ? view.state.computedHeight || 0 : parseInt(view.props.height)\n        view.state.computedWidth = isNaN(parseInt(view.props.width)) ? view.state.computedWidth || 0 : parseInt(view.props.width)\n    }\n    else {\n        postComputeLayoutDimens2(view, computeList);\n    }\n    setAfterRenderFunctions(newInflated, view, elem);\n\n    return elem;\n};\n\nlet preComputeLayoutDimens = (view) => {\n    view.state = view.state || {}\n    if (view.type == \"relativeLayout\") {\n        view.state.treatMatchParentAsWrapHeight = view.state.practicalHeight == \"wrap_content\";\n        view.state.treatMatchParentAsWrapWidth = view.state.practicalWidth == \"wrap_content\";\n        // if(view.state.treatMatchParentAsWrapHeight && view.state.treatMatchParentAsWrapWidth)\n        for (var i = 0; i < view.children.length; ++i) {\n            if (view.children[i].props.height != \"match_parent\")\n                view.state.treatMatchParentAsWrapHeight = false;\n            if (view.children[i].props.width != \"match_parent\")\n                view.state.treatMatchParentAsWrapWidth = false;\n            if (!view.state.treatMatchParentAsWrapWidth && !view.state.treatMatchParentAsWrapHeight)\n                break\n        }\n    }\n}\n\nlet postComputeLayoutDimens2 = (view,postComputeList) =>{\n    if(view.type == \"relativeLayout\" && (view.state.practicalWidth == \"wrap_content\"  || view.state.practicalHeight == \"wrap_content\" ) && view.children.length > 0) {\n        postComputeList.push(view.props.id);\n    }\n\n}\n\nlet getValueFromPixel = (pixel) =>{\n    return parseInt(pixel.substring(0,pixel.length-1));\n}\nlet postCompute = (list) =>{\n    while(list.length>0){\n        let id = list.pop();\n \n        let elem = document.getElementById(id);\n        let childNodes = elem.childNodes;\n        let maxHeight = 0;\n        let maxWidth = 0;\n        for (var i = 0; i < childNodes.length; ++i) {\n                let style = childNodes[i].currentStyle || window.getComputedStyle(childNodes[i]);\n                maxHeight = maxHeight > childNodes[i].offsetHeight ? maxHeight : (childNodes[i].offsetHeight + getValueFromPixel(style.marginTop) + getValueFromPixel(style.marginBottom));\n                maxWidth = maxWidth > childNodes[i].offsetWidth ? maxWidth : childNodes[i].offsetWidth;\n        }\n        let view = window.__VIEWS[id];\n        if(view.state.practicalHeight == \"wrap_content\" ) {\n            elem.style.height = maxHeight + \"px\"\n        }\n        if(view.state.practicalWidth == \"wrap_content\") {\n            elem.style.width = maxWidth + \"px\"\n        }\n        \n    }\n}\nlet postComputeLayoutDimens = (view, elem) => {\n    if(view.type == \"relativeLayout\" && (view.state.practicalWidth == \"wrap_content\"  || view.state.practicalHeight == \"wrap_content\" ) && view.children.length > 0) {\n        var largestHeight = view.children[0].state.computedHeight;\n        var largestWidth = view.children[0].state.computedWidth;\n        for (var i = 1; i < view.children.length; ++i) {\n            if (view.state.practicalHeight == \"wrap_content\") {\n                largestHeight = largestHeight > view.children[i].state.computedHeight ? largestHeight : view.children[i].state.computedHeight;\n            }\n            if (view.state.practicalWidth == \"wrap_content\") {\n                largestWidth = largestWidth > view.children[i].state.computedWidth ? largestWidth : view.children[i].state.computedWidth\n            }\n        }\n        if(view.state.practicalHeight == \"wrap_content\" ) {\n            elem.style.height = largestHeight + \"px\"\n            view.state.computedHeight = largestHeight\n        }\n        if(view.state.practicalWidth == \"wrap_content\") {\n            elem.style.width = largestWidth + \"px\"\n            view.state.computedWidth = largestWidth\n        }\n    }\n}\n\n// what?\nlet handleWrapContent = (view, parentElement) => {\n    let newDimen = 0;\n    for (var i = 0; i < parentElement.childNodes.length; i++) {\n        newDimen += parentElement.childNodes[i].offsetWidth;\n    }\n    view.props.x = newDimen;\n    return view;\n}\n\nmodule.exports = {\n    inflateView,\n    computeChildDimens,\n    List,\n    postComputeLayoutDimens,\n    preComputeLayoutDimens,\n    postCompute\n};\n","function parseColors(color) {\n    if (color.length < 8)\n      return color;\n  \n    if (color.indexOf(\"rgba\") !== -1 || color.indexOf(\"rgb\") !== -1)\n      return color;\n  \n    var alpha = parseInt(color.substring(1, 3), 16);\n    alpha = (alpha / 255).toFixed(2);\n  \n    var hexColor = color.substring(3, 9);\n    var rgbaColor = \"rgba(\" + convertHexToRgb(hexColor) + \",\" + alpha + \")\";\n  \n    return rgbaColor;\n}\n\nfunction rWS(value) {\n  return value.replace(/ /g, '');\n}\n\nfunction cS(value) {\n  return value ? value + '' : \"\";\n}\n\nfunction convertColorToRgba(color) {\n  color = rWS(cS(color));\n\n  var values;\n  var alpha = \"1.00\";\n\n  if (color.length >= 8) {\n    alpha = parseInt(color.substring(1, 3), 16);\n    alpha = (alpha / 255).toFixed(2);\n    color = color.substring(3, 9);\n  } else {\n    color = color.substring(1, color.length);\n  }\n\n  color = convertHexToRgb(rWS(color));\n  values = color.split(',');\n\n  return {\n    r: parseInt(rWS(values[0])),\n    g: parseInt(rWS(values[1])),\n    b: parseInt(rWS(values[2])),\n    a: parseFloat(alpha)\n  };\n}\n\n\nfunction convertHexToRgb(hex) {\n  var r = (parseInt(hex.substring(0, 2), 16)).toFixed(2);\n  var g = (parseInt(hex.substring(2, 4), 16)).toFixed(2);\n  var b = (parseInt(hex.substring(4, 6), 16)).toFixed(2);\n\n  return r + \",\" + g + \",\" + b;\n}\n\nconst state = {\n  fragments : {},\n  fragmentTypes : {},\n  mainRootView : {\n    type: \"relativeLayout\",\n    props: {\n        \"h\": document.getElementById(\"content\").clientHeight,\n        \"w\": document.getElementById(\"content\").clientWidth\n    }\n  }\n} \n\nfunction addToContainerList(id , namespace){\n    let container = getContainer(namespace, true);\n    if(container)\n    {\n      let key = function () {\n            function s4() {\n                return Math.floor((1 + Math.random()) * 0x10000)\n                    .toString(16)\n                    .substring(1);\n            }\n            return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n                s4() + '-' + s4() + s4() + s4();\n        }();\n      state.fragments[key] = document.getElementById(id);\n      state.fragmentTypes[key] = window.__VIEWS[id];\n      return key;\n  }\n  return \"__failed\"\n}\n\nfunction getContainer( namespace ){\n    if(namespace){\n      let container = state.fragments[namespace];\n      if(container)\n        return container;\n  }\n  return document.getElementById(\"content\");\n}\n\nfunction getParentView(namespace, view) {\n  if (window.__VIEWS && !window.__VIEWS.content) {\n    window.__VIEWS.content = state.mainRootView;\n  }\n  if (namespace) {\n    let containerType = state.fragmentTypes[namespace];\n    if (containerType) {\n      containerType.children = containerType.children || []\n      containerType.children.push(view);\n      containerType.oldView = true;\n      return containerType;\n    }\n  }\n\n  if (state.mainRootView.children) {\n    state.mainRootView.oldView = true;\n  }\n  state.mainRootView.children = state.mainRootView.children || [];\n  state.mainRootView.children.push(view);\n  return state.mainRootView;\n}\n\n// function modifyTranslation(config){\n//   var x = config.x || \"0\";\n//   var y = config.y || \"0\";\n//   var animationArray = JSON.parse(config.inlineAnimation);\n//   var animationArray = animationArray.map(function(a){\n//     if(a.hasOwnProperty(\"fromX\")){\n//       a.fromX = parseInt(a.fromX) + parseInt(x) + '';\n//       if(!a.hasOwnProperty(\"toX\")){\n//         a.toX = 0 + parseInt(x) + '';\n//       }\n//     }\n//     if(a.hasOwnProperty(\"toX\")){\n//       a.toX = parseInt(a.toX) + parseInt(x) + '';\n//     }\n//     if(a.hasOwnProperty(\"fromY\")){\n//       a.fromY = parseInt(a.fromY) + parseInt(y) + '';\n//       if(!a.hasOwnProperty(\"toY\")){\n//         a.toY = 0 + parseInt(y) + '';\n//       }\n//     }\n//     if(a.hasOwnProperty(\"toY\")){\n//       a.toY = parseInt(a.toY) + parseInt(y) + '';\n//     }\n//     return a;\n//   })\n//   return (animationArray);\n// }\n\nmodule.exports = {\n    parseColors,\n    rWS, \n    cS, \n    convertColorToRgba,\n    addToContainerList,\n    getParentView,\n    getContainer\n}\n","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nconst BaseView = require('./baseView');\nconst VIEW = new BaseView(null, null, {});\n\n// Object of types of animations available on screen change\nconst AnimationTypes = {\n  SLIDE: {\n    name: \"slide\",\n    handler: slideHandler\n  },\n  SLIDE_VERTICAL: {\n    name: \"slide_down\",\n    handler: slideDownHandler\n  },\n  SIMPLE: {\n    name: \"simple\",\n    handler: simpleHandler\n  }\n}\n\nconst DEFAULT_ANIMATION = AnimationTypes.SLIDE;\n\nfunction simpleHandler(fromId, toId, direction) {\n  let cmd = VIEW.cmd({\n    id: toId,\n    translationZ: ++window.ZIndex\n  });\n  return cmd;\n}\n\nfunction slideDownHandler(fromId, toId, direction) {\n  let container = VIEW.cmdContainer();\n  let cmd;\n\n  if (direction == 1) {\n    cmd = VIEW.cmd({\n      id: toId,\n      translationY: window.__HEIGHT,\n      a_duration: '300',\n      a_translationY: '0',\n      translationZ: ++window.ZIndex,\n    });\n    container = container.addCmd(cmd);\n\n    cmd = VIEW.cmd({\n      id: fromId,\n      a_translationY: -0.2 * window.__HEIGHT,\n      a_duration: '300'\n    });\n    container = container.addCmd(cmd);\n\n    return container;\n  }\n\n  window.ZIndex++;\n  cmd = VIEW.cmd({\n    id: fromId,\n    translationY: 0,\n    a_translationY: window.__HEIGHT,\n    a_duration: '300',\n    translationZ: ++window.ZIndex\n  });\n  container = container.addCmd(cmd);\n\n  cmd = VIEW.cmd({\n    id: toId,\n    translationZ: window.ZIndex-1,\n    a_translationY: '0',\n    translationY: -0.2 * window.__HEIGHT,\n    a_duration: '300',\n  });\n  container = container.addCmd(cmd);\n\n  return container;\n}\n\nfunction slideHandler(fromId, toId, direction) {\n  let container = VIEW.cmdContainer();\n  let cmd;\n  if (direction == 1) {\n    cmd = VIEW.cmd({\n      id: toId,\n      visibility: 'visible',\n      translationX: window.__WIDTH,\n      a_duration: '300',\n      a_translationX: '0',\n      translationZ: ++window.ZIndex,\n    });\n    container = container.addCmd(cmd);\n    cmd = VIEW.cmd({\n      id: fromId,\n      translationX: '0',\n      visibility: 'visible',\n      a_duration: '300',\n      a_translationX: (-.2 * window.__WIDTH) + '',\n    });\n    container = container.addCmd(cmd);\n  }\n\n  if (direction == -1) {\n    window.ZIndex++;\n    cmd = VIEW.cmd({\n      id: fromId,\n      translationX: '0',\n      a_duration: '300',\n      a_translationX: window.__WIDTH,\n      translationZ: ++window.ZIndex,\n    });\n    container = container.addCmd(cmd);\n\n    cmd = VIEW.cmd({\n      id: toId,\n      visibility: 'visible',\n      translationX: (-.2 * window.__WIDTH) + '',\n      a_duration: '300',\n      a_translationX: '0',\n      translationZ: window.ZIndex - 1,\n    });\n    container = container.addCmd(cmd);\n  }\n\n  return container;\n}\n\n/*\n  Generic Handler for Animation\n  Arguments:\n    fromViewId: Number - Id of the view currently visible on the screen\n    toViewID: Number - Id of the view which has to be brought on the screen\n    ID: Number - Id of the view to be animated\n    animator: Obj - {name:string, handler:function}\n    direction: Number - Represents of the direction of the screen\n      -1 : Go back to the already rendered screen (right to left)\n       1 : Go to the new screen (left to right)\n*/\nfunction getAnimation(fromViewID, toViewId, direction, animator) {\n  if (!animator)\n    animator = DEFAULT_ANIMATION;\n\n  if (typeof animator === \"object\" && typeof animator.handler === \"function\")\n    return animator.handler(fromViewID, toViewId, direction);\n  else\n    console.log(new Error(\"Animation handler is not a function, type: \" +\n      animator));\n}\n\nmodule.exports.types = AnimationTypes;\nmodule.exports.getAnimation = getAnimation;","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nconst merge =  require(\"./helper\").merge;\n\nString.prototype.addCmd = function(data) {\n  return this.concat(data);\n};\n\nArray.prototype.addCmd = function(data) {\n  this.push(data);\n  return this;\n};\n\nlet parseParams;\nif (window.__OS == \"ANDROID\")\n  parseParams = require('./helpers/android/parseParams');\nelse if (window.__OS == \"WEB\")\n  parseParams = require('./helpers/web/parseParams');\nelse\n  parseParams = require('./helpers/ios/parseParams');\n\nclass BaseView {\n  constructor(props, children) {\n    this.props = props || {};\n    this.children = children || [];\n\n    window.__SETFN = function (config) {\n      Android.runInUI(\n        this.set(config),\n        null\n      )\n    }.bind(this)\n\n    this.idSet = {};\n\n    if (this.props.id) {\n      this.idSet[\"id\"] = this.props.id;\n    } else {\n      this.props.id = this.id(\"id\");\n    }\n\n    if (this.props._ref) {\n      this.props._ref(this);\n    }\n  }\n\n  resolveChildren() {\n    return this.children.map(function(child) {\n      return child.render();\n    });\n  }\n\n  findRecurse(obj, selector) {\n    var children = obj.children;\n\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].displayName && children[i].displayName == selector) {\n        this.foundChildren.push(children[i]);\n      }\n\n      if (children[i].children && children[i].children.length)\n        this.findRecurse(children[i], selector);\n    }\n\n    return;\n  }\n\n  find(selector, obj) {\n    this.foundChildren = [];\n\n    if (!obj)\n      this.findRecurse(this.layout, selector);\n    else\n      this.findRecurse(obj, selector);\n\n    return this.foundChildren;\n  }\n\n  id(name) {\n    if (!this.idSet[name]) {\n      window.__ID++;\n      this.idSet[name] = window.__ID;\n    }\n    \n    return this.idSet[name];\n  }\n\n  setIds(arr) {\n    if (!this.idSet)\n      this.idSet = {};\n\n    for (var i = 0; i < arr.length; i++) {\n      if (!this.idSet[arr[i]]) {\n        window.__ID++;\n        this.idSet[arr[i]] = window.__ID + '';\n      }\n    }\n  }\n\n  handleSpecialChars(value) {\n    value = value.indexOf(',') > -1 ? value.replace(/\\,/g, '\\\\\\\\,') : value;\n    value = value.indexOf(':') > -1 ? value.replace(/\\:/g, '\\\\\\\\:') : value;\n    value = value.indexOf('=') > -1 ? value.replace(/\\=/g, '\\\\\\\\=') : value;\n    value = value.indexOf(';') > -1 ? value.replace(/\\;/g, '\\\\\\\\;') : value;\n\n    return value;\n  }\n\n  cmdForAndroid(config) {\n    var cmd = \"set_view=ctx->findViewById:i_\" + config.id + \";\";\n    var runInUI;\n\n    if (config.toast) {\n      cmd = \"set_TOAST=android.widget.Toast->makeText:ctx_ctx,cs_\" + this.handleSpecialChars(\n          config.text) + \",i_\" + (config.duration == \"short\" ? 0 : 1) +\n        \";get_TOAST->show\";\n    } else if (config && Object.keys(config).length) {\n      delete config.id;\n\n      config.root = \"true\";\n      runInUI = parseParams(\"linearLayout\", config, \"get\").runInUI;\n\n      cmd += runInUI + ';';\n    }\n\n    return cmd;\n  }\n\n  cmdContainer() {\n    if (window.__OS == \"ANDROID\")\n      return \"\";\n    return [];\n  }\n\n  cmdForWeb(config) {\n    if (Object.keys(config).length)\n      return parseParams(\"linearLayout\", config, \"set\");\n  }\n\n  cmd(config) {\n    if (window.__OS == \"ANDROID\")\n      return this.cmdForAndroid(config);\n    else if (window.__OS == \"WEB\")\n      return this.cmdForWeb(config);\n    return config;\n  }\n\n  appendChild(id, jsx, index, fn, replaceChild) {\n    var proxyFnName;\n    if (!replaceChild) {\n      replaceChild = false;\n    }\n\n    if (fn) {\n      proxyFnName = 'F' + window.__FN_INDEX;\n      window.__PROXY_FN[proxyFnName] = fn;\n      window.__FN_INDEX++;\n    }\n\n    jsx = (window.__OS != \"ANDROID\") ? jsx : JSON.stringify(jsx);\n\n    if (proxyFnName)\n      Android.addViewToParent(id, jsx, index, proxyFnName, replaceChild);\n    else\n      Android.addViewToParent(id, jsx, index, null, replaceChild);\n  }\n\n  getView(jsx) {\n    if (window.__OS != \"ANDROID\")\n      return jsx;\n\n    return JSON.stringify(jsx);\n  }\n\n  updateProps(props) {\n    this.props = merge(this.props, props);\n    const oldContainerId = this.layout.idSet.id;\n    const layout = this.render();\n    for (let i=0; i<layout.children.length; i++) {\n      if (i==0) this.replaceChild(oldContainerId, layout.children[i], i);\n      else this.appendChild(oldContainerId, layout.children[i], i);\n    }\n    this.layout.idSet.id = oldContainerId;\n  }\n\n  removeView(id) {\n    if (__OS == \"WEB\")\n      return Android.removeView(id);\n    return \"set_VIEW=ctx->findViewById:i_\" + id +\n      \";set_PARENT=get_VIEW->getParent;get_PARENT->removeView:get_VIEW;\"\n  }\n\n  removeChildren(id) {\n    if (__OS == \"WEB\")\n      return Android.removeChildren(id);\n    return \"set_VIEW=ctx->findViewById:i_\" + id +\n      \";get_VIEW->removeAllViews;\"\n  }\n\n  replaceChild(id, jsx, index, fn) {\n    this.appendChild(id, jsx, index, fn, true);\n  }\n}\n\nmodule.exports = BaseView;","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\n/*\n  ViewContext of the Parent.f\n  Obj holds the available width and height of it's parent container\n  and x & y offset for it's children\n*/\nfunction viewCtxObj(view) {\n  let props = view.props;\n  let obj = {\n    w: props.w * 1,\n    h: props.h * 1,\n    width: props.w * 1,\n  };\n\n  view.children.forEach(child => {\n    child.props.w = child.props.width;\n    child.props.h = child.props.height;\n  });\n\n  return obj;\n}\n\n/*\n  Returns true if container has a child with match_parent for a\n  given dimension (width or height)\n*/\nfunction hasMatchParentChild(childs, dimen) {\n  for (let i = 0; i < childs.length; i++) {\n    let childProp = childs[i].props;\n\n    if (childProp[dimen] && (childProp[dimen] == \"match_parent\")) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/*\n  Returns true if container has weighted child\n*/\nfunction hasWeightChild(type, childs) {\n  if (type != \"linearLayout\") {\n    return false;\n  }\n\n  for (let i = 0; i < childs.length; i++) {\n    let child = childs[i].props;\n\n    if (child.weight && parseFloat(child.weight) > 0) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction computeRelativeLayout(view) {\n  let viewCtx = viewCtxObj(view);\n  let children = view.children;\n\n  children.forEach(child => {\n    let props = child.props;\n\n    props.absolute = true;\n    props.fromTop = 0;\n    props.fromBottom = 'auto';\n    props.fromLeft = 0;\n    props.fromRight = 'auto';\n\n    if(props.hasOwnProperty('alignParentLeft') && props.alignParentLeft){\n      props.fromLeft = 0;\n      props.fromRight = 'auto';\n    }\n    if(props.hasOwnProperty('alignParentRight') && props.alignParentRight){\n      props.fromLeft = 'auto';\n      props.fromRight = 0;\n    }\n\n    if(props.hasOwnProperty('alignParentBottom') && props.alignParentBottom){\n      props.fromTop = 'auto';\n      props.fromBottom = 0;\n    }\n  });\n}\n\nfunction computeLinearlayout(view) {\n  let viewCtx = viewCtxObj(view);\n  let parentProps = view.props;\n  let children = view.children;\n  let isHorizontal = (parentProps.orientation === \"vertical\") ? false : true;\n\n  let activeDimen = (isHorizontal) ? \"w\" : \"h\";\n  let passiveDimen = (isHorizontal) ? \"h\" : \"w\";\n\n  let hasWeight = hasWeightChild(view.type, children);\n  let hasMatchParent = hasMatchParentChild(children, activeDimen);\n\n  if (hasWeight && hasMatchParent) {\n    // We can't use both at the same time\n    return;\n  }\n\n  /* Initialize */\n  children.forEach(child => {\n    let props = child.props;\n\n    if (props.hasOwnProperty(\"activeDimen\"))\n      delete props[\"activeDimen\"];\n    if (props.hasOwnProperty(\"activeWeight\"))\n      delete props[\"activeWeight\"];\n  });\n  /* Initialize End */\n\n  if(hasMatchParent || hasWeight){\n    let first = true;\n    /* Iterate Child */\n    children.forEach(child => {\n      let props = child.props;\n\n      if(props.hasOwnProperty(activeDimen) && props[activeDimen] == 'match_parent'){\n        props['activeDimen'] = activeDimen;\n\n        if(first){\n          props['activeWeight'] = 1;\n          first = false;\n        }else{\n          props['activeWeight'] = 0;\n        }\n      }else{\n        if(props.hasOwnProperty('weight') && !isNaN(props['weight'])){\n          let weight = parseFloat(props['weight']);\n\n          if(weight > 0){\n            props['activeDimen'] = activeDimen;\n            props['activeWeight'] = weight;\n          }\n        }\n      }\n    });\n    /* Iterate Child End */\n  }\n} // End Compute LinearLayout\n\nfunction computeChildDimens(view) {\n  if (view.type == \"linearLayout\") {\n    computeLinearlayout(view);\n  } else if (view.type == \"scrollView\" || view.type == \"listView\") {\n    view.props.orientation = \"vertical\";\n    computeLinearlayout(view);\n  } else if (view.type == \"horizontalScrollView\") {\n    view.props.orientation = \"horizontal\";\n    computeLinearlayout(view);\n  } else if (view.type == \"relativeLayout\") {\n    computeRelativeLayout(view);\n  } else {\n    // Do Nothing\n  }\n\n  return view;\n}\n\nmodule.exports = {\n  computeChildDimens\n};","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nfunction run() {\n  if (window.__OS === \"IOS\") {\n    return require(\"./ios\")\n  } else if (window.__OS === \"WEB\") {\n    return require(\"./web\")\n  } else {\n    return require(\"./android\")\n  }\n}\n\nmodule.exports = run();","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nvar parseParams = require('../helpers/web').parseParams;\n\nArray.prototype.flatten = function () {\n  return this.reduce(function (prev, cur) {\n    var more = [].concat(cur).some(Array.isArray);\n    return prev.concat(more ? cur.flatten() : cur);\n  }, []);\n};\n\nmodule.exports = function (type, props, children) {\n  // console.log(\"type is\",type); \n  // console.log(\"props are\",props); \n  // console.log(\"children is\",children); \n  // children = children.flatten();\n  // console.log(\"children after flatten is\",children);\n\n  if (!props)\n    props = {};\n  \n  if (typeof type === \"string\") {\n    //props = parseParams(type, props);\n    \n    let obj = {\n      props: props,\n      type: type,\n      children: children\n    };\n\n    window.__VIEWS[props.id] = obj; \n    window.__VIEW_DIMENSIONS[props.id] = null;\n    return obj;\n  } else {\n    return new type(props, children);\n  }\n}","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nmodule.exports = {\n  handle : (ui, callback) => {\n    if (!ui) {\n      return;\n    }\n    if(ui.render) {\n      if (typeof Android === \"undefined\")\n        throw new Error(\"Android is undefined\");\n\n      if (window.__OS != \"ANDROID\")\n        return Android.Render(ui.render, null);\n      else {\n        if(typeof Android.getNewID == \"function\") {\n          return Android.Render(JSON.stringify(ui.render), null, \"false\");\n        } else {\n          return Android.Render(JSON.stringify(ui.render), null);\n        }\n      }\n    }\n\n    if(ui.runInUI) {\n      Android.runInUI(ui.runInUI, null);\n    }\n    if(ui.addViewToParent) {\n      Android.addViewToParent(ui.addViewToParent.parentId, JSON.stringify(ui.addViewToParent.jsx), ui.addViewToParent.index, null);\n    }\n  }\n}","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\n// Following functions are used by WEB and IOS Render\nfunction cacheDimen(view) {\n  let props = view.props;\n  let dimen = {\n    w: props.w,\n    h: props.h,\n    x: props.x,\n    y: props.y,\n    gravity: props.gravity,\n    padding: props.padding,\n    orientation: props.orientation,\n    stroke: props.stroke ? props.stroke.split(\",\")[0] * 1 : 0,\n  }\n  window.__VIEW_DIMENSIONS[props.id] = dimen;\n}\n\nfunction shouldMove(view) {\n  let props = view.props;\n  let dimen = {\n    w: props.w,\n    h: props.h,\n    x: props.x,\n    y: props.y\n  };\n  let cachedDimen = window.__VIEW_DIMENSIONS[props.id];\n  let changed = false;\n  if (!cachedDimen)\n    return dimen;\n  for (let key in dimen) {\n    if (cachedDimen[key] != dimen[key]) {\n      dimen.id = props.id;\n      changed = true;\n    }\n  }\n  if (changed)\n    return dimen;\n  return null;\n}\n\nfunction getOS() {\n  var userAgent = navigator.userAgent;\n  if (!userAgent)\n    return console.error(new Error(\"UserAgent is null\"));\n  if (userAgent.includes(\"Android\") && userAgent.includes(\"Version\"))\n    return \"ANDROID\";\n  if ((userAgent.includes(\"iPhone\") || userAgent.includes(\"iPad\")) && !userAgent.includes(\"Version\"))\n    return \"IOS\";\n  return \"WEB\";\n}\n\nfunction clearViewExternals(view) {\n  if (!view)\n    return;\n\n  delete window.__VIEWS[view.props.id];\n  delete window.__VIEW_DIMENSIONS[view.props.id];\n  \n  if(__OBSERVERS[view.props.id])\n    delete window.__OBSERVERS[view.props.id];\n\n  view.children.forEach(clearViewExternals);\n}\n\n// use: clone( <thing to copy> ) returns <new copy>\nfunction clone(o, m){\n  // return non object values\n  if('object' !==typeof o) return o\n  // m: a map of old refs to new object refs to stop recursion\n  if('object' !==typeof m || null ===m) m =new WeakMap()\n  var n =m.get(o)\n  if('undefined' !==typeof n) return n\n  // shallow/leaf clone object\n  var c =Object.getPrototypeOf(o).constructor\n  // TODO: specialize copies for expected built in types i.e. Date etc\n  switch(c) {\n    // shouldn't be copied, keep reference\n    case Boolean:\n    case Error:\n    case Function:\n    case Number:\n    case Promise:\n    case String:\n    case Symbol:\n    case WeakMap:\n    case WeakSet:\n      n =o\n      break;\n    // array like/collection objects\n    case Array:\n      m.set(o, n =o.slice(0))\n      // recursive copy for child objects\n      n.forEach(function(v,i){\n        if('object' ===typeof v) n[i] =clone(v, m)\n      });\n      break;\n    case ArrayBuffer:\n      m.set(o, n =o.slice(0))\n      break;\n    case DataView:\n      m.set(o, n =new (c)(clone(o.buffer, m), o.byteOffset, o.byteLength))\n      break;\n    case Map:\n    case Set:\n      m.set(o, n =new (c)(clone(Array.from(o.entries()), m)))\n      break;\n    case Int8Array:\n    case Uint8Array:\n    case Uint8ClampedArray:\n    case Int16Array:\n    case Uint16Array:\n    case Int32Array:\n    case Uint32Array:\n    case Float32Array:\n    case Float64Array:\n      m.set(o, n =new (c)(clone(o.buffer, m), o.byteOffset, o.length))\n      break;\n    // use built in copy constructor\n    case Date:\n    case RegExp:\n      m.set(o, n =new (c)(o))\n      break;\n    // fallback generic object copy\n    default:\n      m.set(o, n =Object.assign(new (c)(), o))\n      // recursive copy for child objects\n      for(c in n) if('object' ===typeof n[c]) n[c] =clone(n[c], m)\n  }\n  return n\n}\n\nfunction merge() {\n  var obj = {},\n      i = 0,\n      il = arguments.length,\n      key;\n  for (; i < il; i++) {\n      for (key in arguments[i]) {\n          if (arguments[i].hasOwnProperty(key)) {\n              obj[key] = arguments[i][key];\n          }\n      }\n  }\n  return obj;\n};\n\nmodule.exports = {\n  shouldMove,\n  cacheDimen,\n  getOS,\n  merge,\n  clearViewExternals,\n  clone,\n}","/* \n\nThis function executes a function stored in a hashmap. \nIt takes atleast a callback string (key for hashmap) to excute the function. \nIn essence this is the read function for the global hashmap.\n./callbackMapper.j is the write function for the global hashmap. \n\nWhile the function name contains `UI` in it, it is not related to UI is any way. \nIt is mostly called after the UI is rendered but JBridge also calls it to call APIs. \n\n*/ \n\n\nfunction invokeUICallback () {\n    let args = (arguments.length === 1 ? [arguments[0]] : Array.apply(null,\n        arguments));\n    var fName = args[0]\n    var functionArgs = args.slice(1)\n    var currTime;\n    var timeDiff;\n    \n    if (window.__ALL_ONCLICKS && window.__ALL_ONCLICKS.indexOf(fName) != -1 && args[2] == \"feedback\" && JBridge && JBridge.setClickFeedback) {\n        return JBridge.setClickFeedback(args[1]);\n    }\n  \n    if (window.__THROTTELED_ACTIONS && window.__THROTTELED_ACTIONS.indexOf(fName) == -1) {\n        window.__PROXY_FN[fName].apply(null, functionArgs);\n    } else if (window.__LAST_FN_CALLED && (fName == window.__LAST_FN_CALLED.fName)) {\n        currTime = getCurrTime();\n        timeDiff = currTime - window.__LAST_FN_CALLED.timeStamp;\n  \n        if (timeDiff >= 300) {\n            window.__PROXY_FN[fName].apply(null, functionArgs);\n            window.__LAST_FN_CALLED.timeStamp = currTime;\n        } else {\n            console.warn(\"function throtteled\", fName);\n            console.warn(\"time diff\", timeDiff);\n        }\n    } else {\n        window.__PROXY_FN[fName].apply(null, functionArgs);\n        window.__LAST_FN_CALLED = {\n            timeStamp: (new Date()).getTime(),\n            fName: fName\n        }\n    }\n};\n\nmodule.exports = {\n    invoke : invokeUICallback\n};","/*\n * Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n * JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n *\n * This file is part of JUSPAY Platform.\n *\n * JUSPAY Platform is free software: you can redistribute it and/or modify\n * it for only educational purposes under the terms of the GNU Affero General\n * Public License (GNU AGPL) as published by the Free Software Foundation,\n * either version 3 of the License, or (at your option) any later version.\n * For Enterprise/Commerical licenses, contact <info@juspay.in>.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n * be liable for all damages without limitation, which is caused by the\n * ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n * damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n * The end user has NO right to claim any indemnification based on its use\n * of Licensed Software. See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n */\n\n /*\n\tThis takes a function and puts it in a hashmap called __PROXY_FN and returns the key (a string). \n\tKey is contructed using a global variables. \n\tHashmap is also a global variable. \n\tPoint To Note : Since iframes, we have different DOM Documents. So, these global variables are global to Presto-UI's document. \n */ \nmodule.exports.map = (fn) => {\n\t// console.debug(\"presto-ui callback-mapper document location\",document.location); \n\tif(typeof window.__FN_INDEX !== 'undefined' && window.__FN_INDEX !== null) {\n\t\tvar proxyFnName = 'F' + window.__FN_INDEX;\n\t\tif (window.__payload && window.__payload.service){\n\t\t\tproxyFnName = window.__payload.service + \"_\" + proxyFnName;\n\t\t}\n\t\twindow.__PROXY_FN[proxyFnName] = fn;\n\t\twindow.__FN_INDEX++;\n\t\t// console.log(\"Presto-UI Callback Mapper proxyFnName is\",proxyFnName); \n\t\treturn proxyFnName;\n\t} else {\n\t\tthrow new Error(\"Please initialise window.__FN_INDEX = 0 in index.js of your project.\");\n\t}\n}\n","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nmodule.exports = {\n\tcallbackMapper : require(\"./callbackMapper\")\n}\n","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nconst helpers = {\n\tcommon : require(\"./common\")\n};\n\n\nif (window.__OS == \"ANDROID\") {\n\thelpers.android = require(\"./android\")\n}\nelse if (window.__OS == \"WEB\") {\n\thelpers.web = require(\"./web\");\n}\nelse {\n\thelpers.ios = require(\"./ios\");\n}\n\n\nmodule.exports = helpers;","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nmodule.exports = {\n\tparseParams : require(\"./parseParams\"),\n}\n","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\n\n/*\n\n\nTHIS FILE IS REDUNDANT NOW, WEB NO LONGER CALLS ANY FUNCTION OF THIS FILE\n\n\n*/ \n\n\nArray.prototype.rotate = (function () {\n  // save references to array functions to make lookup faster\n  var push = Array.prototype.push,\n    splice = Array.prototype.splice;\n\n  return function (count) {\n    var len = this.length >>> 0, // convert to uint\n      count = count >> 0; // convert to int\n\n    // convert count to value in range [0, len)\n    count = ((count % len) + len) % len;\n\n    // use splice.call() instead of this.splice() to make function generic\n    push.apply(this, splice.call(this, 0, count));\n    return this;\n  };\n})();\n\nfunction flattenObject(ob) {\n  var toReturn = {};\n  for (var i in ob) {\n    if (!ob.hasOwnProperty(i)) continue;\n    if ((typeof ob[i]) == 'object') {\n      var flatObject = flattenObject(ob[i]);\n      for (var x in flatObject) {\n        if (!flatObject.hasOwnProperty(x)) continue;\n        if (typeof flatObject[x] !== \"undefined\")\n          toReturn[x] = flatObject[x];\n      }\n    } else {\n      toReturn[i] = ob[i];\n    }\n  }\n\n  return toReturn;\n}\n\nfunction parseColors(color) {\n  if (color.length < 8)\n    return color;\n\n  if (color.indexOf(\"rgba\") !== -1 || color.indexOf(\"rgb\") !== -1)\n    return color;\n\n  var alpha = parseInt(color.substring(1, 3), 16);\n  alpha = (alpha / 255).toFixed(2);\n\n  var hexColor = color.substring(3, 9);\n  var rgbaColor = \"rgba(\" + convertHexToRgb(hexColor) + \",\" + alpha + \")\";\n\n  return rgbaColor;\n}\n\nfunction lookAndReplaceProp(str,match, val){\n  var output = match + \"(\" + val + \"px)\";\n  if (!str) return output; \n  var start = str.indexOf(match); \n  if (start >= 0){\n    var end = str.substr(start).indexOf(\")\"); \n    if (end >= 0) {\n      var found = str.substr(start,end+1); \n      return str.replace(found,output); \n    }\n    else {\n      return str+output; \n    }\n  } \n  else return str+output; \n}\n\n\nfunction parseLayoutProps(type, config, key) {\n  if (typeof config[key] == \"undefined\" || config[key] == null) {\n    delete config[key];\n    return;\n  }\n\n  if (!config.style) {\n    var t = \"\"\n    var ele_id = document.getElementById(config.id)\n    if (ele_id) {\n      if (ele_id.style)\n        t = (ele_id.style.transform) ? ele_id.style.transform  : \"\" \n    }\n    config.style = {};\n    config.style.transform = t; \n    config.animation = {};\n    config.animation.transform = \"\";\n  }\n\n  if (!config.attributes) \n    config.attributes = {};\n\n  if (!config.style.className)\n    config.style.className = \"\";\n\n  if ((key == \"onClick\" || key == \"onClickEvent\")) {\n    if(!isMobile && !config.cursorType){\n      config.style.cursor = \"pointer\";\n    }\n  }\n  if(key == \"cursorType\") {\n    config.style.cursor = config.cursorType;\n  }\n  if (key == \"textSize\")\n    config.style.fontSize = config.textSize + 'px';\n  if (key == 'fontSize')\n    config.style.fontSize = config.fontSize + 'px';\n  \n  if (key == 'url')\n    config.attributes.src = config.url\n    \n  /*if (key == \"imageUrl\"){\n    let imageUrl = config.imageUrl;\n    \n    if(config.rawData) {\n      // Do nothing\n    } else {\n      let temp = imageUrl.split('.');\n      let ext = '';\n      if(temp && temp.length > 0)\n        ext = temp[temp.length - 1];\n      \n      let exts = [\"jpeg\", \"jpg\", \"png\", \"bmp\", \"svg\", \"gif\"];\n      ext = ext.toLowerCase();\n\n      if(!exts.includes(ext)) {\n        imageUrl += '.png';\n      }\n    }\n\n    config.attributes.src = imageUrl;\n  }*/\n\n  if (key == \"backgroundColor\") {\n    config.style.backgroundColor = parseColors(config.backgroundColor);\n  }\n\n  if (key == \"background\") {\n    config.style.background = config.background;\n  }\n  if (key == \"backgroundDrawable\") {\n    config.style[\"background-image\"] = \"url('\"+config.backgroundDrawable+\"')\";\n  }\n\n  if (key == \"color\") {\n    config.style.color = parseColors(config.color);\n  }\n\n  if(key == \"position\") {\n    config.style.position = config.position;\n  }\n\n  if(key == \"bottomFixed\") {\n    config.style.bottom = config.bottomFixed;\n  }\n  if(key == \"topFixed\") {\n    config.style.top = config.topFixed;\n  }\n  if(key == \"leftFixed\") {\n    config.style.left = config.leftFixed;\n  }\n  if(key == \"rightFixed\") {\n    config.style.right = config.rightFixed;\n  }\n\n  if(key == \"zIndex\") {\n    config.style[\"z-index\"] = config.zIndex;\n  }\n\n  if(key == \"autofocus\"){\n    var isIPhone = (navigator.userAgent.indexOf(\"iPhone\") !== -1)\n    if(config.autofocus && !isIPhone){\n      config.attributes[\"autofocus\"] = \"autofocus\";  \n    }\n  }\n  if(key==\"focus\") {\n    if (config.focus && config.id){\n      var doc = document.getElementById(config.id);\n      if (doc){\n        doc.focus();\n      }\n\n    }\n  }\n\n  if (key == \"cornerRadius\") {\n    config.style.borderRadius = config.cornerRadius + \"px\";\n  }\n\n  if (key == \"alpha\") {\n    config.style.opacity = config[key];\n  }\n\n  if (key == \"a_alpha\") {\n    config.animation.opacity = config[key];\n  }\n\n  if (key == \"fontFamily\") {\n    config.style.fontFamily = config.fontFamily;\n  }\n\n  if (key == 'typeface') {\n    switch(config.typeface){\n      case 'normal':\n        config.style.fontWeight = 400;\n      break;\n      case 'bold':\n        config.style.fontWeight = 700;\n      break;\n      case 'italic':\n        config.style.fontStyle = 'italic';\n      break;\n      case 'bold_italic':\n        config.style.fontWeight = 700;\n        config.style.fontStyle = 'italic';\n      break;\n      case 'underline':\n        config.style.textDecoration = 'underline';\n      break;\n    }\n  }\n\n  if (key == \"fontStyle\") {\n    let match = config.fontStyle.match(/[/-]/);\n    let fontName = match ? config.fontStyle.slice(0, match.index) : config.fontStyle;\n    config.style.fontFamily = fontName;\n\n    if (!match)\n      return;\n\n    let type = config.fontStyle.slice(match.index + 1);\n    type = type.replace(/[-/]/g, '');\n    type  = type.toLowerCase();\n\n    if (type.indexOf('italic') != -1)\n      config.style.fontStyle = 'italic';\n\n    let fontWeight = 0;\n\n    if (type.indexOf('extralight') != -1)\n      fontWeight = 200;\n    else if (type.indexOf('light') != -1)\n      fontWeight = 300;\n    else if (type.indexOf('regular') != -1 || type.indexOf('book') != -1)\n      fontWeight = 400;\n    else if (type.indexOf('semibold') != -1 || type.indexOf('medium') != -1)\n      fontWeight = 500;\n    else if (type.indexOf('bold') != -1 || type.indexOf('heavy') != -1)\n      fontWeight = 700;\n    else if (type.indexOf('black') != -1)\n      fontWeight = 900;\n\n    if(fontWeight > 0)\n      config.style.fontWeight = fontWeight;\n  }\n\n  if (key == 'visibility') {\n    let visibility = config.visibility;\n    if (visibility == 'invisible')\n      config.style.visibility = \"hidden\";\n    else if (visibility == 'gone')\n      config.style.display = \"none\";\n    else {\n      config.style.visibility = '';\n    }\n  } \n\n  if (key == 'expand') {\n    let visibility = config.expand + '';\n    if (visibility == 'true'){\n      config.style.visibility = '';\n    }\n    else\n      config.style.display = \"none\";\n  }\n\n  if (key == \"stroke\") {\n    let values = config.stroke.split(\",\");\n\n    if(values.length == 2)\n      config.style.border = values[0] + \"px solid \" + values[1];\n    else if(values.length == 3){\n      if (values[2] == \"rbl\"){\n        config.style.borderBottom = values[0] + \"px solid \" + values[1];\n        config.style.borderLeft = values[0] + \"px solid \" + values[1];\n        config.style.borderRight = values[0] + \"px solid \" + values[1];\n      }\n      else if (values[2] == \"b\"){\n        config.style.borderBottom = values[0] + \"px solid \" + values[1];\n      }\n      else if (values[2] == \"r\"){\n        config.style.borderRight = values[0] + \"px solid \" + values[1];\n      }\n      else if (values[2] == \"rb\"){\n        config.style.borderBottom = values[0] + \"px solid \" + values[1];\n        config.style.borderRight = values[0] + \"px solid \" + values[1];\n      }\n      else\n        config.style.border = values[0] + \"px \" + values[1] + \" \" + values[2];\n    }\n    \n  }\n\n  if (key == \"strokeTop\") {\n    let values = config.strokeTop.split(\",\");\n    \n    if(values.length == 2)\n      config.style.borderTop = values[0] + \"px solid \" + values[1];\n    else if(values.length == 3)\n      config.style.borderTop = values[0] + \"px \" + values[1] + \" \" + values[2];\n  }\n\n  if (key == \"strokeRight\") {\n    let values = config.strokeRight.split(\",\");\n    \n    if(values.length == 2)\n      config.style.borderRight = values[0] + \"px solid \" + values[1];\n    else if(values.length == 3)\n      config.style.borderRight = values[0] + \"px \" + values[1] + \" \" + values[2];\n  }\n\n  if (key == \"strokeBottom\") {\n    let values = config.strokeBottom.split(\",\");\n    \n    if(values.length == 2)\n      config.style.borderBottom = values[0] + \"px solid \" + values[1];\n    else if(values.length == 3)\n      config.style.borderBottom = values[0] + \"px \" + values[1] + \" \" + values[2];\n  }\n\n  if (key == \"strokeLeft\") {\n    let values = config.strokeLeft.split(\",\");\n    \n    if(values.length == 2)\n      config.style.borderLeft = values[0] + \"px solid \" + values[1];\n    else if(values.length == 3)\n      config.style.borderLeft = values[0] + \"px \" + values[1] + \" \" + values[2];\n  }\n\n  if (key == \"translationY\") {\n    config.style.transform = lookAndReplaceProp(config.style.transform,\"translateY\",config[key]);\n  }\n\n  if (key == \"a_translationY\") {\n    config.animation.transform += \"translateY(\" + config[key] + \"px) \";\n  }\n\n  if (key == \"translationX\") {\n    config.style.transform = lookAndReplaceProp(config.style.transform,\"translateX\",config[key]);\n  }\n\n  if (key == \"a_translationX\") {\n    config.animation.transform += \"translateX(\" + config[key] + \"px) \";\n  }\n\n  if (key == \"scaleX\") {\n    config.style.transform += \"scaleX(\" + config[key] + \") \";\n  }\n\n  if (key == \"a_scaleX\") {\n    config.animation.transform += \"scaleX(\" + config[key] + \") \";\n  }\n\n  if (key == \"scaleY\") {\n    config.style.transform += \"scaleY(\" + config[key] + \") \";\n  }\n\n  if (key == \"a_scaleY\") {\n    config.animation.transform += \"scaleY(\" + config[key] + \") \";\n  }\n\n  if (key == \"rotation\") {\n    config.style.transform += \"rotate(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"a_rotation\") {\n    config.animation.transform += \"rotate(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"rotationX\") {\n    config.style.transform += \"rotateX(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"a_rotationX\") {\n    config.animation.transform += \"rotateX(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"rotationY\") {\n    config.style.transform += \"rotateY(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"a_rotationY\") {\n    config.animation.transform += \"rotateY(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"translationZ\") {\n    var v = config[key];\n    config.style[\"-webkit-box-shadow\"] = \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n    config.style[\"-moz-box-shadow\"]= \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n    config.style[\"box-shadow\"]=  \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n    \n  }\n\n  if (key == \"a_duration\" && !isNaN(config[key])) {\n    const suffix = config.transitionTimingFunction ? (\" \" + config.transitionTimingFunction) : \"\";\n    config.animation.transition = config[key] + 'ms all' + suffix;\n  }\n  \n  if (type == \"textView\" && key == \"gravity\" && config.gravity) {\n    config.style.textAlign = config.gravity;\n    if (config.gravity == \"center_vertical\") {\n      config.style[\"align-items\"] = \"center\";\n      config.style.display = \"flex\";\n    } else if (config.gravity == \"center_horizontal\") {\n      config.style.display = \"flex\";\n      config.style[\"justify-content\"] = \"center\";\n    } else if (config.gravity == \"center\") {\n      config.style.display = \"flex\";\n      config.style[\"align-items\"] = \"center\";\n      config.style[\"justify-content\"] = \"center\";\n    }\n    else if (config.gravity == \"center\"){\n      config.style.display = \"flex\";\n      config.style[\"align-items\"] = \"center\";\n      config.style[\"justify-content\"] = \"center\";\n    }\n  }\n  if (type == \"linearLayout\" && key == \"gravity\" && config.gravity){\n    if (config.margin && config.gravity==\"center_vertical\"){\n      var margin=config.margin.split(\",\");\n      if (config.width == \"match_parent\"){\n         config.style.width=\"calc(100% - \"+(parseInt(margin[0])+parseInt(margin[2])).toString()+\"px )\";\n      }\n    }\n  }\n\n  if (key == \"hint\"){\n    config.attributes.placeholder = config.hint;\n  }\n\n  if (key == \"contentEditable\" && config.contentEditable){\n    config.attributes.contenteditable = true;\n  }\n\n  if (key == \"id\") {\n    config.attributes.id = config.id;\n  }\n\n\n  if (key == \"gradient\") {\n    var gradientObj =JSON.parse(config.gradient);\n    if (gradientObj.type == \"linear\") {\n      var angle = gradientObj.angle;\n      var values = gradientObj.values;\n      var colors = values.join(\", \");\n      config.style[\"background-image\"] = \"linear-gradient(\"+angle+\"deg, \"+colors+\")\"\n    }\n     else {\n      var values = gradientObj.values;\n      var colors = values.join(\", \");\n      config.style[\"background-image\"] = \"radial-gradient(\"+colors+\")\"\n     }\n  }\n\n\n  if (key == \"inputType\" && window.__isMOBILE && !window.__isFIREFOX) {\n    var inputType = \"text\";\n    if (config.inputType == \"numericPassword\" || config.inputType == \"password\") {\n      if(config.inputTypeI == 4 && isMobile){\n        inputType = \"tel\";\n        config.style[\"-webkit-text-security\"] = \"disc\";\n        config.style[\"-moz-text-security\"] = \"disc\";\n        config.style[\"text-security\"] = \"disc\";\n      } else {\n        inputType = \"password\"\n        config.attributes.autocomplete = \"new-password\"\n      }\n    } else if (config.inputType == \"disabled\") {\n        config.attributes.disabled = 'disabled'\n    } else if (config.inputType == \"numeric\") {\n        inputType = \"number\"\n    }\n    if (config.separator) {\n      if(config.inputType == \"numeric\"){\n        inputType = \"tel\"  \n      } else {\n        inputType = \"text\"\n      }\n    }\n\n    config.attributes.type = inputType\n  }\n\n  if (key == \"rotateImage\") {\n    if(config.rotateImage){\n      config.style[\"-webkit-animation\"] = \"load3 4s infinite linear\";\n      config.style[\"animation-duration\"] = \"4s\";\n      config.style[\"animation-timing-function\"] = \"linear\";\n      config.style[\"animation-delay\"] = \"0s\";\n      config.style[\"animation-iteration-count\"] = \"infinite\";\n      config.style[\"animation-direction\"] = \"normal\";\n      config.style[\"animation-fill-mode\"] = \"none\";\n      config.style[\"animation-play-state\"] = \"running\";\n      config.style[\"animation-name\"] = \"rotation\";\n\n    }\n  }\n\n  if (key == \"pattern\") {\n    config.attributes[\"data-pattern\"] = config.pattern;\n    var data = config.pattern.split(',');\n    var length = parseInt(data.pop());\n    if(length>10) {length = 10;}\n    config.attributes[\"size\"] =length;\n\n  }\n  // if(key == \"inputTypeI\"){\n  //   if(config.inputTypeI == 4){\n  //     config.attributes[\"inputmode\"] = \"numeric\";\n  //   }\n    \n  // }\n\n  if (key == \"separator\") {\n    config.attributes[\"separator\"] = config.separator;\n  }\n  if (key == \"separatorRepeat\") {\n    config.attributes[\"separatorRepeat\"] = config.separatorRepeat;\n  }\n\n  if (key == \"myAttr\") {\n    config.attributes[\"myAttr\"] = config.myAttr;\n  }\n  if (key == \"blurBackground\" && config.blurBackground){\n    config.style[\"backdrop-filter\"] = \"blur(3px)\";\n  }\n  if (key == \"shadow\") {\n    var shadowValues = config.shadow.split(config.shadowSeparator || ',');\n    var shadowBlur = rWS(cS(shadowValues[2]));\n    var shadowSpread = rWS(cS(shadowValues[3]));\n    var shadowOpacity = rWS(cS(shadowValues[5]));\n    var shadowOffset = {\n        x: rWS(cS(shadowValues[0])),\n        y: rWS(cS(shadowValues[1]))\n      };\n\n    var shadowColor = convertColorToRgba(shadowValues[4]);\n    var shadowType = config.shadowType ? `${config.shadowType} ` : ''\n\n    config[\"style\"][\"box-shadow\"] = shadowType + parseInt(shadowOffset.x) + \"px \" + parseInt(shadowOffset.y) + \"px \" + parseInt(shadowBlur) + \"px \" + parseInt(shadowSpread) + \"px rgba(\" + shadowColor.r + \", \" +  shadowColor.g + \", \" +  shadowColor.b + \", \" +  shadowColor.a + \")\" ;\n  }\n\n  if (key == \"lineHeight\")\n    config.style.lineHeight = config.lineHeight;\n\n  if (key == \"objectFit\")\n    config.style.objectFit = config.objectFit;\n\n  if (key == \"clickable\") {\n    config.style.pointerEvents = config.clickable ? \"auto\" : \"none\";\n  }\n  if (key == \"display\") {\n    config.style.display = config.display\n  }\n}\n\nfunction convertColorToRgba(color) {\n  color = rWS(cS(color));\n\n  var values;\n  var alpha = \"1.00\";\n\n  if (color.length >= 8) {\n    alpha = parseInt(color.substring(1, 3), 16);\n    alpha = (alpha / 255).toFixed(2);\n    color = color.substring(3, 9);\n  } else {\n    color = color.substring(1, color.length);\n  }\n\n  color = convertHexToRgb(rWS(color));\n  values = color.split(',');\n\n  return {\n    r: parseInt(rWS(values[0])),\n    g: parseInt(rWS(values[1])),\n    b: parseInt(rWS(values[2])),\n    a: parseFloat(alpha)\n  };\n}\n\nfunction convertHexToRgb(hex) {\n  var r = (parseInt(hex.substring(0, 2), 16)).toFixed(2);\n  var g = (parseInt(hex.substring(2, 4), 16)).toFixed(2);\n  var b = (parseInt(hex.substring(4, 6), 16)).toFixed(2);\n\n  return r + \",\" + g + \",\" + b;\n}\n\nfunction cS(value) {\n  return value ? value + '' : \"\";\n}\n\nfunction rWS(value) {\n  return value.replace(/ /g, '');\n}\n\nfunction setDefaults(type, config) {\n  if (type == \"linearLayout\") {\n    config.orientation = config.orientation;\n  }\n}\nfunction this_inlineAnimation(config) {\n  var con=modifyTranslation(config);\n  var element = document.getElementById(con.name);\n}\nfunction modifyTranslation(config){\n  var x = config.x || \"0\";\n  var y = config.y || \"0\";\n  var animationArray = JSON.parse(config.inlineAnimation);\n  var animationArray = animationArray.map(function(a){\n    if(a.hasOwnProperty(\"fromX\")){\n      a.fromX = parseInt(a.fromX) + parseInt(x) + '';\n      if(!a.hasOwnProperty(\"toX\")){\n        a.toX = 0 + parseInt(x) + '';\n      }\n    }\n    if(a.hasOwnProperty(\"toX\")){\n      a.toX = parseInt(a.toX) + parseInt(x) + '';\n    }\n    if(a.hasOwnProperty(\"fromY\")){\n      a.fromY = parseInt(a.fromY) + parseInt(y) + '';\n      if(!a.hasOwnProperty(\"toY\")){\n        a.toY = 0 + parseInt(y) + '';\n      }\n    }\n    if(a.hasOwnProperty(\"toY\")){\n      a.toY = parseInt(a.toY) + parseInt(y) + '';\n    }\n    return a;\n  })\n  return (animationArray);\n}\nmodule.exports = function (type, config, getSetType) {\n  // var ok = flattenObject(c);\n  // console.log(\"object after flatten\",ok); \n  // var config = ok\n  setDefaults(type, config);\n\n  // console.log(\"object after flatten\",config); \n\n\n  var keys = Object.keys(config);\n\n  for (var i = 0; i < keys.length; i++) {\n    if ((config.style && config.style.display === 'none') && keys[i] === 'gravity')  {\n      continue;\n    }\n    parseLayoutProps(type, config, keys[i]);\n  }\n\n  \n  config.transition = [\n    String(config.a_duration || 0) +\"ms\",\n    \"all\",\n    config.transitionTimingFunction\n  ]\n    .filter(Boolean)\n    .join(\" \");\n\n  if (config.style.transform == \"\") {\n    delete config.style.transform;\n  }\n  if (config.hasOwnProperty(\"inlineAnimation\")) {\n    this_inlineAnimation(config);\n  }\n\n  return config;\n}","/*\n * Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n * JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n *\n * This file is part of JUSPAY Platform.\n *\n * JUSPAY Platform is free software: you can redistribute it and/or modify\n * it for only educational purposes under the terms of the GNU Affero General\n * Public License (GNU AGPL) as published by the Free Software Foundation,\n * either version 3 of the License, or (at your option) any later version.\n * For Enterprise/Commerical licenses, contact <info@juspay.in>.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n * be liable for all damages without limitation, which is caused by the\n * ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n * damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n * The end user has NO right to claim any indemnification based on its use\n * of Licensed Software. See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n */\n\n/*\n Used to initialize defaults for window funcions and variables.\n*/\nconst { merge } = require('./helper');\nwindow.PrestoUI = require(\"./PrestoUIInterface\");\n\nconst getCurrTime = () => (new Date()).getTime()\nif(window.__OS == \"ANDROID\"){\n    var getScreenDetails = function() {\n    try {\n        let details = JSON.parse(Android.getScreenDimensions());\n        return {\n            screen_width: details.width + \"\",\n            screen_height: details.height + \"\"\n        };\n    } catch (err) {\n        console.error(\n            \"error in gettting screen dimensions, setting default values\", err);\n            return {\n                screen_width: \"1080\",\n                screen_height: \"1920\"\n            };\n        }\n    };\n    window.__DEVICE_DETAILS = getScreenDetails();\n}\n\nif (window.__OS == \"WEB\") {\n    // In case of iFrame based integration, this will cause CORS exception.\n    try {\n        window.Android = window.parent.Android?window.parent.Android:require('./WEB/AndroidInterface')\n    } catch (e){\n        window.Android = require('./WEB/AndroidInterface')\n        console.log(\"Failed to load window.parent.Android\");\n    }\n\n    window.JBridge = window.JBridge ? window.JBridge:window.parent.JBridge;\n} else if (window.__OS == \"IOS\") {\n    window.Android = require(\"./IOS/AndroidInterface\")\n    window.JBridge = merge(window.JBridge, {})\n}\n\nif (window.__DEVICE_DETAILS && window.__DEVICE_DETAILS.hasOwnProperty(\"screen_width\")) {\n    window.__WIDTH = window.__DEVICE_DETAILS.screen_width;\n} else {\n    window.__WIDTH = \"1080\";\n}\n\nif (window.__DEVICE_DETAILS && window.__DEVICE_DETAILS.hasOwnProperty(\"screen_height\")) {\n    window.__HEIGHT = window.__DEVICE_DETAILS.screen_height;\n} else {\n    window.__HEIGHT = \"1920\";\n}\n\nconst guid = Math.random().toString(36).substr(2, 9)\n\n//Intializing defaults\nif (window.__OS == \"WEB\") {\n    /* Components */\n    window.__COM_EVENT = false\n    window.__COM_RENDERED = {\n        SWITCH_GLOBAL: false,\n        DRP: {},\n        DSB: {},\n        DB: {},\n        NAVBAR: {}\n    }\n\n    window.__COM_CLASS_GROUP = {\n        WRAPPER: 'PDC_com_wrapper',\n        NAVBAR: 'PDC_com_navbar',\n        NAVBAR_ITEM: 'PDC_com_navbar_item',\n        NAVBAR_ITEM_WITH_SUB: 'PDC_com_navbar_has_sub',\n        NAVBAR_SUB: 'PDC_com_navbar_sub',\n        NAVBAR_SUB_RIGHT: 'PDC_com_navbar_sub_right',\n        NAVBAR_SUB_ITEM: 'PDC_com_navbar_subitem',\n        DRP: 'PDC_com_drp',\n        DRP_BODY: 'PDC_com_drp_body',\n        DB: 'PDC_com_db',\n        DB_FULL_BODY: 'PDC_com_db_full_body',\n        DB_BODY: 'PDC_com_db_body',\n        DB_OPTIONS: 'PDC_com_db_options',\n        DB_OPTION: 'PDC_com_db_option',\n        DSB: 'PDC_com_dsb',\n        DSB_FULL_BODY: 'PDC_com_dsb_full_body',\n        DSB_BODY: 'PDC_com_dsb_body',\n        DSB_OPTIONS: 'PDC_com_dsb_options',\n        DSB_OPTION: 'PDC_com_dsb_option',\n        DSB_SEARCH_WRAP: 'PDC_com_dsb_search_wrap',\n        DSB_SEARCH: 'PDC_com_dsb_search',\n        SWITCH: 'PDC_com_switch',\n        SWITCH_BODY: 'PDC_com_switch_body',\n        SWITCH_SLIDER: 'PDC_com_switch_slider',\n        BT: 'PDC_com_bt',\n        BT_DISABLED: 'PDC_com_bt_disabled'\n    }\n    window.__COM_COLOR_GROUP = {\n        BG: '#ffffff',\n        ACTIVE_BG: '#EEF1F8',\n        ACTIVE_COLOR: 'rgb(53, 64, 82)',\n        INACTIVE_COLOR: 'rgba(53, 64, 82, 0.5)',\n        BORDER_COLOR: '#A3AFC2',\n        ACTIVE_BORDER_COLOR: '#707886',\n        SEARCH_COLOR: '#dddddd',\n        INACTIVE_SWITCH: '#B7DBBC',\n        ACTIVE_SWITCH: '#36AF47',\n        BT_BORDER_COLOR: '#1585D8',\n        BT_BG_COLOR: '#1991EB',\n        BT_COLOR: '#ffffff'\n    }\n    window.__COM_ACTIVE = {\n        DSB: '',\n        NAVBAR: '',\n        DB: ''\n    }\n    /* Components End */\n\n    /* Modal */\n    window.__STYLE_ID = 'style_' + guid\n    window.__RENDERED_KEYFRAMES = []\n    window.__MODAL_PROPS = {}\n    window.__CONTENTMODAL_CLASS = 'PDC_modal'\n    window.__OPENMODAL_CLASS = 'PDC_modal-open'\n    window.__BACKDROPMODAL_CLASS = 'PDC_modal-backdrop'\n    window.__DISABLEDBACKDROP_CLASS = 'PDC_modal-backdrop-disabled'\n    window.__SHOWNMODAL_CLASS = 'PDC_modal-shown'\n    window.__FADEMODAL_CLASS = 'PDC_modal-fade'\n    window.__SLIDEMODAL_CLASS = 'PDC_modal-slide'\n    /* Modal End */\n\n    window.onclick = (event) => {\n        if (event.target &&\n            event.target.classList.contains(window.__BACKDROPMODAL_CLASS) &&\n            !event.target.classList.contains(window.__DISABLEDBACKDROP_CLASS)\n        ) {\n            document.body.classList.remove(window.__OPENMODAL_CLASS);\n            event.target.classList.remove(window.__SHOWNMODAL_CLASS);\n\n            let id = event.target.id;\n            id = id.replace(window.__BACKDROPMODAL_CLASS + '_', '');\n\n            let view = __VIEWS[id];\n            if (view && view.props.onDismiss && typeof view.props.onDismiss ==\n                \"function\") {\n                view.props.onDismiss();\n            }\n        }\n    }\n\n    const duiShowScreen = (callback, state) => {\n        let popupMenu = document.getElementsByClassName(\"popupMenu\");\n        for (let i = 0; i < popupMenu.length; i++) {\n            popupMenu[i].style.display = \"none\";\n        }\n    };\n    window.__duiShowScreen = duiShowScreen;\n\n} else if (window.__OS == \"IOS\") {\n    window.__COLOR_INDEX = window.__COLOR_INDEX || 1;\n    window.__FONT_INDEX = window.__FONT_INDEX || 1;\n    window.__RECT_INDEX = window.RECT_INDEX || 1;\n    window.__VIEW_INDEX = window.__VIEW_INDEX || 1;\n    window.__IMAGE_INDEX = window.__IMAGE_INDEX || 1;\n    window.__POINT_INDEX = window.__POINT_INDEX || 1;\n    window.__LAYER_INDEX = window.__LAYER_INDEX || 1;\n    window.__SIZE_INDEX = window.__SIZE_INDEX || 1;\n} else {\n    //This would be case for android\n    window.__FN_MAP = {};\n    window.__ALL_ONCLICKS = [];\n}\n\nwindow.__ID = 1;\nwindow.__NODE_ID = 1;\nwindow.__SCREEN_INDEX = -1;\n// Adding temp fix - Will be moved to mystique-web\ntry {\n    window.__PROXY_FN = window.parent.__PROXY_FN?window.parent.__PROXY_FN:{};\n} catch (error) {\n    window.__PROXY_FN = {};\n}\nwindow.__FN_INDEX = 0;\nwindow.__ROOTSCREEN = null;\nwindow.__CACHED_SCREENS = {};\nwindow.__SCREEN_COUNT = 0;\nwindow.__CURR_SCREEN = null;\nwindow.__PREV_SCREEN = null;\nwindow.__ANIMATE_DIR = null;\nwindow.__SCREEN_STACK = [];\nwindow.__LAST_FN_CALLED = null;\nwindow.__THROTTELED_ACTIONS = [];\nwindow.__isMOBILE = window.innerWidth < 550 // this line takes up 80ms out of 360ms\nwindow.__isFIREFOX = navigator.userAgent.toLowerCase().indexOf('firefox') > -1 || typeof InstallTrigger !== 'undefined';\n// Adding temp fix - Will be moved to mystique-web\ntry {\n    window.__VIEWS = window.parent.__VIEWS?window.parent.__VIEWS:{};\n} catch (error) {\n    window.__VIEWS = {};\n}\nwindow.__VIEW_DIMENSIONS = {};\nwindow.__OBSERVERS = {};\nwindow.ZIndex = 0;\n\nwindow.callUICallback = function () {\n    let args = (arguments.length === 1 ? [arguments[0]] : Array.apply(null,\n        arguments));\n    var fName = args[0]\n    var functionArgs = args.slice(1)\n    var currTime;\n    var timeDiff;\n\n    if (window.__ALL_ONCLICKS && window.__ALL_ONCLICKS.indexOf(fName) != -1 && args[2] == \"feedback\" && JBridge && JBridge.setClickFeedback) {\n        return JBridge.setClickFeedback(args[1]);\n    }\n\n    if (window.__THROTTELED_ACTIONS && window.__THROTTELED_ACTIONS.indexOf(fName) == -1) {\n        window.__PROXY_FN[fName].apply(null, functionArgs);\n    } else if (window.__LAST_FN_CALLED && (fName == window.__LAST_FN_CALLED.fName)) {\n        currTime = getCurrTime();\n        timeDiff = currTime - window.__LAST_FN_CALLED.timeStamp;\n\n        if (timeDiff >= 300) {\n            window.__PROXY_FN[fName].apply(null, functionArgs);\n            window.__LAST_FN_CALLED.timeStamp = currTime;\n        } else {\n            console.warn(\"function throtteled\", fName);\n            console.warn(\"time diff\", timeDiff);\n        }\n    } else {\n        window.__PROXY_FN[fName].apply(null, functionArgs);\n        window.__LAST_FN_CALLED = {\n            timeStamp: (new Date()).getTime(),\n            fName: fName\n        }\n    }\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(497);\n"],"sourceRoot":""}